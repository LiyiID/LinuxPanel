import{_ as e}from"./index85.js?v=1714377894636";import{w as t,x as s}from"./element-lib.js?v=1714377894636";import{dj as o,aQ as l,n as m}from"./main.js?v=1714377894636";import{e as a,b as r,v as i,f as n,j as d}from"./vue-lib.js?v=1714377894636";import{g as p,m as c,h as u}from"./xterm.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./index109.js?v=1714377894636";import"./radio-button.js?v=1714377894636";import"./index110.js?v=1714377894636";import"./check.js?v=1714377894636";const h=m(a({__name:"XtermAddCommand",props:{compData:{default:()=>({})}},setup(e,{expose:t}){const s=e,{proxy:m}=d(),{refs:{refreshCommonTable:a}}=p(),h=r({title:[{required:!0,message:"请输入命令名称",trigger:["change","blur"]}],shell:[{required:!0,message:"请输入命令内容",trigger:["change","blur"]}]}),f=i({title:"",shell:"",new_title:""});n((()=>f),((e,t)=>{e.title!==t.title&&(e.title=o(e.title)),e.shell!==t.shell&&(f.shell=o(e.shell))}));const j=()=>{const{isEditCommandView:e,rowsData:t}=s.compData;m.$refs.AddCommandForm.validate((async s=>{if(s){const s=m.$load("正在"+(e?"修改":"创建")+"命令信息，请稍后...");try{let s={data:{status:!1}};e?(f.new_title=f.title,f.title=t.title,s=await c(f)):s=await u(f);const{data:o}=s;o.status&&m.$emit("close"),m.$message.request(o),o.status&&(a.value=!0)}catch(o){}finally{s.close()}}}))},b=()=>{const{isEditCommandView:e,rowsData:t}=s.compData;l(m.$el,"title"),e?(f.title=t.title,f.shell=t.shell):m.$refs.AddCommandForm.resetFields()};return t({onOpen:b,onConfirm:j}),{__sfc:!0,vm:m,refreshCommonTable:a,props:s,hostFormRules:h,commandForm:f,onConfirm:j,onOpen:b}}}),(function(){var o=this,l=o._self._c,m=o._self._setupProxy;return l(t,{ref:"AddCommandForm",staticClass:"p-[2rem]",attrs:{model:m.commandForm,rules:m.hostFormRules,"label-width":"4rem"}},[l(s,{attrs:{label:o.$t("CommandName"),prop:"title"}},[l(e,{staticClass:"mr-4",attrs:{placeholder:"请输入命令名称",name:"title",width:"28rem"},model:{value:m.commandForm.title,callback:function(e){o.$set(m.commandForm,"title",e)},expression:"commandForm.title"}})],1),l(s,{attrs:{label:o.$t("CommandContent"),prop:"shell"}},[l(e,{staticClass:"mr-4",attrs:{type:"textarea",placeholder:"请输入命令内容",autosize:{minRows:8,maxRows:8},width:"28rem"},model:{value:m.commandForm.shell,callback:function(e){o.$set(m.commandForm,"shell",e)},expression:"commandForm.shell"}})],1)],1)}),[],!1,null,"b25ec375",null,null).exports;export{h as default};

import{Q as e,n as o,aZ as s}from"./main.js?v=1714377894636";import{e as t,b as l,h as a,j as r}from"./vue-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./element-lib.js?v=1714377894636";const n=o(t({__name:"pullImageLogDialog",props:{compData:{default:()=>({url:"",params:{},onWSReceive:()=>{}})}},setup(o,{expose:s}){const t=o;let n=null;const{proxy:p}=r(),c=l("开始拉取镜像...\n"),i=()=>{n=e({route:t.compData.url,onMessage:(e,o)=>{t.compData.onWSReceive(o,c,u)}})},m=(e,o)=>{let s={...t.compData.params};null==n||n.send(s)},u=()=>{n&&(n.close(),n=null)};return a((async()=>{await i(),m()})),s({useSocket:()=>n}),{__sfc:!0,props:t,useSocket:n,vm:p,logContent:c,createWebSocket:i,socketSend:m,closeWebSocket:u}}}),(function(){var e=this._self._c,o=this._self._setupProxy;return e("div",{staticClass:"flex-wrap"},[e(s,{staticClass:"h-[40rem] !rounded-none",attrs:{content:o.logContent}})],1)}),[],!1,null,null,null,null).exports;export{n as default};

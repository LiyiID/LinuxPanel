!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?e(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(e,r,n){var a;return a=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,r||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"),(r="symbol"==t(a)?a:String(a))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return r};var e,r={},n=Object.prototype,s=n.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function p(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(e){p=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof b?e:b,s=Object.create(a.prototype),o=new O(n||[]);return i(s,"_invoke",{value:C(t,r,o)}),s}function v(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=f;var d="suspendedStart",h="suspendedYield",m="executing",g="completed",y={};function b(){}function x(){}function w(){}var _={};p(_,c,(function(){return this}));var k=Object.getPrototypeOf,P=k&&k(k(T([])));P&&P!==n&&s.call(P,c)&&(_=P);var F=w.prototype=b.prototype=Object.create(_);function j(t){["next","throw","return"].forEach((function(e){p(t,e,(function(t){return this._invoke(e,t)}))}))}function L(e,r){function n(a,i,o,c){var u=v(e[a],e,i);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==t(p)&&s.call(p,"__await")?r.resolve(p.__await).then((function(t){n("next",t,o,c)}),(function(t){n("throw",t,o,c)})):r.resolve(p).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(t,e){function s(){return new r((function(r,a){n(t,e,r,a)}))}return a=a?a.then(s,s):s()}})}function C(t,r,n){var a=d;return function(s,i){if(a===m)throw new Error("Generator is already running");if(a===g){if("throw"===s)throw i;return{value:e,done:!0}}for(n.method=s,n.arg=i;;){var o=n.delegate;if(o){var c=D(o,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=v(t,r,n);if("normal"===u.type){if(a=n.done?g:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=g,n.method="throw",n.arg=u.arg)}}}function D(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,D(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var s=v(a,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,y;var i=s.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function $(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(r){if(r||""===r){var n=r[c];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var a=-1,i=function t(){for(;++a<r.length;)if(s.call(r,a))return t.value=r[a],t.done=!1,t;return t.value=e,t.done=!0,t};return i.next=i}}throw new TypeError(t(r)+" is not iterable")}return x.prototype=w,i(F,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=p(w,l,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,p(t,l,"GeneratorFunction")),t.prototype=Object.create(F),t},r.awrap=function(t){return{__await:t}},j(L.prototype),p(L.prototype,u,(function(){return this})),r.AsyncIterator=L,r.async=function(t,e,n,a,s){void 0===s&&(s=Promise);var i=new L(f(t,e,n,a),s);return r.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},j(F),p(F,l,"Generator"),p(F,c,(function(){return this})),p(F,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=T,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach($),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,a){return o.type="throw",o.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=s.call(i,"catchLoc"),u=s.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),$(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;$(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},r}function s(t,e,r,n,a,s,i){try{var o=t[s](i),c=o.value}catch(u){return void r(u)}o.done?e(c):Promise.resolve(c).then(n,a)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(t){s(i,n,a,o,c,"next",t)}function c(t){s(i,n,a,o,c,"throw",t)}o(void 0)}))}}System.register(["./index-legacy77.js?v=1714377894636","./preload-helper-legacy.js?v=1714377894636","./vue-lib-legacy.js?v=1714377894636","./main-legacy.js?v=1714377894636","./index-legacy120.js?v=1714377894636","./index-legacy85.js?v=1714377894636","./element-lib-legacy.js?v=1714377894636","./form-item-legacy.js?v=1714377894636","./form-legacy.js?v=1714377894636","./switch-legacy.js?v=1714377894636","./index-legacy45.js?v=1714377894636","./select-legacy.js?v=1714377894636","./confirm-legacy.js?v=1714377894636","./site.store-legacy.js?v=1714377894636","./software-legacy2.js?v=1714377894636","./tabs-legacy.js?v=1714377894636","./index-legacy42.js?v=1714377894636","./request-lib-legacy.js?v=1714377894636","./__commonjsHelpers__-legacy.js?v=1714377894636","./modulepreload-polyfill-legacy.js?v=1714377894636","./locales-lib-legacy.js?v=1714377894636","./public-lib-legacy.js?v=1714377894636","./config-legacy.js?v=1714377894636","./check-legacy.js?v=1714377894636"],(function(t,e){"use strict";var n,s,o,c,u,l,p,f,v,d,h,m,g,y,b,x,w,_,k,P,F,j,L,C,D,S,$,O,T,E,G,V,M,q,I,N,R,A,W,U,z,Q,Y,H;return{setters:[function(t){n=t._},function(t){s=t._},function(t){o=t.e,c=t.b,u=t.v,l=t.h,p=t.j},function(t){f=t.g,v=t.o,d=t.aS,h=t.bI,m=t.p,g=t.n,y=t.q,b=t.a,x=t.F,w=t.b},function(t){_=t._},function(t){k=t._},function(t){P=t.q,F=t.s,j=t.B,L=t.L,C=t.w,D=t.x},null,null,null,null,null,function(t){S=t.a},function(t){$=t.bQ,O=t.bR,T=t.bS,E=t.bT,G=t.bU,V=t.bV,M=t.bW,q=t.bX,I=t.bY,N=t.i,R=t.bZ,A=t.b_,W=t.b$,U=t.c0,z=t.ai,Q=t.c1,Y=t.c2},function(t){H=t.o},null,null,null,null,null,null,null,null,null],execute:function(){var B=o({__name:"CatalugeSetting",props:{compData:{default:function(){return{}}}},setup:function(t){var e=t,n=p().proxy,s=c(!1),o=f().refs.authType,g=u({path:"",runPath:"",dirs:[],userini:!1,sync_git:!1,logs:!1,pass:!1}),y=c(!1),b=u({ftp_status:!1,ftp_name:"",ftp_pwd:""}),x=c(!1),w=c(!1),_=u({git_addr:"",branch:"",cycle:1}),k=c(""),P=c(!1),F=c(!1),j=c({mode:"ace/mode/nginx",theme:"ace/theme/monokai",wrap:!0,showInvisibles:!1,showFoldWidgets:!1,useSoftTabs:!0,tabSize:2,showPrintMargin:!1,readOnly:!0,fontSize:"12px"}),L=u({status:!1,username:"",password:"",rePass:""}),C={username:[{required:!0,message:"账号不能为空",trigger:["blur"]}],password:[{required:!0,message:"密码不能为空",trigger:["blur"]}],rePass:[{required:!0,message:"重复密码不能为空",trigger:["blur"]},{validator:function(t,e,r){e!==L.password?r(new Error("两次输入密码不一致")):r()},trigger:["blur","change"]}]},D=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.$refs.passVisitFormRef.validate(function(){var t=i(a().mark((function t(r){var s,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=15;break}return s=n.$load("正在设置,请稍后..."),t.prev=2,t.next=5,$({id:e.compData.id,username:L.username,password:L.password});case 5:i=t.sent,n.$message.request(i),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2);case 12:return t.prev=12,s.close(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=i(a().mark((function t(r){var s,i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r){t.next=8;break}return s=n.$load("正在关闭密码访问,请稍后..."),t.next=5,O({id:e.compData.id});case 5:i=t.sent,s.close(),n.$message.request(i);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0);case 13:return t.prev=13,null===(o=s)||void 0===o||o.close(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(e){return t.apply(this,arguments)}}(),X=function(){var t=i(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T({table:"sites",key:"path",id:e.compData.id});case 3:r=t.sent,g.path=r,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),Z=function(){var t=i(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E({path:g.path,id:e.compData.id});case 3:r=t.sent,g.dirs=r.data.runPath.dirs,g.runPath=r.data.runPath.runPath,g.sync_git=r.data.sync_git,g.logs=r.data.logs,g.userini=r.data.userini,L.status=r.data.pass,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=i(a().mark((function t(){var r,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.$load("正在保存中..."),t.prev=1,t.next=4,G({path:g.path,id:e.compData.id});case 4:s=t.sent,n.$message.request(s),Z(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1);case 12:return t.prev=12,r.close(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=i(a().mark((function t(){var r,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.$load("正在设置,请稍后..."),t.prev=1,t.next=4,V({runPath:g.runPath,id:e.compData.id});case 4:s=t.sent,n.$message.request(s),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1);case 11:return t.prev=11,r.close(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(){return t.apply(this,arguments)}}(),tt=function(){var t=i(a().mark((function t(){var r,n,s,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M({site_id:e.compData.id});case 3:n=t.sent,null!==(r=n.data.info)&&void 0!==r&&r.id?(b.ftp_status=!0,b.ftp_id=null===(s=n.data.info)||void 0===s?void 0:s.id,b.ftp_name=null===(i=n.data.info)||void 0===i?void 0:i.name,b.ftp_pwd=n.data.info.password):(b.ftp_status=!1,b.ftp_name="",b.ftp_pwd="",b.ftp_id=""),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),et=function(){var t=i(a().mark((function t(s,o){var c,u,l,p;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=24;break}if(c=n.$load("正在处理中,请稍后..."),t.prev=2,b.ftp_id){t.next=6;break}return et(!0,!1),t.abrupt("return");case 6:return delete(u=r(r({site_id:e.compData.id},b),{},{siteName:e.compData.name})).ftp_status,t.next=10,q(u);case 10:l=t.sent,n.$message.request(l),y.value=!1,tt(),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2);case 19:return t.prev=19,c.close(),t.finish(19);case 22:t.next=29;break;case 24:s&&(b.ftp_name=b.ftp_name||h(12),b.ftp_pwd=b.ftp_pwd||h(12)),(p=r(r({site_id:e.compData.id},b),{},{siteName:e.compData.name})).ftp_id||delete p.ftp_id,b.ftp_status=!s,S({confirm:{icon:"warning",title:"FTP状态",message:s?"创建FTP将会同步到FTP界面，是否继续操作？":"关闭FTP后，将会删除当前网站的FTP账号，是否继续操作？"},loading:"正在处理中,请稍后...",request:function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),complete:tt});case 29:case"end":return t.stop()}}),t,null,[[2,16,19,22]])})));return function(e,r){return t.apply(this,arguments)}}(),rt=function(){var t=i(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I({path:g.path});case 3:e=t.sent,x.value=e.data.have_sync,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),nt=function(){var t=i(a().mark((function t(){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N({sName:"rsync"});case 3:return e=t.sent,r=e.data,t.next=7,H({name:"rsync",softData:r});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),at=function(){var t=i(a().mark((function t(r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("ltd"===o.value){t.next=2;break}return t.abrupt("return",m({sourceId:310,disablePro:!0}));case 2:if(r){t.next=7;break}g.sync_git=!0,S({confirm:{icon:"warning",title:"关闭git同步",message:"关闭后将不在同步git文件到网站目录，是否继续操作？"},loading:"正在关闭，请稍后...",request:function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R({site_id:e.compData.id});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),t.next=10;break;case 7:return g.sync_git=!1,t.next=10,it();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),st=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("ltd"===o.value){t.next=2;break}return t.abrupt("return",m({sourceId:310,disablePro:!0}));case 2:return t.next=4,it();case 4:w.value=!0;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),it=function(){var t=i(a().mark((function t(){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A({site_id:e.compData.id});case 3:n=t.sent,null!==(r=n.data)&&void 0!==r&&r.git_addr?(_.git_addr=n.data.git_addr,_.branch=n.data.branch,_.cycle=n.data.cycle):(_.git_addr="",_.branch="",_.cycle=1,w.value=!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),ot=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.$refs.gitFormRef.validate(function(){var t=i(a().mark((function t(s){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return");case 2:S({confirm:{icon:"warning",title:"git同步覆盖提示",message:"从git同步文件到网站目录将覆盖网站目录的文件，是否继续操作？"},loading:"正在设置，请稍后...",request:function(){var t=i(a().mark((function t(){var s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(r({site_id:e.compData.id},_));case 2:return s=t.sent,n.$message.request(s),w.value=!1,Z(),t.abrupt("return",null);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ct=function(){var t=i(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("ltd"===o.value){t.next=2;break}return t.abrupt("return",m({sourceId:310,disablePro:!0}));case 2:return t.prev=2,t.next=5,U({site_id:e.compData.id});case 5:r=t.sent,n.$message.request(r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),ut=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lt();case 2:F.value=!0;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),lt=function(){var t=i(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P.value=!0,t.prev=1,t.next=4,z({path:"/www/wwwlogs/syncsite/"+e.compData.id+".log"});case 4:r=t.sent,k.value=r.data.data||"暂无日志数据",t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1);case 11:return t.prev=11,P.value=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(){return t.apply(this,arguments)}}(),pt=function(){var t=i(a().mark((function t(){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.$load("正在处理中,请稍后..."),t.prev=1,t.next=4,Q({path:g.path});case 4:r=t.sent,n.$message.request(r),Z(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1);case 12:return t.prev=12,e.close(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(){return t.apply(this,arguments)}}(),ft=function(){var t=i(a().mark((function t(){var r,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.$load("正在处理中,请稍后..."),t.prev=1,t.next=4,Y({id:e.compData.id});case 4:s=t.sent,n.$message.request(s),Z(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1);case 12:return t.prev=12,r.close(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(){return t.apply(this,arguments)}}();return l(i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.value=!0,t.prev=1,t.next=4,X();case 4:return t.next=6,Z();case 6:return t.next=8,tt();case 8:return t.next=10,rt();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1);case 15:return t.prev=15,s.value=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))),{__sfc:!0,vm:n,props:e,viewLoading:s,authType:o,siteMessage:g,ftpPopup:y,ftpForm:b,rsyncStatus:x,gitPopup:w,gitForm:_,logsText:k,gitLogsLoading:P,gitLogPopup:F,gitRules:{git_addr:[{required:!0,message:"请输入git地址",trigger:"blur"}]},config:j,passVisitForm:L,passVisitRules:C,onPassVisitConfirm:D,onChangePassStatus:B,getPath:X,onPathChange:function(){d({type:"dir",path:g.path,change:function(t){g.path=t}})},getDirUser:Z,saveSitePath:J,setRunPath:K,getSitesFtpEvent:tt,changeFtpStatus:et,getRsync:rt,openRsync:nt,changeGit:at,openGitPopup:st,checkGit:it,addGitConfig:ot,runGit:ct,openGitLog:ut,getGitLogs:lt,setDirUser:pt,setLogs:ft,isRelease:v}}}),X=g(B,(function(){var t=this,e=t._self._c,r=t._self._setupProxy;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:r.viewLoading,expression:"viewLoading"}],staticClass:"py-16x px-12x"},[e("div",{staticClass:"formItem"},[e("span",{staticClass:"formLabel"},[t._v("网站目录")]),e(k,{staticClass:"mr-12x",attrs:{iconType:"folder",width:"32rem"},on:{folder:r.onPathChange},model:{value:r.siteMessage.path,callback:function(e){t.$set(r.siteMessage,"path",e)},expression:"siteMessage.path"}}),e(y,{on:{click:r.saveSitePath}},[t._v("保存 ")])],1),e("span",{staticClass:"formTips"},[t._v("当前网站的部署目录，可以选择其他目录")]),e("div",{staticClass:"formItem"},[e("span",{staticClass:"formLabel"},[t._v("运行目录")]),e(P,{staticClass:"mr-12x w-[32rem]",model:{value:r.siteMessage.runPath,callback:function(e){t.$set(r.siteMessage,"runPath",e)},expression:"siteMessage.runPath"}},t._l(r.siteMessage.dirs,(function(t){return e(F,{key:t,attrs:{label:t,value:t}})})),1),e(y,{on:{click:r.setRunPath}},[t._v("保存")])],1),e("span",{staticClass:"formTips"},[t._v("部分程序需要指定二级目录作为运行目录，如ThinkPHP5,Laravel")]),e("div",{staticClass:"formItem"},[e("span",{staticClass:"formLabel"},[t._v("添加FTP")]),e(j,{staticClass:"mr-12x",on:{change:r.changeFtpStatus},model:{value:r.ftpForm.ftp_status,callback:function(e){t.$set(r.ftpForm,"ftp_status",e)},expression:"ftpForm.ftp_status"}}),e("span",{staticClass:"text-[#999]"},[t._v("为当前目录添加一个FTP账号，以支持访问")]),e(b,{on:{click:function(t){r.ftpPopup=!0}}},[t._v("点击配置>>")])],1),r.isRelease?t._e():e("div",{staticClass:"formItem"},[e("span",{staticClass:"formLabel"},[t._v("文件同步")]),e(j,{staticClass:"mr-12x",model:{value:r.rsyncStatus,callback:function(t){r.rsyncStatus=t},expression:"rsyncStatus"}}),e("span",{staticClass:"text-[#999]"},[t._v("可以同步网站文件至其他服务节点 ")]),e(b,{on:{click:r.openRsync}},[t._v("点击配置>>")])],1),r.isRelease?t._e():e("div",{staticClass:"formItem"},[e("span",{staticClass:"formLabel"},[t._v("git同步 ")]),e(j,{staticClass:"mr-12x",on:{change:r.changeGit},model:{value:r.siteMessage.sync_git,callback:function(e){t.$set(r.siteMessage,"sync_git",e)},expression:"siteMessage.sync_git"}}),e(x,{staticClass:"mr-4x",attrs:{name:"icon-ltd",size:"1.6"}}),e("span",{staticClass:"text-[#999]"},[t._v("可以从git中下载文件到网站目录中")]),e(b,{on:{click:r.openGitPopup}},[t._v("点击配置>>")]),e(L,{attrs:{direction:"vertical"}}),e(b,{on:{click:r.openGitLog}},[t._v("查看日志")]),e(L,{attrs:{direction:"vertical"}}),e(b,{on:{click:r.runGit}},[t._v("立即同步")])],1),e(L),e("div",{staticClass:"formItem"},[e("span",{staticClass:"formLabel"},[t._v("防跨站攻击")]),e(j,{staticClass:"mr-12x",on:{change:r.setDirUser},model:{value:r.siteMessage.userini,callback:function(e){t.$set(r.siteMessage,"userini",e)},expression:"siteMessage.userini"}}),e("span",{staticClass:"text-[#999]"},[t._v("防跨站攻击(open_basedir)，防止黑客通过其他网站目录进行入侵攻击")])],1),e("div",{staticClass:"formItem"},[e("span",{staticClass:"formLabel"},[t._v("写访问日志")]),e(j,{staticClass:"mr-12x",on:{change:r.setLogs},model:{value:r.siteMessage.logs,callback:function(e){t.$set(r.siteMessage,"logs",e)},expression:"siteMessage.logs"}}),e("span",{staticClass:"text-[#999]"},[t._v("允许当前日志增加访问日志")])],1),e(L),e("div",{staticClass:"flex items-center"},[e("span",{staticClass:"mr-20x w-[7rem] text-right"},[t._v("密码访问")]),e(j,{on:{change:r.onChangePassStatus},model:{value:r.passVisitForm.status,callback:function(e){t.$set(r.passVisitForm,"status",e)},expression:"passVisitForm.status"}})],1),r.passVisitForm.status?e(C,{ref:"passVisitFormRef",staticClass:"mt-20x",attrs:{model:r.passVisitForm,rules:r.passVisitRules,"label-width":"70px","label-position":"right"}},[e(D,{attrs:{label:"账号",prop:"username"}},[e(k,{attrs:{placeholder:"不修改请留空"},model:{value:r.passVisitForm.username,callback:function(e){t.$set(r.passVisitForm,"username",e)},expression:"passVisitForm.username"}})],1),e(D,{attrs:{label:"访问密码",prop:"password"}},[e(k,{attrs:{type:"password",placeholder:"不修改请留空"},model:{value:r.passVisitForm.password,callback:function(e){t.$set(r.passVisitForm,"password",e)},expression:"passVisitForm.password"}})],1),e(D,{attrs:{label:"重复密码",prop:"rePass"}},[e(k,{attrs:{type:"password",placeholder:"不修改请留空"},model:{value:r.passVisitForm.rePass,callback:function(e){t.$set(r.passVisitForm,"rePass",e)},expression:"passVisitForm.rePass"}})],1),e(D,{attrs:{label:" "}},[e(y,{on:{click:r.onPassVisitConfirm}},[t._v("保存")])],1)],1):t._e(),e(w,{attrs:{title:"FTP配置",visible:r.ftpPopup,area:42,showFooter:""},on:{"update:visible":function(t){r.ftpPopup=t},confirm:function(t){return r.changeFtpStatus(!1,!0)}}},[e("div",{staticClass:"p-20x"},[e(C,{attrs:{"label-position":"right",model:r.ftpForm}},[e(D,{attrs:{label:"用户名"}},[e(k,{attrs:{placeholder:"请输入ftp用户名"},model:{value:r.ftpForm.ftp_name,callback:function(e){t.$set(r.ftpForm,"ftp_name",e)},expression:"ftpForm.ftp_name"}})],1),e(D,{attrs:{label:"密码"}},[e(k,{attrs:{placeholder:"请输入ftp密码","icon-type":"refresh",isNull:r.ftpForm.ftp_pwd},model:{value:r.ftpForm.ftp_pwd,callback:function(e){t.$set(r.ftpForm,"ftp_pwd",e)},expression:"ftpForm.ftp_pwd"}})],1),e(D,{attrs:{label:"根目录"}},[e(k,{attrs:{disabled:""},model:{value:r.siteMessage.path,callback:function(e){t.$set(r.siteMessage,"path",e)},expression:"siteMessage.path"}})],1)],1)],1)]),e(w,{attrs:{title:"配置GIT同步",visible:r.gitPopup,area:42,showFooter:""},on:{"update:visible":function(t){r.gitPopup=t},confirm:r.addGitConfig}},[e("div",{staticClass:"p-20x"},[e(C,{ref:"gitFormRef",attrs:{"label-position":"right",model:r.gitForm,rules:r.gitRules}},[e(D,{attrs:{label:"git地址",prop:"git_addr"}},[e(k,{attrs:{placeholder:"请输入git地址"},model:{value:r.gitForm.git_addr,callback:function(e){t.$set(r.gitForm,"git_addr",e)},expression:"gitForm.git_addr"}})],1),e(D,{attrs:{label:"分支"}},[e(k,{attrs:{placeholder:"请输入git分支,为空默认主分支"},model:{value:r.gitForm.branch,callback:function(e){t.$set(r.gitForm,"branch",e)},expression:"gitForm.branch"}})],1),e(D,{attrs:{label:"同步周期"}},[e(k,{attrs:{"text-type":"天",type:"number",min:1},model:{value:r.gitForm.cycle,callback:function(e){t.$set(r.gitForm,"cycle",e)},expression:"gitForm.cycle"}})],1)],1)],1)]),e(w,{attrs:{title:"GIT日志",visible:r.gitLogPopup,area:70},on:{"update:visible":function(t){r.gitLogPopup=t}}},[e("div",{staticClass:"p-20x"},[e(y,{on:{click:r.getGitLogs}},[t._v("刷新")]),e(_,{directives:[{name:"loading",rawName:"v-loading",value:r.gitLogsLoading,expression:"gitLogsLoading"}],staticClass:"!h-[54rem] !w-full my-12x",attrs:{config:r.config},model:{value:r.logsText,callback:function(t){r.logsText=t},expression:"logsText"}}),e("span",{staticClass:"text-[#999] mt-8x"},[t._v("提示：支持Ctrl + F，快捷搜索日志内容")])],1)])],1)}),[],!1,null,"086d8132",null,null).exports;t("default",g(o({__name:"SiteCataluge",props:{compData:{default:function(){return{}}}},setup:function(t){var r=t,n=p().proxy,a=c(r.compData.tabName||"catalugeTab"),i=c([{title:"网站目录",type:"catalugeTab",compData:r.compData,component:X},{title:"网站配额",compData:r.compData,type:"flowQuota",component:function(){return s((function(){return e.import("./SiteCapacityQuota-legacy.js?v=1714377894636")}),void 0,e.meta.url)}},{title:"nginx WebDav",compData:r.compData,type:"nginxWebDav",component:function(){return s((function(){return e.import("./NginxWebDav-legacy.js?v=1714377894636")}),void 0,e.meta.url)}}]);return l((function(){i.value.splice(2,1)})),{__sfc:!0,vm:n,props:r,tabActive:a,handleClickTab:function(t){},tabConfig:i}}}),(function(){var t=this._self._c,e=this._self._setupProxy;return t("div",[t(n,{attrs:{type:"navtwo",config:e.tabConfig},on:{"tab-click":e.handleClickTab},model:{value:e.tabActive,callback:function(t){e.tabActive=t},expression:"tabActive"}})],1)}),[],!1,null,"1d675dcc",null,null).exports)}}}))}();

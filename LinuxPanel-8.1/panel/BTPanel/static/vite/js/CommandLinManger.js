import{_ as e}from"./index39.js?v=1714377894636";import{a as t,n as a,q as o}from"./main.js?v=1714377894636";import{_ as s}from"./index59.js?v=1714377894636";import{e as n,b as r,H as i,h as l,j as p}from"./vue-lib.js?v=1714377894636";import{b as c}from"./index38.js?v=1714377894636";import{aU as m,aT as u}from"./site.store.js?v=1714377894636";import{a as d}from"./confirm.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./element-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./index45.js?v=1714377894636";import"./check.js?v=1714377894636";import"./config.js?v=1714377894636";const y=a(n({__name:"CommandLinManger",setup(e){const{proxy:a}=p(),o=r(""),s=r([{label:"名称",prop:"project_name",width:140,render:e=>i("div",{class:"truncate"},["project"===e.type?e.project_name:e.version,o.value===e.python_path?i("span",{class:"font-bold text-[#333]"},["【正在使用】"]):""])},c({prop:"python_path"}),{label:"操作",align:"right",render:e=>i(t,{directives:[{name:"show",value:o.value!==e.python_path}],on:{click:()=>{j(e.type,"project"===e.type?e.project_name:e.version)}}},["应用到命令行"])}]),n=r([]),y=r(!1),f=async()=>{y.value=!0;try{const e=await u("py");n.value=e.data.command_path,o.value=e.data.use}catch(e){}finally{y.value=!1}},j=async(e,t)=>{let o=a.$load("正在设置，请稍后...");try{const o=await m({env_type:e,env_key:t});if(""===t)return o;a.$message.request(o),f()}catch(s){}finally{o.close()}};return l((()=>{f()})),{__sfc:!0,vm:a,versionUsed:o,tableColumns:s,tableData:n,tableLoading:y,getVersionListEvent:f,setPythonVersionEvent:j,cancelVersion:async()=>{d({confirm:{title:"取消命令行",icon:"warning",message:"是否取消【"+o.value+"】默认命令行?"},loading:"正在设置，请稍后...",request:async()=>await j("clear",""),complete:f})}}}}),(function(){var t=this,a=t._self._c,n=t._self._setupProxy;return a("div",{staticClass:"p-20x"},[a(s,{scopedSlots:t._u([{key:"header-right",fn:function(){return[a(o,{attrs:{type:"default"},on:{click:n.cancelVersion}},[t._v("取消命令行设置")])]},proxy:!0},{key:"content",fn:function(){return[a(e,{directives:[{name:"loading",rawName:"v-loading",value:n.tableLoading,expression:"tableLoading"}],attrs:{height:"400",column:n.tableColumns,data:n.tableData}})]},proxy:!0}])})],1)}),[],!1,null,"43e0022a",null,null).exports;export{y as default};

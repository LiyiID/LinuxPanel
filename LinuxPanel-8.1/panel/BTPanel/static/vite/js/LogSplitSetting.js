import{_ as t}from"./index85.js?v=1714377894636";import{w as s,x as r}from"./element-lib.js?v=1714377894636";import{n as e}from"./main.js?v=1714377894636";import{_ as o}from"./index46.js?v=1714377894636";import{e as l,v as i,b as a,h as m,j as p}from"./vue-lib.js?v=1714377894636";import{o as n}from"./confirm.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import{H as u,I as b}from"./crontab.api.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./index.vue_vue_type_style_index_0_lang.js?v=1714377894636";import"./config.js?v=1714377894636";const f=e(l({__name:"LogSplitSetting",setup(t,{expose:s}){const{proxy:r}=p(),e=i({status:!1,numbers:0}),o=a(!1),l=a(),f=(t,s,r)=>{!/^\d+$/.test(s)||s<=0?r(new Error("请输入大于0的整数")):r()},c={numbers:[{validator:f,trigger:"blur"}]},d=async()=>{try{const t=await u(),{status:s,numbers:r}=t.data;e.status=!!s,e.numbers=r}catch(t){}},g=t=>{r.$refs.logSplit.validate((t=>{if(!t)return!1})),n({$refs:l.value,loading:o,request:async()=>{const s=await b({...e,status:e.status?1:0});r.$message.request(s),t()}})};return s({onConfirm:g}),m((()=>{d()})),{__sfc:!0,vm:r,logSplitForm:e,formDisabled:o,logSplit:l,validateNumber:f,rules:c,getSplitStatus:d,onConfirm:g}}}),(function(){var e=this,l=e._self._c,i=e._self._setupProxy;return l("div",{staticClass:"p-20x"},[l(s,{ref:"logSplit",attrs:{rules:i.rules,disabled:i.formDisabled,"label-width":"80px",model:i.logSplitForm}},[l(r,{attrs:{label:"开关状态"}},[l(o,{attrs:{width:36},model:{value:i.logSplitForm.status,callback:function(t){e.$set(i.logSplitForm,"status",t)},expression:"logSplitForm.status"}})],1),l(r,{attrs:{label:"日志保留最新",prop:"numbers"}},[l(t,{attrs:{type:"number",min:"1",textType:"份",width:"14rem"},model:{value:i.logSplitForm.numbers,callback:function(t){e.$set(i.logSplitForm,"numbers",t)},expression:"logSplitForm.numbers"}})],1)],1)],1)}),[],!1,null,null,null,null).exports;export{f as default};

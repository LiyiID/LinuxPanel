(function(){function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var o=t&&t.prototype instanceof g?t:g,s=Object.create(o.prototype),i=new L(a||[]);return r(s,"_invoke",{value:k(e,n,i)}),s}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",_="suspendedYield",m="executing",f="completed",v={};function g(){}function h(){}function b(){}var y={};u(y,s,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(R([])));x&&x!==n&&a.call(x,s)&&(y=x);var S=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function F(e,t){function n(r,o,s,i){var l=p(e[r],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==_typeof(c)&&a.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,s,i)}),(function(e){n("throw",e,s,i)})):t.resolve(c).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,i)}))}i(l.arg)}var o;r(this,"_invoke",{value:function(e,a){function r(){return new t((function(t,r){n(e,a,t,r)}))}return o=o?o.then(r,r):r()}})}function k(t,n,a){var r=d;return function(o,s){if(r===m)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw s;return{value:e,done:!0}}for(a.method=o,a.arg=s;;){var i=a.delegate;if(i){var l=$(i,a);if(l){if(l===v)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===d)throw r=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=m;var u=p(t,n,a);if("normal"===u.type){if(r=a.done?f:_,u.arg===v)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(r=f,a.method="throw",a.arg=u.arg)}}}function $(t,n){var a=n.method,r=t.iterator[a];if(r===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,$(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),v;var o=p(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(_typeof(t)+" is not iterable")}return h.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:h,configurable:!0}),h.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(F.prototype),u(F.prototype,i,(function(){return this})),t.AsyncIterator=F,t.async=function(e,n,a,r,o){void 0===o&&(o=Promise);var s=new F(c(e,n,a,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},C(S),u(S,l,"Generator"),u(S,s,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=R,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(a,r){return i.type="throw",i.arg=t,n.next=a,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],i=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=a.call(s,"catchLoc"),u=a.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:R(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),v}},t}function asyncGeneratorStep(e,t,n,a,r,o,s){try{var i=e[o](s),l=i.value}catch(u){return void n(u)}i.done?t(l):Promise.resolve(l).then(a,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){asyncGeneratorStep(o,a,r,s,i,"next",e)}function i(e){asyncGeneratorStep(o,a,r,s,i,"throw",e)}s(void 0)}))}}System.register(["./element-lib-legacy.js?v=1714377894636","./main-legacy.js?v=1714377894636","./tabs-legacy.js?v=1714377894636","./index-legacy77.js?v=1714377894636","./vue-lib-legacy.js?v=1714377894636","./select-legacy.js?v=1714377894636","./form-item-legacy.js?v=1714377894636","./index-legacy85.js?v=1714377894636","./form-legacy.js?v=1714377894636","./preload-helper-legacy.js?v=1714377894636","./check-legacy.js?v=1714377894636","./site.store-legacy.js?v=1714377894636","./site.popup-legacy.js?v=1714377894636","./confirm-legacy.js?v=1714377894636","./locales-lib-legacy.js?v=1714377894636","./__commonjsHelpers__-legacy.js?v=1714377894636","./public-lib-legacy.js?v=1714377894636","./modulepreload-polyfill-legacy.js?v=1714377894636","./request-lib-legacy.js?v=1714377894636","./index-legacy42.js?v=1714377894636","./index-legacy38.js?v=1714377894636","./index-legacy45.js?v=1714377894636","./element-ui.common-legacy.js?v=1714377894636","./date-util-legacy.js?v=1714377894636","./vdom-legacy.js?v=1714377894636","./index-legacy62.js?v=1714377894636","./cascader-panel-legacy.js?v=1714377894636","./config-legacy.js?v=1714377894636"],(function(exports,module){"use strict";var __unplugin_components_0,__unplugin_components_1,__unplugin_components_11,__unplugin_components_12,__unplugin_components_2$1,getGlobalStore,pluginInstallDialog,fileSelectionDialog,getRandomChart,dialogView,normalizeComponent,__unplugin_components_4,__unplugin_components_3,getPluginInfo$1,__unplugin_components_1$1,__unplugin_components_3$1,__unplugin_components_0$1,defineComponent,reactive,ref$1,watch,onMounted,getCurrentInstance,h,__unplugin_components_2,__vitePreload,checkVariable,getSiteStore,getPluginInfo,GetPHPVersion,addPhpSite,createWebsiteMultiple,getDeploymentList,setDeploymentInfo,classSettingDialog,templateDialog,onDefaultFormSubmit;return{setters:[function(e){__unplugin_components_0=e.w,__unplugin_components_1=e.x,__unplugin_components_11=e.q,__unplugin_components_12=e.s,__unplugin_components_2$1=e.u},function(e){getGlobalStore=e.g,pluginInstallDialog=e.e,fileSelectionDialog=e.aS,getRandomChart=e.bI,dialogView=e.l,normalizeComponent=e.n,__unplugin_components_4=e.r,__unplugin_components_3=e.a,getPluginInfo$1=e.a2,__unplugin_components_1$1=e.R,__unplugin_components_3$1=e.b},null,function(e){__unplugin_components_0$1=e._},function(e){defineComponent=e.e,reactive=e.v,ref$1=e.b,watch=e.f,onMounted=e.h,getCurrentInstance=e.j,h=e.H},null,null,function(e){__unplugin_components_2=e._},null,function(e){__vitePreload=e._},function(e){checkVariable=e.c},function(e){getSiteStore=e.g,getPluginInfo=e.i,GetPHPVersion=e.G,addPhpSite=e.E,createWebsiteMultiple=e.F,getDeploymentList=e.H,setDeploymentInfo=e.I},function(e){classSettingDialog=e.c,templateDialog=e.T},function(e){onDefaultFormSubmit=e.o},null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function execute(){var _sfc_main$3=defineComponent({__name:"AddSiteDefault",setup:function(e,t){var n,a,r,o,s=t.expose,i=getSiteStore(),l=i.refs.phpModulesTableParams,u=i.getPhpModulesList;getGlobalStore();var c=getCurrentInstance().proxy,p=reactive({database:(null===(n=JSON.parse(null!==(a=sessionStorage.getItem("BT-CONFIG"))&&void 0!==a?a:"{}").mysql)||void 0===n?void 0:n.setup)||!1,ftp:(null===(r=JSON.parse(null!==(o=sessionStorage.getItem("BT-CONFIG"))&&void 0!==o?o:"{}")["pure-ftpd"])||void 0===r?void 0:r.setup)||!1}),d=ref$1(!1),_=ref$1(),m=ref$1({menuType:"addDefault",path:"/www/wwwroot",ftp:!1,type:"PHP",type_id:0,ps:"",port:"",version:"",need_index:0,need_404:0,sql:!1,codeing:"utf8mb4",webname:"",ftp_username:"",ftp_password:"",datauser:"",datapassword:""}),f=ref$1({ftp:!0,ftpStatus:!0,ftpData:{username:"",password:""},sql:!0,databaseStatus:!0,sqlData:{username:"",password:""},siteStatus:!1,site:{name:!1}}),v="/www/wwwroot/",g=ref$1([]),h=reactive({path:[{required:!0,message:"请选择路径",trigger:"change"}],webname:[{required:!0,message:"请输入域名",trigger:"blur"}]}),b=ref$1([]),y=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getPluginInfo({sName:t});case 2:n=e.sent,a=n.data,pluginInstallDialog({name:a.name,type:a.type,pluginInfo:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GetPHPVersion();case 3:n=e.sent,g.value=n.data,a="00",null===(t=g.value)||void 0===t||t.forEach((function(e){Number(e.version)>Number(a)&&(a=e.version)})),m.value.version=a,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,getPluginInfo({sName:"php-8.2"});case 3:t=e.sent,n=t.data,pluginInstallDialog({name:"php-8.2",type:n.type,softData:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=Object.assign({},m.value)).ftp?(f.value.ftpData.username=n.ftp_username,f.value.ftpData.password=n.ftp_password):(delete n.ftp_username,delete n.ftp_password,f.value.ftp=!1),n.sql?(f.value.sqlData.username=n.datauser,f.value.sqlData.password=n.datapassword):(delete n.datauser,delete n.datapassword,f.value.sql=!1),-1!==n.webname.split("\n")[0].indexOf(":")?n.port=n.webname.split("\n")[0].split(":")[1]:n.port=80,(a=n.webname.split("\n")).shift(),n.webname=JSON.stringify({domain:n.webname.split("\n")[0],domainlist:a,count:a.length}),delete n.menuType,onDefaultFormSubmit({$refs:_.value,loading:{disable:d,text:"提交中，请稍候..."},request:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,addPhpSite(n);case 2:t=e.sent,c.$root.close(),(n.ftp||n.sql)&&(f.value.ftpStatus=t.data.ftpStatus,f.value.databaseStatus=t.data.databaseStatus,f.value.siteStatus=t.data.siteStatus,f.value.site.name=!1,dialogView({title:"网站添加结果",area:46,component:function(){return __vitePreload((function(){return module.import("./AddResult-legacy.js?v=1714377894636")}),void 0,module.meta.url)},compData:f.value})),c.$message.msg({customClass:"bt-message-error-html",dangerouslyUseHTMLString:!0,message:t.status?"添加网站成功":t.msg,type:t.status?"success":"error",duration:t.status?3e3:0,showClose:!t.status}),u();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return watch((function(){return l.value.typeList}),(function(){b.value=Object.assign([],l.value.typeList),-1===b.value[0].id&&b.value.shift()})),onMounted(_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,a,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.value=Object.assign([],l.value.typeList),-1===b.value[0].id&&b.value.shift(),e.next=4,w();case 4:(n=JSON.parse(null!==(t=sessionStorage.getItem("BT-CONFIG"))&&void 0!==t?t:"{}").sites_path)&&(r=checkVariable(n,"string",""),m.value.path=r,v=null===(a=r+"/")||void 0===a?void 0:a.replace(/\/\//g,"/"));case 6:case"end":return e.stop()}}),e)})))),s({onConfirm:S}),{__sfc:!0,phpModulesTableParams:l,getPhpModulesList:u,vm:c,softStatus:p,formDisabled:d,addSiteFormRef:_,addSiteForm:m,resultData:f,defaultPathValue:v,versionOptions:g,rules:h,typeList:b,installPlugin:y,onPathChange:function(){fileSelectionDialog({type:"dir",path:m.value.path,change:function(e){var t,n=checkVariable(e,"string","");m.value.path=n,v=null===(t=n+"/")||void 0===t?void 0:t.replace(/\/\//g,"/")}})},getPHPVersion:w,installOtherPhp:x,handleInputName:function(e){var t,n,a,r;m.value.webname=e,m.value.ps=e.split("\n")[0],m.value.path=(null===(t=v)||void 0===t?void 0:t.replace(/\/\//g,"/"))+(null===(n=e.split("\n")[0])||void 0===n||null===(n=n.replace(/:/g,"_"))||void 0===n?void 0:n.trim()),m.value.ftp_username=null===(a=e.split("\n")[0])||void 0===a||null===(a=a.replace(/\./g,"_"))||void 0===a?void 0:a.replace(/:/g,"_"),m.value.ftp_password=getRandomChart(12),m.value.datauser=null===(r=e.split("\n")[0])||void 0===r||null===(r=r.replace(/\./g,"_"))||void 0===r?void 0:r.replace(/:/g,"_"),m.value.datapassword=getRandomChart(12)},onConfirm:S,classSettingDialog:classSettingDialog}}}),_sfc_render$3=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"p-20x"},[t(__unplugin_components_0,{ref:"addSiteFormRef",attrs:{model:n.addSiteForm,rules:n.rules,disabled:n.formDisabled}},[t(__unplugin_components_1,{attrs:{label:"域名",prop:"webname"}},[t(__unplugin_components_4,{ref:"popover",attrs:{placement:"top-start","popper-class":"green-tips-popover",title:"",width:"400",trigger:"focus"}},[t("div",{staticClass:"!p-12x bg-[#20a53a] text-white"},[e._v(" 如需填写多个域名，请换行填写，每行一个域名，默认为80端口"),t("br"),e._v(" IP地址格式：192.168.1.199"),t("br"),e._v(" 泛解析添加方法 *.domain.com"),t("br"),e._v(" 如另加端口格式为 www.domain.com:88 ")]),t(__unplugin_components_2,{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{slot:"reference",type:"textarea",width:"52rem",rows:7,resize:"none",placeholder:"如需填写多个域名，请换行填写，每行一个域名，默认为80端口\nIP地址格式：192.168.1.199\n泛解析添加方法 *.domain.com\n如另加端口格式为 www.domain.com:88"},on:{input:n.handleInputName},slot:"reference",model:{value:n.addSiteForm.webname,callback:function(t){e.$set(n.addSiteForm,"webname",t)},expression:"addSiteForm.webname"}})],1)],1),t(__unplugin_components_1,{attrs:{label:"备注"}},[t(__unplugin_components_2,{attrs:{placeholder:"请输入备注,可为空",width:"52rem"},model:{value:n.addSiteForm.ps,callback:function(t){e.$set(n.addSiteForm,"ps",t)},expression:"addSiteForm.ps"}})],1),t(__unplugin_components_1,{attrs:{label:"根目录",prop:"path"}},[t(__unplugin_components_2,{attrs:{placeholder:"请输入根目录",iconType:"folder",width:"52rem"},on:{folder:n.onPathChange},model:{value:n.addSiteForm.path,callback:function(t){e.$set(n.addSiteForm,"path",t)},expression:"addSiteForm.path"}})],1),t(__unplugin_components_1,{attrs:{label:"FTP"}},[t("div",{staticClass:"items-center flex"},[t(__unplugin_components_11,{attrs:{disabled:!n.softStatus.ftp},model:{value:n.addSiteForm.ftp,callback:function(t){e.$set(n.addSiteForm,"ftp",t)},expression:"addSiteForm.ftp"}},[t(__unplugin_components_12,{attrs:{label:"不创建",value:!1}}),t(__unplugin_components_12,{attrs:{label:"创建",value:!0}})],1),n.softStatus.ftp?e._e():t("span",{staticClass:"ml-4x text-danger cursor-pointer !text-[1.2rem]",on:{click:function(e){return n.installPlugin("pureftpd")}}},[e._v("未安装FTP，点击安装")])],1)]),n.addSiteForm.ftp?t(__unplugin_components_1,{attrs:{label:"FTP账号"}},[t("div",{staticClass:"flex items-center"},[t(__unplugin_components_2,{attrs:{placeholder:"创建FTP账号"},model:{value:n.addSiteForm.ftp_username,callback:function(t){e.$set(n.addSiteForm,"ftp_username",t)},expression:"addSiteForm.ftp_username"}}),t(__unplugin_components_1,{attrs:{label:"密码"}},[t(__unplugin_components_2,{attrs:{placeholder:"FTP密码"},model:{value:n.addSiteForm.ftp_password,callback:function(t){e.$set(n.addSiteForm,"ftp_password",t)},expression:"addSiteForm.ftp_password"}})],1)],1),t("span",{staticClass:"text-[#999] text-[1.2rem]"},[e._v(" 创建站点的同时，为站点创建一个对应FTP帐户，并且FTP目录指向站点所在目录。 ")])]):e._e(),t(__unplugin_components_1,{attrs:{label:"数据库"}},[t("div",{staticClass:"flex items-center"},[t(__unplugin_components_11,{attrs:{disabled:!n.softStatus.database},model:{value:n.addSiteForm.sql,callback:function(t){e.$set(n.addSiteForm,"sql",t)},expression:"addSiteForm.sql"}},[t(__unplugin_components_12,{attrs:{label:"不创建",value:!1}}),t(__unplugin_components_12,{attrs:{label:"MySQL",value:"MySQL"}})],1),n.softStatus.database?e._e():t("span",{staticClass:"ml-4x text-danger cursor-pointer !text-[1.2rem]",on:{click:function(e){return n.installPlugin("mysql")}}},[e._v("未安装数据库，点击安装")]),n.addSiteForm.sql?t(__unplugin_components_11,{staticClass:"ml-8x",model:{value:n.addSiteForm.codeing,callback:function(t){e.$set(n.addSiteForm,"codeing",t)},expression:"addSiteForm.codeing"}},[t(__unplugin_components_12,{attrs:{label:"utf8mb4",value:"utf8mb4"}}),t(__unplugin_components_12,{attrs:{label:"utf8",value:"utf8"}}),t(__unplugin_components_12,{attrs:{label:"gbk",value:"gbk"}}),t(__unplugin_components_12,{attrs:{label:"big5",value:"big5"}})],1):e._e()],1)]),n.addSiteForm.sql?t(__unplugin_components_1,{attrs:{label:"数据库账号"}},[t("div",{staticClass:"flex items-center"},[t(__unplugin_components_2,{attrs:{placeholder:"创建数据库账号"},model:{value:n.addSiteForm.datauser,callback:function(t){e.$set(n.addSiteForm,"datauser",t)},expression:"addSiteForm.datauser"}}),t(__unplugin_components_1,{attrs:{label:"密码"}},[t(__unplugin_components_2,{attrs:{placeholder:"数据库密码"},model:{value:n.addSiteForm.datapassword,callback:function(t){e.$set(n.addSiteForm,"datapassword",t)},expression:"addSiteForm.datapassword"}})],1)],1),t("span",{staticClass:"text-[#999] text-[1.2rem]"},[e._v(" 创建站点的同时，为站点创建一个对应的数据库帐户，方便不同站点使用不同数据库。 ")])]):e._e(),t(__unplugin_components_1,{attrs:{label:"PHP版本"}},[t(__unplugin_components_11,{model:{value:n.addSiteForm.version,callback:function(t){e.$set(n.addSiteForm,"version",t)},expression:"addSiteForm.version"}},e._l(n.versionOptions,(function(e){return t(__unplugin_components_12,{key:e.value,attrs:{label:e.name,value:e.version}})})),1)],1),t(__unplugin_components_1,{attrs:{label:"网站分类"}},[t(__unplugin_components_11,{model:{value:n.addSiteForm.type_id,callback:function(t){e.$set(n.addSiteForm,"type_id",t)},expression:"addSiteForm.type_id"}},e._l(n.typeList,(function(e){return t(__unplugin_components_12,{key:e.value,attrs:{label:e.name,value:e.id}})})),1),t(__unplugin_components_3,{staticClass:"ml-8x",on:{click:function(e){return n.classSettingDialog()}}},[e._v("分类设置")])],1)],1)],1)},_sfc_staticRenderFns$3=[],__component__$3=normalizeComponent(_sfc_main$3,_sfc_render$3,_sfc_staticRenderFns$3,!1,null,"21b2925f",null,null),AddSiteDefault=__component__$3.exports,_sfc_main$2=defineComponent({__name:"BatchAddSite",setup:function setup(__props,_ref9){var expose=_ref9.expose,_getSiteStore2=getSiteStore(),batchContent=_getSiteStore2.refs.batchContent,getPhpModulesList=_getSiteStore2.getPhpModulesList,_getCurrentInstance2=getCurrentInstance(),vm=_getCurrentInstance2.proxy,content=ref$1("域名|1|0|0|0\n域名|1|0|0|0\n域名|1|0|0|0"),strim=function strim(str){var reg_str="/ /g",reg=eval(reg_str);return str=str.replace(reg,""),str},check_domain=function(e){return/^([\w\u4e00-\u9fa5\-\*]{1,100}\.){1,10}([\w\u4e00-\u9fa5\-]{1,24}|[\w\u4e00-\u9fa5\-]{1,24}\.[\w\u4e00-\u9fa5\-]{1,24})$/.test(strim(e))},check_port=function(e){return/^([1-9]|[1-9]\d|[1-9]\d{2}|[1-9]\d{3}|[1-5]\d{4}|6[0-4]\d{3}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/.test(e)},resultColumn=[{label:"名称",prop:"name"},{label:"FTP",prop:"db_status",render:function(e){return"boolean"==typeof e.db_status?h("span",{class:e.db_status?"text-primary":""},e.db_status?"已配置":"未配置"):h("span",e.db_status)}},{label:"数据库",prop:"ftp_status",render:function(e){return"boolean"==typeof e.ftp_status?h("span",{class:e.ftp_status?"text-primary":""},e.ftp_status?"已配置":"未配置"):h("span",e.ftp_status)}},{label:"结果",render:function(e){return h("span",{class:e.status?"text-primary":"text-danger truncate !w-[9.6rem] inline-block"},e.status?"操作成功":e.msg)}}],onConfirm=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,a,r,o,s,i,l,u,c,p,d,_,m,f,v,g;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=batchContent.value.split("\n"),a=[],r=0;case 3:if(!(r<n.length)){e.next=45;break}if(o=n[r],s=o.split("|"),i=[],""!==o){e.next=9;break}return e.abrupt("continue",42);case 9:l=0;case 10:if(!(l<s.length)){e.next=41;break}u=r+1,c=strim(s[l]),i.push(c),e.t0=l,e.next=0===e.t0?17:1===e.t0?33:38;break;case 17:p=c.split(","),d=0;case 19:if(!(d<p.length)){e.next=32;break}if(_=p[d].trim(),m=_.split(":"),check_domain(m[0])){e.next=25;break}return vm.$message.error("第"+u+"行,域名格式错误【"+m[0]+"】"),e.abrupt("return",!1);case 25:if(void 0===m[1]){e.next=29;break}if(check_port(m[1])){e.next=29;break}return vm.$message.error("第"+u+"行,端口格式错误【"+m[1]+"】"),e.abrupt("return",!1);case 29:d++,e.next=19;break;case 32:return e.abrupt("break",38);case 33:if("1"===c){e.next=37;break}if(!(c.indexOf("/")<-1)){e.next=37;break}return vm.$message.error("第"+u+"行,站点目录格式错误【"+c+"】"),e.abrupt("return",!1);case 37:return e.abrupt("break",38);case 38:l++,e.next=10;break;case 41:a.push(i.join("|").replace(/\r|\n/,""));case 42:r++,e.next=3;break;case 45:return f=vm.$load("正在批量添加站点,请稍后..."),e.prev=46,e.next=49,createWebsiteMultiple({create_type:"txt",websites_content:JSON.stringify(a)});case 49:v=e.sent,g=[],Object.keys(v.success).forEach((function(e){g.push({name:e,status:!0,ftp_status:v.success[e].ftp_status,db_status:v.success[e].db_status})})),Object.keys(v.error).forEach((function(e){g.push({name:e,status:!1,ftp_status:"--",db_status:"--",msg:v.error[e]})})),getPhpModulesList(),vm.$root.close(),dialogView({title:"批量添加结果",area:46,isAsync:!0,component:function(){return __vitePreload((function(){return module.import("./index-legacy63.js?v=1714377894636")}),void 0,module.meta.url)},compData:{resultColumn:resultColumn,resultData:g}}),batchContent.value="域名|1|0|0|0\n域名|1|0|0|0\n域名|1|0|0|0",e.next=62;break;case 59:e.prev=59,e.t1=e.catch(46);case 62:return e.prev=62,f.close(),e.finish(62);case 65:case"end":return e.stop()}}),e,null,[[46,59,62,65]])})));return function(t){return e.apply(this,arguments)}}();return expose({onConfirm:onConfirm}),{__sfc:!0,batchContent:batchContent,getPhpModulesList:getPhpModulesList,vm:vm,content:content,strim:strim,check_domain:check_domain,check_port:check_port,resultColumn:resultColumn,onConfirm:onConfirm}}}),_sfc_render$2=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"p-20x"},[t(__unplugin_components_2,{attrs:{type:"textarea",rows:12,resize:"none",width:"72rem"},model:{value:n.batchContent,callback:function(e){n.batchContent=e},expression:"batchContent"}}),e._m(0)],1)},_sfc_staticRenderFns$2=[function(){var e=this,t=e._self._c;return e._self._setupProxy,t("ul",{staticClass:"mt-8x text-[#999] leading-10"},[t("li",[e._v("批量格式：域名|根目录|FTP|数据库|PHP版本")]),t("li",[e._v("域名参数：多个域名用 , 分割")]),t("li",[e._v("根目录参数：填写 1 为自动创建，或输入具体目录")]),t("li",[e._v("FTP参数：填写 1 为自动创建，填写 0 为不创建")]),t("li",[e._v("数据库参数：填写 1 为自动创建，填写 0 为不创建")]),t("li",[e._v("PHP版本参数：填写 0 为静态，或输入PHP具体版本号列如：56、71、74")]),t("li",[e._v("如需添加多个站点，请换行填写")]),t("li",[e._v("案例："),t("span",[e._v("bt.cn,test.cn:8081|/www/wwwroot/bt.cn|1|1|56")])])])}],__component__$2=normalizeComponent(_sfc_main$2,_sfc_render$2,_sfc_staticRenderFns$2,!1,null,"31108bda",null,null),AddSiteBatch=__component__$2.exports,_sfc_main$1=defineComponent({__name:"AddDeployment",setup:function(e,t){var n=t.expose,a=getCurrentInstance().proxy,r=ref$1(!1),o=ref$1(),s=reactive({path:[{required:!0,message:"请选择日志路径",trigger:"change"}],webname:[{required:!0,message:"请输入域名",trigger:["change","blur"]}]}),i=getSiteStore(),l=i.refs,u=l.templateId,c=l.tempList,p=i.getPhpModulesList,d=ref$1({menuType:"addDeployment",path:"/www/wwwroot",ftp:!1,type:"PHP",type_id:0,ps:"",port:"",version:"",need_index:0,need_404:0,sql:!1,codeing:"utf8mb4",webname:"",ftp_username:"",ftp_password:"",datauser:"",datapassword:""}),_=ref$1({ftp:!0,ftpData:{username:"",password:""},sql:!0,databaseStatus:!0,sqlData:{username:"",password:""},siteStatus:!1,site:{name:""}}),m=ref$1({isSetup:!1,versions:[],version:"",code:"utf8mb4"}),f=ref$1({title:"111",version:"222"}),v=reactive({datauser:"",datapassword:"",type:"MySQL",code:"utf8mb4",version:""}),g=ref$1(null),h=ref$1([]),b=ref$1(!1),y=ref$1(!1),w=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,getDeploymentList();case 3:t=e.sent,n=t.data,c.value=n.list,h.value=n.list,g.value=n,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=null==t?void 0:t.php.split(","),m.value.versions.forEach((function(e){a.forEach((function(t){e.version===t&&n.push(t)}))})),m.value.version=n[n.length-1],v.version=m.value.version,d.value.version=m.value.version;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,getPluginInfo$1({sName:"mysql"});case 3:return t=e.sent,n=t.data,e.next=7,GetPHPVersion();case 7:a=e.sent,m.value.isSetup=n.setup,m.value.versions=a.data.filter((function(e){return"00"!==e.version})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.value=!1,d.value.datauser=v.datauser,d.value.datapassword=v.datapassword,d.value.codeing=v.code,d.value.version=m.value.version;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=Object.assign({},d.value)).ftp?(_.value.ftpData.username=n.ftp_username,_.value.ftpData.password=n.ftp_password):(delete n.ftp_username,delete n.ftp_password,_.value.ftp=!1),n.sql?(_.value.sqlData.username=n.user,_.value.sqlData.password=n.password):(delete n.datauser,delete n.datapassword,_.value.sql=!1),-1!==n.webname.split("\n")[0].indexOf(":")?n.port=n.webname.split("\n")[0].split(":")[1]:n.port=80,(s=n.webname.split("\n")).shift(),n.webname=JSON.stringify({domain:n.webname.split("\n")[0],domainlist:s,count:s.length}),delete n.menuType,onDefaultFormSubmit({$refs:o.value,loading:{disable:r,text:"提交中，请稍候..."},request:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,addPhpSite(n);case 2:return t=e.sent,a.$root.close(),r=a.$load("正在部署中..."),e.next=7,setDeploymentInfo({source:1,site_name:JSON.parse(n.webname).domain,php_version:n.version,dname:c.value.find((function(e){return e.id===u.value})).name});case 7:o=e.sent,r.close(),t.data.siteStatus&&(_.value.siteStatus=!0,_.value.site.name=JSON.parse(n.webname).domain+o.data.success_url),n.ftp||n.sql?(_.value.sqlData.username=n.datauser,_.value.sqlData.password=n.datapassword,_.value.databaseStatus=t.data.databaseStatus,dialogView({title:"网站添加结果",area:46,component:function(){return __vitePreload((function(){return module.import("./AddResult-legacy.js?v=1714377894636")}),void 0,module.meta.url)},compData:_.value})):a.$message.msg({customClass:"bt-message-error-html",dangerouslyUseHTMLString:!0,message:t.status?"添加网站成功":t.msg,type:t.status?"success":"error",duration:t.status?3e3:0,showClose:!t.status}),p();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return watch((function(){return u.value}),(function(e){var t=h.value.findIndex((function(t){return t.id===e}));t<5?(f.value={},x(h.value[t])):(f.value=h.value.find((function(t){return t.id===e})),x(f.value)),d.value.datauser="sql"+getRandomChart(6),d.value.datapassword=getRandomChart(6,"password")}),{immediate:!0}),watch((function(){return m.version}),(function(){d.value.version=m.value.version})),n({onConfirm:F}),onMounted(_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.value=!0,e.next=3,S();case 3:return e.next=5,w();case 5:return u.value=null===(t=h.value[0])||void 0===t?void 0:t.id,e.next=8,x(h.value[0]);case 8:y.value=!1,d.value.sql="MySQL",f.value={},(a=JSON.parse(null!==(n=sessionStorage.getItem("BT-CONFIG"))&&void 0!==n?n:"{}").sites_path)&&(d.value.path=a);case 13:case"end":return e.stop()}}),e)})))),{__sfc:!0,vm:a,formDisabled:r,addDeploySiteFormRef:o,rules:s,templateId:u,tempList:c,getPhpModulesList:p,addDeploySiteForm:d,resultData:_,configData:m,selectedTemplate:f,editForm:v,templateData:g,templateList:h,editPopup:b,columnLoad:y,onPathChange:function(){fileSelectionDialog({type:"dir",path:d.value.path,change:function(e){d.value.path=e}})},handleInputName:function(e){var t,n;d.value.webname=e,d.value.ps=e.split("\n")[0],d.value.path="/www/wwwroot/"+(null===(t=e.split("\n")[0])||void 0===t||null===(t=t.replace(/:/g,"_"))||void 0===t?void 0:t.trim()),d.value.datapassword=getRandomChart(),d.value.datauser=null===(n=e.split("\n")[0])||void 0===n?void 0:n.replace(/\./g,"_")},getTemplateList:w,hansleSelected:function(e){u.value=e.id},openOtherTemplate:function(){templateDialog(g.value)},handleOpen:function(){b.value=!0,v.datauser=d.value.datauser,v.datapassword=d.value.datapassword,v.version=m.value.version},getPhpVersion:x,getConfig:S,onConfirmConfig:C,onConfirm:F}}}),_sfc_render$1=function(){var e,t,n=this,a=n._self._c,r=n._self._setupProxy;return a("div",{staticClass:"p-20x pb-0 w-full"},[a("span",{staticClass:"py-8x px-12x text-[#666] bg-[#e8f6eb] !w-full block"},[n._v("快速的部署网站程序，商城、论坛、博客、框架等程序，"),a(__unplugin_components_3,{attrs:{href:"https://www.bt.cn/bbs/thread-33063-1-1.html"}},[n._v("免费入驻平台")])],1),a(__unplugin_components_0,{ref:"addDeploySiteFormRef",staticClass:"pt-12x",attrs:{model:r.addDeploySiteForm,rules:r.rules}},[a(__unplugin_components_1,{attrs:{label:"模板部署"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:r.columnLoad,expression:"columnLoad"}],staticClass:"inline-grid grid-cols-3 text-[1.2rem] gap-x-6 gap-y-2 !w-[60rem] !h-[12.3rem]"},[n._l(r.templateList,(function(e,t){return a("div",{directives:[{name:"show",rawName:"v-show",value:t<5,expression:"index < 5"}],key:e.id,staticClass:"mb-4x w-full flex items-center border border-[#ccc] py-4x px-8x rounded-4x cursor-pointer template-hover",class:{"template-focus":r.templateId===e.id},on:{click:function(t){return r.hansleSelected(e)}}},[a(__unplugin_components_4,{ref:"popover",refInFor:!0,attrs:{placement:"top-start","popper-class":"white-tips-popover",trigger:"hover"}},[a("div",{staticClass:"!p-12x flex flex-col text-[#666]"},[a("span",[n._v("名称："+n._s(e.title))]),a("span",[n._v("版本："+n._s(e.version))]),a("span",[n._v("简介："+n._s(e.ps.split("<")[0]))]),a("span",[n._v("官网："+n._s(e.official))]),a("span",[n._v("评价："+n._s(e.score))])]),a("div",{staticClass:"w-full flex items-center",attrs:{slot:"reference"},slot:"reference"},[a(__unplugin_components_1$1,{staticClass:"w-[3.6rem] mr-4x",attrs:{src:"/static/vite/images/site_dep_ico/".concat(e.name,".png")}}),a("div",{staticClass:"flex flex-col items-start leading-9 w-full"},[a("span",{staticClass:"truncate font-bold"},[n._v(n._s(e.title)+" "+n._s(e.version))]),a("span",{staticClass:"w-[14rem] truncate"},[n._v(n._s(e.ps.split("<")[0]))])])],1)])],1)})),a("div",{staticClass:"mb-8x w-full flex items-center border border-[#ccc] py-8x px-12x rounded-4x cursor-pointer template-hover",class:{"justify-center":!r.selectedTemplate.id,"template-focus":r.selectedTemplate.id},on:{click:r.openOtherTemplate}},[a("div",{staticClass:"flex items-center"},[null!==(e=r.selectedTemplate)&&void 0!==e&&e.id?a("i",{staticClass:"el-icon-success text-[3.2rem] mr-8x"}):n._e(),a("div",{staticClass:"flex flex-col items-start leading-10 w-full"},[null!==(t=r.selectedTemplate)&&void 0!==t&&t.id?a("span",{staticClass:"truncate font-bold"},[n._v(n._s(r.selectedTemplate.title)+" "+n._s(r.selectedTemplate.version))]):n._e(),a(__unplugin_components_3,[n._v("更多模板 >>")])],1)])])],2)]),a(__unplugin_components_1,{attrs:{label:"域名",prop:"webname"}},[a(__unplugin_components_4,{ref:"popover",attrs:{placement:"top-start","popper-class":"green-tips-popover",title:"",width:"400",trigger:"focus"}},[a("div",{staticClass:"!p-12x bg-[#20a53a] text-white"},[n._v(" 如需填写多个域名，请换行填写，每行一个域名，默认为80端口"),a("br"),n._v(" IP地址格式：192.168.1.199"),a("br"),n._v(" 泛解析添加方法 *.domain.com"),a("br"),n._v(" 如另加端口格式为 www.domain.com:88 ")]),a(__unplugin_components_2,{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{slot:"reference",type:"textarea",width:"52rem",rows:4,resize:"none",placeholder:"如需填写多个域名，请换行填写，每行一个域名，默认为80端口\nIP地址格式：192.168.1.199\n泛解析添加方法 *.domain.com\n如另加端口格式为 www.domain.com:88"},on:{input:r.handleInputName},slot:"reference",model:{value:r.addDeploySiteForm.webname,callback:function(e){n.$set(r.addDeploySiteForm,"webname",e)},expression:"addDeploySiteForm.webname"}})],1)],1),a(__unplugin_components_1,{attrs:{label:"备注"}},[a(__unplugin_components_2,{attrs:{placeholder:"请输入备注,可为空",width:"52rem"},model:{value:r.addDeploySiteForm.ps,callback:function(e){n.$set(r.addDeploySiteForm,"ps",e)},expression:"addDeploySiteForm.ps"}})],1),a(__unplugin_components_1,{attrs:{label:"根目录",prop:"path"}},[a(__unplugin_components_2,{attrs:{placeholder:"请输入根目录",iconType:"folder",width:"52rem"},on:{folder:r.onPathChange},model:{value:r.addDeploySiteForm.path,callback:function(e){n.$set(r.addDeploySiteForm,"path",e)},expression:"addDeploySiteForm.path"}})],1),a(__unplugin_components_1,{attrs:{label:"其他配置",prop:"other"}},[a("div",{staticClass:"flex flex-col bg-[#f8f8f8] p-12x px-16x text-[1.2rem]"},[a("div",{staticClass:"flex items-center justify-between"},[a("span",{class:{"text-danger":!r.configData.isSetup}},[n._v("数据库："+n._s(r.configData.isSetup?"MySQL数据库":"数据库未安装！"))]),a("span",[n._v("编码："+n._s(r.configData.code))]),a("span",[n._v("账号："+n._s(r.addDeploySiteForm.datauser))]),a("span",[n._v("密码："+n._s(r.addDeploySiteForm.datapassword))]),a("span",[n._v("PHP版本："+n._s(r.configData.version))])])]),a("span",{staticClass:"text-[#999]"},[n._v("其他配置初始状态为默认选择的配置项，如需修改请点击 "),a(__unplugin_components_3,{on:{click:r.handleOpen}},[n._v("编辑配置")])],1)])],1),a(__unplugin_components_3$1,{attrs:{title:"编辑配置",visible:r.editPopup,showFooter:"",area:62},on:{"update:visible":function(e){r.editPopup=e},confirm:r.onConfirmConfig}},[a("div",{staticClass:"p-20x"},[a(__unplugin_components_0,{attrs:{model:r.editForm}},[a(__unplugin_components_1,{attrs:{label:"数据库"}},[a(__unplugin_components_11,{model:{value:r.addDeploySiteForm.sql,callback:function(e){n.$set(r.addDeploySiteForm,"sql",e)},expression:"addDeploySiteForm.sql"}},[a(__unplugin_components_12,{attrs:{label:"MySQL",value:"MySQL"}})],1),a(__unplugin_components_11,{staticClass:"ml-8x",model:{value:r.editForm.code,callback:function(e){n.$set(r.editForm,"code",e)},expression:"editForm.code"}},[a(__unplugin_components_12,{attrs:{label:"utf8mb4",value:"utf8mb4"}}),a(__unplugin_components_12,{attrs:{label:"utf8",value:"utf8"}}),a(__unplugin_components_12,{attrs:{label:"gbk",value:"gbk"}}),a(__unplugin_components_12,{attrs:{label:"big5",value:"big5"}})],1)],1),a(__unplugin_components_1,{attrs:{label:"数据库账号"}},[a("div",{staticClass:"flex items-center"},[a(__unplugin_components_2,{attrs:{placeholder:"创建数据库账号",width:"17rem"},model:{value:r.editForm.datauser,callback:function(e){n.$set(r.editForm,"datauser",e)},expression:"editForm.datauser"}}),a(__unplugin_components_1,{attrs:{label:""}},[a(__unplugin_components_2,{staticClass:"ml-8x",attrs:{width:"16rem",placeholder:"数据库密码"},model:{value:r.editForm.datapassword,callback:function(e){n.$set(r.editForm,"datapassword",e)},expression:"editForm.datapassword"}})],1)],1),a("span",{staticClass:"text-[#999] text-[1.2rem]"},[n._v(" 创建站点的同时，为站点创建一个对应的数据库帐户，方便不同站点使用不同数据库。 ")])]),a(__unplugin_components_1,{attrs:{label:"PHP版本"}},[a(__unplugin_components_11,{model:{value:r.editForm.version,callback:function(e){n.$set(r.editForm,"version",e)},expression:"editForm.version"}},n._l(r.configData.versions,(function(e){return a(__unplugin_components_12,{key:e.value,attrs:{label:e.name,value:e.version}})})),1)],1)],1)],1)])],1)},_sfc_staticRenderFns$1=[],__component__$1=normalizeComponent(_sfc_main$1,_sfc_render$1,_sfc_staticRenderFns$1,!1,null,"a486c5a7",null,null),AddDeployment=__component__$1.exports,_sfc_main=defineComponent({__name:"index",setup:function(e,t){var n=t.expose,a=getCurrentInstance().proxy,r=ref$1("addDefault"),o=ref$1(),s=ref$1(),i=ref$1(),l=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,a,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("addDefault"!==r.value){e.next=5;break}return e.next=4,null===(n=o.value)||void 0===n?void 0:n.onConfirm();case 4:case 8:case 12:return e.abrupt("return");case 5:if("addDeployment"!==r.value){e.next=9;break}return e.next=8,null===(a=s.value)||void 0===a?void 0:a.onConfirm();case 9:if("addBatch"!==r.value){e.next=13;break}return e.next=12,null===(l=i.value)||void 0===l?void 0:l.onConfirm();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n({onConfirm:l}),{__sfc:!0,vm:a,tabActive:r,AddSiteDefaultRef:o,AddDeploymentRef:s,AddSiteBatchRef:i,onConfirm:l,AddSiteDefault:AddSiteDefault,AddSiteBatch:AddSiteBatch,AddDeployment:AddDeployment}}}),_sfc_render=function(){var e=this._self._c,t=this._self._setupProxy;return e("div",{staticClass:"p-20x"},[e(__unplugin_components_0$1,{attrs:{type:"navtwo"},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[e(__unplugin_components_2$1,{attrs:{label:"创建站点",name:"addDefault"}},[e(t.AddSiteDefault,{ref:"AddSiteDefaultRef"})],1),e(__unplugin_components_2$1,{attrs:{label:"一键部署",name:"addDeployment",lazy:!0}},[e(t.AddDeployment,{ref:"AddDeploymentRef"})],1),e(__unplugin_components_2$1,{attrs:{label:"批量创建",name:"addBatch",lazy:!0}},[e(t.AddSiteBatch,{ref:"AddSiteBatchRef"})],1)],1)],1)},_sfc_staticRenderFns=[],__component__=normalizeComponent(_sfc_main,_sfc_render,_sfc_staticRenderFns,!1,null,"df13e210",null,null),index=exports("default",__component__.exports)}}}))})();

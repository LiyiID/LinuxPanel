import{_ as e}from"./index77.js?v=1714377894636";import{_ as t}from"./preload-helper.js?v=1714377894636";import{e as a,b as l,h as s,j as o}from"./vue-lib.js?v=1714377894636";import{g as i,o as r,n,D as c,q as p}from"./main.js?v=1714377894636";import{_ as m}from"./index120.js?v=1714377894636";import{u,q as d,s as f}from"./element-lib.js?v=1714377894636";import{ai as v,aj as _,ak as w,al as b}from"./site.store.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./index42.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./check.js?v=1714377894636";const h=n(a({__name:"DefaultPage",setup(e,{expose:t}){const{proxy:a}=o(),{refs:{webServerType:n}}=i(),c=l("/www/server/panel/data/defaultDoc.html"),p=l(""),m=l(),u=l("utf-8"),d=l(["utf-8","GBK","GB2312","BIG5"]),f=l(!1),h=l(!1),y=l({mode:"ace/mode/nginx",theme:"ace/theme/chrome",wrap:!0,showInvisibles:!1,showFoldWidgets:!1,useSoftTabs:!0,tabSize:2,showPrintMargin:!1,readOnly:!1,fontSize:"12px"}),g=async()=>{try{h.value=!0;const{data:e}=await v({path:c.value});p.value=e.data,u.value=e.encoding||"utf-8",h.value=!1}catch(e){}},x=async()=>{try{const{data:{status:e}}=await _();f.value=1===e||"1"===e}catch(e){}};return s((()=>{g()})),t({onRefresh:()=>{c.value="/www/server/panel/data/defaultDoc.html",g()}}),{__sfc:!0,vm:a,webServerType:n,tabActive:c,editorContent:p,aceEditor:m,codeType:u,codeOption:d,isError:f,loading:h,config:y,getEditorContent:g,handleClickTab:async e=>{h.value=!0,c.value=e.name,"/www/server/panel/data/404.html"===e.name&&await x(),await g(),h.value=!1},getErrorConfig:x,setErrorEvent:async e=>{let t=a.$load("正在设置中...");try{const l=await w({status:e?1:0});a.$message.request(l),t.close()}catch(l){}finally{t.close()}},saveFile:async()=>{h.value=!0;try{const e=await b({path:c.value,data:p.value,encoding:u.value});a.$message.request(e),h.value=!1}catch(e){}},isRelease:r}}}),(function(){var t=this,a=t._self._c,l=t._self._setupProxy;return a("div",{staticClass:"flex flex-col"},[a(e,{attrs:{type:"navtwo"},on:{"tab-click":l.handleClickTab},model:{value:l.tabActive,callback:function(e){l.tabActive=e},expression:"tabActive"}},[a(u,{attrs:{label:"新建网站默认页面",name:"/www/server/panel/data/defaultDoc.html"}}),a(u,{attrs:{label:"404错误页",name:"/www/server/panel/data/404.html",lazy:!0}}),a(u,{attrs:{label:"网站不存在页",name:"/www/server/"+l.webServerType+"/"+("nginx"===l.webServerType?"html":"htdocs")+"/index.html",lazy:!0}}),a(u,{attrs:{label:"网站停用后的提示页",name:"/www/server/stop/index.html",lazy:!0}})],1),a("div",{staticClass:"flex items-center justify-between mt-20x mb-8x"},["/www/server/panel/data/404.html"!==l.tabActive||l.isRelease?t._e():a("div",[a(c,{on:{change:l.setErrorEvent},model:{value:l.isError,callback:function(e){l.isError=e},expression:"isError"}},[t._v("开启404错误页设置")])],1),t._v(" 提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换 "),a(d,{on:{change:l.saveFile},model:{value:l.codeType,callback:function(e){l.codeType=e},expression:"codeType"}},t._l(l.codeOption,(function(e,t){return a(f,{key:e,attrs:{value:e,label:e}})})),1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:l.loading,expression:"loading"}],staticClass:"h-[44rem] w-full"},[a(m,{ref:"aceEditor",staticClass:"h-[40rem] w-full",attrs:{"file-path":l.tabActive,config:l.config},model:{value:l.editorContent,callback:function(e){l.editorContent=e},expression:"editorContent"}}),a(p,{staticClass:"flex !mt-12x",on:{click:l.saveFile}},[t._v("保存")])],1)],1)}),[],!1,null,"1121d1f2",null,null).exports;const y=n(a({__name:"SiteAdvancedView",props:{compData:{default:()=>{}}},setup(e){const a=e,{proxy:i}=o(),r=l("string"==typeof a.compData?a.compData:"setDefaultPage"),n=l([{title:"修改默认页面",type:"setDefaultPage",component:h},{title:"默认站点",type:"defaultSite",component:()=>t((()=>import("./DefalutSite.js?v=1714377894636")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url)},{title:"PHP命令行版本",type:"phpCommandLine",component:()=>t((()=>import("./phpCommand.js?v=1714377894636")),__vite__mapDeps([14,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url)},{title:"HTTPS防窜站",type:"httpsOfficersSite",component:()=>t((()=>import("./AntiChannelSite.js?v=1714377894636")),__vite__mapDeps([15,1,2,3,4,5,6,7,8,9,10,16,17,18,12,13]),import.meta.url)},{title:"TLS设置",type:"tlsSetting",component:()=>t((()=>import("./TlsSetting.js?v=1714377894636")),__vite__mapDeps([19,1,2,3,4,5,6,7,8,9,10,20,21,22,12,13,23,24]),import.meta.url)},{title:"全局设置",type:"globalSetting",component:()=>t((()=>import("./GlobalSetting.js?v=1714377894636")),__vite__mapDeps([25,1,2,3,4,5,6,7,8,9,10,16,17,18,20,22,26,27,12,13]),import.meta.url)}]),c=l(["associatedDatabase","siteConfig","dnsManagement","nginxConfigTemplate"]);return s((()=>{n.value=n.value.filter((e=>!c.value.includes(e.type)))})),{__sfc:!0,vm:i,props:a,defaultActive:r,tabComponent:n,releaseTab:c}}}),(function(){var t=this._self._c,a=this._self._setupProxy;return t(e,{staticClass:"w-full h-full",attrs:{type:"left",config:a.tabComponent},model:{value:a.defaultActive,callback:function(e){a.defaultActive=e},expression:"defaultActive"}})}),[],!1,null,"95333fa7",null,null).exports;export{y as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./DefalutSite.js?v=1714377894636","./index118.js?v=1714377894636","./vue-lib.js?v=1714377894636","./__commonjsHelpers__.js?v=1714377894636","./main.js?v=1714377894636","./modulepreload-polyfill.js?v=1714377894636","./preload-helper.js?v=1714377894636","./request-lib.js?v=1714377894636","./locales-lib.js?v=1714377894636","./public-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./site.store.js?v=1714377894636","./check.js?v=1714377894636","./phpCommand.js?v=1714377894636","./AntiChannelSite.js?v=1714377894636","./index46.js?v=1714377894636","./element-lib.js?v=1714377894636","./index.vue_vue_type_style_index_0_lang.js?v=1714377894636","./TlsSetting.js?v=1714377894636","./element-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./confirm.js?v=1714377894636","./config.js?v=1714377894636","./GlobalSetting.js?v=1714377894636","./index45.js?v=1714377894636","./index85.js?v=1714377894636"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}

(function(){function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),s=new $(r||[]);return o(i,"_invoke",{value:k(e,n,s)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",_="suspendedYield",m="executing",v="completed",f={};function g(){}function j(){}function h(){}var b={};u(b,i,(function(){return this}));var F=Object.getPrototypeOf,y=F&&F(F(E([])));y&&y!==n&&r.call(y,i)&&(b=y);var w=h.prototype=g.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,a,i,s){var c=p(e[o],e,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,n,r){var o=d;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=p(t,n,r);if("normal"===u.type){if(o=r.done?v:_,u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,f;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(_typeof(t)+" is not iterable")}return j.prototype=h,o(w,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:j,configurable:!0}),j.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===j||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new A(l(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=E,$.prototype={constructor:$,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:E(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),f}},t}function asyncGeneratorStep(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){asyncGeneratorStep(a,r,o,i,s,"next",e)}function s(e){asyncGeneratorStep(a,r,o,i,s,"throw",e)}i(void 0)}))}}System.register(["./main-legacy.js?v=1714377894636","./element-lib-legacy.js?v=1714377894636","./radio-button-legacy.js?v=1714377894636","./radio-group-legacy.js?v=1714377894636","./form-item-legacy.js?v=1714377894636","./form-legacy.js?v=1714377894636","./vue-lib-legacy.js?v=1714377894636","./index-legacy85.js?v=1714377894636","./index-legacy45.js?v=1714377894636","./select-legacy.js?v=1714377894636","./confirm-legacy.js?v=1714377894636","./site.store-legacy.js?v=1714377894636","./site.popup-legacy.js?v=1714377894636","./site.rules-legacy.js?v=1714377894636","./modulepreload-polyfill-legacy.js?v=1714377894636","./preload-helper-legacy.js?v=1714377894636","./request-lib-legacy.js?v=1714377894636","./__commonjsHelpers__-legacy.js?v=1714377894636","./locales-lib-legacy.js?v=1714377894636","./public-lib-legacy.js?v=1714377894636","./config-legacy.js?v=1714377894636","./check-legacy.js?v=1714377894636","./index-legacy38.js?v=1714377894636","./element-ui.common-legacy.js?v=1714377894636","./date-util-legacy.js?v=1714377894636","./vdom-legacy.js?v=1714377894636","./index-legacy62.js?v=1714377894636","./cascader-panel-legacy.js?v=1714377894636"],(function(exports,module){"use strict";var fileSelectionDialog,normalizeComponent,__unplugin_components_8,__unplugin_components_3,__unplugin_components_4,__unplugin_components_6,isRelease,__unplugin_components_0,__unplugin_components_1,__unplugin_components_13,__unplugin_components_11,__unplugin_components_12,__unplugin_components_1$1,__unplugin_components_5,__unplugin_components_9,defineComponent,ref$1,reactive,watch,getCurrentInstance,onMounted,__unplugin_components_2,onDefaultFormSubmit,getSiteStore,returnCmd,modifyProject,createProject,advanceCheckPort,getSystemUserList,getSystemInfo,javaMangerDialog,rules;return{setters:[function(e){fileSelectionDialog=e.aS,normalizeComponent=e.n,__unplugin_components_8=e.D,__unplugin_components_3=e.a,__unplugin_components_4=e.r,__unplugin_components_6=e.q,isRelease=e.o},function(e){__unplugin_components_0=e.w,__unplugin_components_1=e.x,__unplugin_components_13=e.j,__unplugin_components_11=e.q,__unplugin_components_12=e.s,__unplugin_components_1$1=e.L,__unplugin_components_5=e.y,__unplugin_components_9=e.ab},null,null,null,null,function(e){defineComponent=e.e,ref$1=e.b,reactive=e.v,watch=e.f,getCurrentInstance=e.j,onMounted=e.h},function(e){__unplugin_components_2=e._},null,null,function(e){onDefaultFormSubmit=e.o},function(e){getSiteStore=e.g,returnCmd=e.b3,modifyProject=e.b4,createProject=e.b5,advanceCheckPort=e.b6,getSystemUserList=e.b7,getSystemInfo=e.a_},function(e){javaMangerDialog=e.m},function(e){rules=e.r},null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function execute(){var _sfc_main$3=defineComponent({__name:"SpringbootForm",props:{projectData:{default:{}},editForm:null},emits:["updateForm"],setup:function setup(__props,_ref){var expose=_ref.expose,emits=_ref.emit,props=__props,_getCurrentInstance=getCurrentInstance(),vm=_getCurrentInstance.proxy,_getSiteStore=getSiteStore(),getModulesList=_getSiteStore.getModulesList,springRef=ref$1(),formDisabled=ref$1(!1),javaAddForm=ref$1({project_type:3,project_jar:"/www/wwwroot",project_name:"",port:"",project_jdk:"",project_cmd:"",nohup_log:!0,jmx_status:!1,run_user:"www",use_project_watch:!1,auth:!1,project_ps:"",domains:"",jmx_port:"",debug:!1,is_separation:!1,release_firewall:!1,api_url:"",host_url:"http://127.0.0.1",static_path:""}),otherSetting=ref$1(!1),projectData=reactive(props.projectData),check_domain_list=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.trim().replace(" ","").split("\n"),o=0;case 2:if(!(o<r.length)){e.next=13;break}if(a=r[o],!n||check_domain_port(a)){e.next=7;break}return vm.$message.error("第"+(o+1)+"行【"+a+"】域名格式错误"),e.abrupt("return",!1);case 7:if(n||check_domain(a)){e.next=10;break}return vm.$message.error("第"+(o+1)+"行【"+a+"】域名格式错误"),e.abrupt("return",!1);case 10:o++,e.next=2;break;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),check_domain_port=function(e){return/^([\w\u4e00-\u9fa5\-\*]{1,100}\.){1,10}([\w\u4e00-\u9fa5\-]{1,24}|[\w\u4e00-\u9fa5\-]{1,24}\.[\w\u4e00-\u9fa5\-]{1,24})(:([1-9]|[1-9]\d|[1-9]\d{2}|[1-9]\d{3}|[1-5]\d{4}|6[0-4]\d{3}|65[0-4]\d{2}|655[0-2]\d|6553[0-5]))?$/.test(strim(e))},check_domain=function(e){return/^([\w\u4e00-\u9fa5\-\*]{1,100}\.){1,10}([\w\u4e00-\u9fa5\-]{1,24}|[\w\u4e00-\u9fa5\-]{1,24}\.[\w\u4e00-\u9fa5\-]{1,24})$/.test(strim(e))},strim=function strim(str){var reg_str="/ /g",reg=eval(reg_str);return str=str.replace(reg,""),str},onPathChange=function(){fileSelectionDialog({type:"file",path:javaAddForm.value.project_jar,change:function(e){var t;javaAddForm.value.project_jar=e;var n=null===(t=e.substring(e.lastIndexOf("/")+1))||void 0===t?void 0:t.replace(/\./g,"_");javaAddForm.value.project_name=n,javaAddForm.value.project_ps=n;var r=e.substring(0,e.lastIndexOf("/"));javaAddForm.value.static_path=r,returnCmdEvent(0)}})},changeDebug=function(e){javaAddForm.value.debug=!1,e?(vm.$confirm({title:"警告",message:"此功能为远程调试配合IDEA使用，不建议在生产环境使用，调试端口随机生成，端口号请查看生成的命令,默认不开放此端口,需自行开放。",icon:"warning"}),javaAddForm.value.debug=!0,returnCmdEvent(3)):javaAddForm.value.debug=!1},changeName=function(e){javaAddForm.value.project_ps=e},changeJdk=function(e){javaAddForm.value.project_jdk=e,e&&returnCmdEvent(2)},onStaticPathChange=function(){fileSelectionDialog({type:"dir",path:javaAddForm.value.static_path,change:function(e){javaAddForm.value.static_path=e}})},changeCmdValue=function(){var e,t=null===(e=javaAddForm.value.project_cmd)||void 0===e?void 0:e.match(/--server.port=(\d+)/);t&&(javaAddForm.value.port=t[1])},returnCmdEvent=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(javaAddForm.value.debug=!1,3===t&&(vm.$confirm({title:"警告",message:"此功能为远程调试配合IDEA使用，不建议在生产环境使用，调试端口随机生成，端口号请查看生成的命令,默认不开放此端口,需自行开放。",icon:"warning"}),javaAddForm.value.debug=!0),1!==t||"/www/wwwroot"!==javaAddForm.value.project_jar){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,n={type:t,project_name:javaAddForm.value.project_name,project_cmd:javaAddForm.value.project_cmd,project_jar:javaAddForm.value.project_jar,project_jdk:javaAddForm.value.project_jdk,jmx_status:javaAddForm.value.jmx_status,debug:javaAddForm.value.debug,port:javaAddForm.value.port},e.next=8,returnCmd({data:JSON.stringify(n)});case 8:if((r=e.sent).status){e.next=11;break}return e.abrupt("return",vm.$message.request(r));case 11:javaAddForm.value.project_cmd=r.data.msg,javaAddForm.value.port=r.data.msg.match(/--server.port=(\d+)/)[1],javaAddForm.value.host_url="http://127.0.0.1:".concat(javaAddForm.value.port),o="Dcom.sun.management.jmxremote.port",javaAddForm.value.jmx_port=r.data.msg.substr(r.data.msg.indexOf(o)+34+1,4),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4);case 21:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),onConfirm=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=props.editForm)&&void 0!==t&&t.isEdit&&(javaAddForm.value.project_type=3,javaAddForm.value.domains=props.editForm.name,javaAddForm.value.project_path="",javaAddForm.value.tomcat_version=0,javaAddForm.value.release_firewall=!1,javaAddForm.value.debug=javaAddForm.value.debug?1:0,delete javaAddForm.value.jmx_info,javaAddForm.value.log_conf,delete javaAddForm.value.logs,javaAddForm.value.scripts),!javaAddForm.value.domains||null!==(n=props.editForm)&&void 0!==n&&n.isEdit){e.next=7;break}return e.next=4,check_domain_list(javaAddForm.value.domains);case 4:if(o=e.sent){e.next=7;break}return e.abrupt("return",o);case 7:null!==(r=props.editForm)&&void 0!==r&&r.isEdit&&(a=vm.$load("正在修改项目中，请稍后...")),onDefaultFormSubmit({$refs:springRef.value,loading:{disable:formDisabled},request:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=props.editForm)||void 0===t||!t.isEdit){e.next=7;break}return e.next=3,modifyProject({data:JSON.stringify(javaAddForm.value)},"java");case 3:return o=e.sent,vm.$message.request(o),null===(r=a)||void 0===r||r.close(),e.abrupt("return",null);case 7:return e.next=9,createProject({data:JSON.stringify(_objectSpread(_objectSpread({},javaAddForm.value),{},{domains:javaAddForm.value.domains?null===(n=javaAddForm.value.domains)||void 0===n?void 0:n.split("\n"):[]}))},"java");case 9:return i=e.sent,e.abrupt("return",{status:i.data.status,msg:i.data.status?i.data.data||i.data.msg:i.data.error_msg});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),complete:function(){return _asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:getModulesList("java");case 1:case"end":return e.stop()}}),e)})))()}});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return watch((function(){return props.projectData.jdk_info.length}),(function(){var e;javaAddForm.value.project_jdk=null===(e=props.projectData.jdk_info[0])||void 0===e?void 0:e.path}),{immediate:!0,deep:!0}),watch((function(){return props.editForm}),(function(){props.editForm&&(javaAddForm.value=_objectSpread(_objectSpread({},props.editForm.project_config),{},{nohup_log:1===props.editForm.project_config.nohup_log,is_separation:1===props.editForm.project_config.is_separation,project_ps:props.editForm.ps,debug:props.editForm.debug,use_project_watch:props.editForm.use_project_watch,api_url:props.editForm.project_config.api_url}),otherSetting.value=!0)}),{immediate:!0,deep:!0}),expose({onConfirm:onConfirm}),{__sfc:!0,props:props,vm:vm,getModulesList:getModulesList,springRef:springRef,formDisabled:formDisabled,javaAddForm:javaAddForm,otherSetting:otherSetting,projectData:projectData,emits:emits,check_domain_list:check_domain_list,check_domain_port:check_domain_port,check_domain:check_domain,strim:strim,onPathChange:onPathChange,changeDebug:changeDebug,changeName:changeName,changeJdk:changeJdk,onStaticPathChange:onStaticPathChange,changeCmdValue:changeCmdValue,returnCmdEvent:returnCmdEvent,onConfirm:onConfirm,javaMangerDialog:javaMangerDialog,rules:rules}}}),_sfc_render$3=function(){var e,t,n,r,o,a,i,s,c,u,l,p,d=this,_=d._self._c,m=d._self._setupProxy;return _("div",{staticClass:"mt-20x"},[_(__unplugin_components_0,{ref:"springRef",attrs:{model:m.javaAddForm,disabled:m.formDisabled,"label-width":"100px",rules:m.rules}},[_(__unplugin_components_1,{attrs:{label:"项目jar路径",prop:"project_jar"}},[_(__unplugin_components_2,{attrs:{width:"32rem",disabled:null===(e=d.editForm)||void 0===e?void 0:e.isEdit,"icon-type":(null===(t=d.editForm)||void 0===t||!t.isEdit)&&"folder"},on:{folder:m.onPathChange},model:{value:m.javaAddForm.project_jar,callback:function(e){d.$set(m.javaAddForm,"project_jar",e)},expression:"javaAddForm.project_jar"}})],1),_(__unplugin_components_1,{attrs:{label:"项目名称",prop:"project_name"}},[_(__unplugin_components_2,{attrs:{disabled:null===(n=d.editForm)||void 0===n?void 0:n.isEdit,width:"32rem",placeholder:"选择项目文件，自动获取名称"},on:{change:m.changeName},model:{value:m.javaAddForm.project_name,callback:function(e){d.$set(m.javaAddForm,"project_name",e)},expression:"javaAddForm.project_name"}})],1),_(__unplugin_components_1,{attrs:{label:"项目端口",prop:"port"}},[_("div",{staticClass:"flex items-center"},[_(__unplugin_components_2,{staticClass:"mr-12x",attrs:{width:"20rem",type:"number",placeholder:"选择项目文件，自动获取端口"},on:{change:function(e){return m.returnCmdEvent(1)}},model:{value:m.javaAddForm.port,callback:function(e){d.$set(m.javaAddForm,"port",e)},expression:"javaAddForm.port"}}),null!==(r=d.editForm)&&void 0!==r&&r.isEdit?d._e():_(__unplugin_components_8,{model:{value:m.javaAddForm.release_firewall,callback:function(e){d.$set(m.javaAddForm,"release_firewall",e)},expression:"javaAddForm.release_firewall"}},[d._v(" 放行端口 "),_(__unplugin_components_13,{staticClass:"item",attrs:{effect:"dark",content:"选中将在防火墙安全组放行监听端口，放行后该项目可在外网访问",placement:"right"}},[_("i",{staticClass:"el-icon-question text-warning"})])],1)],1)]),_(__unplugin_components_1,{attrs:{label:"项目JDK",prop:"project_jdk"}},[_("div",{staticClass:"flex items-center"},[_(__unplugin_components_11,{staticClass:"w-[32rem]",attrs:{disabled:!m.projectData.jdk_info},on:{change:m.changeJdk},model:{value:m.javaAddForm.project_jdk,callback:function(e){d.$set(m.javaAddForm,"project_jdk",e)},expression:"javaAddForm.project_jdk"}},d._l(m.projectData.jdk_info,(function(e,t){return _(__unplugin_components_12,{key:t,attrs:{value:e.path,label:e.name+"["+e.path+"]"}})})),1),_(__unplugin_components_3,{staticClass:"ml-8x",on:{click:function(e){return m.javaMangerDialog("")}}},[d._v("添加JDK信息")])],1)]),_(__unplugin_components_1,{attrs:{label:"项目执行命令",prop:"project_cmd"}},[_(__unplugin_components_2,{attrs:{width:"40rem",type:"textarea",rows:4,resize:"none",placeholder:"选择项目jar文件，自动获取项目执行命令"},on:{blur:m.changeCmdValue},model:{value:m.javaAddForm.project_cmd,callback:function(e){d.$set(m.javaAddForm,"project_cmd",e)},expression:"javaAddForm.project_cmd"}})],1),_(__unplugin_components_1,{attrs:{label:"jmx监控"}},[_(__unplugin_components_8,{attrs:{disabled:!m.javaAddForm.project_cmd},on:{change:function(e){return m.returnCmdEvent(4)}},model:{value:m.javaAddForm.jmx_status,callback:function(e){d.$set(m.javaAddForm,"jmx_status",e)},expression:"javaAddForm.jmx_status"}},[d._v(" 设置jmx后可在性能监控中查询项目性能信息 ")])],1),_(__unplugin_components_1,{attrs:{label:"项目用户"}},[_("div",{staticClass:"flex items-center"},[_(__unplugin_components_11,{staticClass:"mr-8x w-[16rem]",model:{value:m.javaAddForm.run_user,callback:function(e){d.$set(m.javaAddForm,"run_user",e)},expression:"javaAddForm.run_user"}},d._l(m.projectData.userList,(function(e){return _(__unplugin_components_12,{key:e,attrs:{value:e,label:e}})})),1),_("span",{staticClass:"text-[1.2rem] text-[#666]"},[d._v("* 无特殊需求请选择www用户")])],1)]),_(__unplugin_components_1,{attrs:{label:"开机启动"}},[_(__unplugin_components_8,{model:{value:m.javaAddForm.auth,callback:function(e){d.$set(m.javaAddForm,"auth",e)},expression:"javaAddForm.auth"}},[d._v("是否设置开机自动启动（默认自带守护进程每120秒检测一次）")])],1),_(__unplugin_components_1,{attrs:{label:"项目备注"}},[_(__unplugin_components_2,{attrs:{width:"32rem",placeholder:"输入项目备注，非必填"},model:{value:m.javaAddForm.project_ps,callback:function(e){d.$set(m.javaAddForm,"project_ps",e)},expression:"javaAddForm.project_ps"}})],1),null!==(o=d.editForm)&&void 0!==o&&o.isEdit?d._e():_(__unplugin_components_1$1,{staticClass:"!mb-[1rem]"}),null!==(a=d.editForm)&&void 0!==a&&a.isEdit?d._e():_(__unplugin_components_3,{staticClass:"w-full text-center cursor-pointer flex items-center",class:"".concat(m.otherSetting?"":"pb-2rem"),on:{click:function(e){m.otherSetting=!m.otherSetting}}},[d._v("点击"+d._s(m.otherSetting?"收起":"查看")+"，更多配置 "),_("i",{class:" el-icon-arrow-".concat(m.otherSetting?"up":"down")})]),m.otherSetting?_("div",{staticClass:"mt-20x"},[null!==(i=d.editForm)&&void 0!==i&&i.isEdit||0==m.javaAddForm.bind_extranet?d._e():_(__unplugin_components_1,{attrs:{label:"绑定域名"}},[_(__unplugin_components_4,{ref:"popover",attrs:{placement:"top-start","popper-class":"green-tips-popover",title:"",width:"400",trigger:"focus"}},[_("div",{staticClass:"!p-12x bg-[#20a53a] text-white"},[d._v(" 如果需要绑定外网，请输入需要绑定的域名，该选项可为空"),_("br"),d._v("如需填写多个域名，请换行填写，每行一个域名，默认为80端口"),_("br"),d._v("泛解析添加方法 *.domain.com"),_("br"),d._v("暂不支持添加端口格式的域名 *.domain.com:88 ")]),_(__unplugin_components_2,{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{slot:"reference",rows:6,resize:"none",width:"40rem",type:"textarea",placeholder:"如果需要绑定外网，请输入需要绑定的域名，该选项可为空\n如需填写多个域名，请换行填写，每行一个域名，默认为80端口\n泛解析添加方法 *.domain.com\n暂不支持添加端口格式的域名"},slot:"reference",model:{value:m.javaAddForm.domains,callback:function(e){d.$set(m.javaAddForm,"domains",e)},expression:"javaAddForm.domains"}})],1)],1),_(__unplugin_components_1,{attrs:{label:"远程调试开启"}},[_(__unplugin_components_8,{attrs:{disabled:!m.javaAddForm.project_cmd},on:{change:m.changeDebug},model:{value:m.javaAddForm.debug,callback:function(e){d.$set(m.javaAddForm,"debug",e)},expression:"javaAddForm.debug"}},[d._v("设置远程调试，配合IDEA使用，生产环境慎用")]),_(__unplugin_components_13,{staticClass:"item",attrs:{effect:"dark",content:"",placement:"top"}},[_("div",{staticClass:"leading-8",attrs:{slot:"content"},slot:"content"},[d._v(" 在Java中，JVM远程调试是一种在运行时检查和调试Java应用程序的方法。"),_("br"),d._v("这种方法允许开发者在不同的机器上运行和调试应用程序，"),_("br"),d._v("这对于在开发环境中重现和解决生产环境中的问题非常有用. ")]),_("i",{staticClass:"el-icon-question text-warning"})])],1),_(__unplugin_components_1,{attrs:{label:"前后端分离"}},[_("div",{class:{"!mb-20x":!m.javaAddForm.is_separation}},[_(__unplugin_components_8,{attrs:{disabled:!m.javaAddForm.project_cmd||(null===(s=d.editForm)||void 0===s?void 0:s.isEdit)},model:{value:m.javaAddForm.is_separation,callback:function(e){d.$set(m.javaAddForm,"is_separation",e)},expression:"javaAddForm.is_separation"}},[d._v("是否设置前后端分离")]),_(__unplugin_components_13,{staticClass:"item",attrs:{effect:"dark",content:"",placement:"top"}},[_("div",{staticClass:"leading-8",attrs:{slot:"content"},slot:"content"},[d._v(" 前后端文件分别部署，并通过反向代理技术实现通信。"),_("br")]),_("i",{staticClass:"el-icon-question text-warning"})])],1)]),m.javaAddForm.is_separation?_("div",{staticClass:"!mt-16x"},[_(__unplugin_components_1,{attrs:{label:"后端url"}},[_(__unplugin_components_2,{attrs:{disabled:null===(c=d.editForm)||void 0===c?void 0:c.isEdit},model:{value:m.javaAddForm.api_url,callback:function(e){d.$set(m.javaAddForm,"api_url",e)},expression:"javaAddForm.api_url"}})],1),_(__unplugin_components_1,{attrs:{label:"前端url"}},[_(__unplugin_components_2,{attrs:{disabled:null===(u=d.editForm)||void 0===u?void 0:u.isEdit},model:{value:m.javaAddForm.host_url,callback:function(e){d.$set(m.javaAddForm,"host_url",e)},expression:"javaAddForm.host_url"}})],1),_(__unplugin_components_1,{attrs:{label:"前端根目录"}},[_(__unplugin_components_2,{staticClass:"mb-20x",attrs:{disabled:null===(l=d.editForm)||void 0===l?void 0:l.isEdit,"icon-type":"folder"},on:{folder:m.onStaticPathChange},model:{value:m.javaAddForm.static_path,callback:function(e){d.$set(m.javaAddForm,"static_path",e)},expression:"javaAddForm.static_path"}})],1)],1):d._e(),null!==(p=d.editForm)&&void 0!==p&&p.isEdit?_(__unplugin_components_1,{attrs:{label:" "}},[_(__unplugin_components_6,{on:{click:m.onConfirm}},[d._v("保存当前配置")])],1):d._e()],1):d._e()],1)],1)},_sfc_staticRenderFns$3=[],__component__$3=normalizeComponent(_sfc_main$3,_sfc_render$3,_sfc_staticRenderFns$3,!1,null,"46536147",null,null),SpringBootForm=__component__$3.exports,_sfc_main$2=defineComponent({__name:"BuiltinProjectForm",props:{projectData:{default:{}},editForm:null},setup:function(e,t){var n=t.expose,r=e,o=getSiteStore().getModulesList,a=getCurrentInstance().proxy,i=ref$1(null),s=ref$1(!1),c=ref$1({project_type:1,project_path:"/www/wwwroot/",tomcat_version:"",project_ps:"",domain:"",use_project_watch:!1,run_user:"www"}),u=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==(t=r.editForm)&&void 0!==t&&t.isEdit&&(c.value.project_jar="",c.value.project_cmd="",c.value.project_jdk="",delete c.value.jmx_info,c.value.log_conf,delete c.value.logs,c.value.scripts),onDefaultFormSubmit({$refs:i.value,loading:{disable:s},request:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=r.editForm)||void 0===t||!t.isEdit){e.next=4;break}return e.next=3,modifyProject({data:JSON.stringify(c.value)},"java");case 3:case 6:return e.abrupt("return",e.sent);case 4:return e.next=6,createProject({data:JSON.stringify(c.value)},"java");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),complete:function(){return _asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o("java");case 1:case"end":return e.stop()}}),e)})))()}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();watch((function(){return r.projectData.tomcat_list.length}),(function(){var e;c.value.tomcat_version=null===(e=r.projectData.tomcat_list[0])||void 0===e?void 0:e.version}),{immediate:!0,deep:!0}),watch((function(){return r.editForm}),(function(){r.editForm&&(c.value=_objectSpread(_objectSpread({},r.editForm.project_config),{},{domain:r.editForm.project_config.project_name,project_path:r.editForm.project_config.project_cwd,is_separation:1===r.editForm.project_config.is_separation,project_ps:r.editForm.ps,debug:0,use_project_watch:r.editForm.use_project_watch,run_user:"www",release_firewall:!1,project_type:1,jmx_status:!1}))}),{immediate:!0,deep:!0});var l=function(){var e,t=JSON.parse(null!==(e=sessionStorage.getItem("BT-CONFIG"))&&void 0!==e?e:"{}").sites_path;t&&(c.value.project_path=t)};return onMounted((function(){l()})),n({onConfirm:u}),{__sfc:!0,props:r,getModulesList:o,vm:a,buildForm:i,formDisabled:s,javaAddForm:c,onPathChange:function(){fileSelectionDialog({type:"dir",path:c.value.project_path,change:function(e){var t;c.value.project_path=e;var n=null===(t=e.substring(e.lastIndexOf("/")+1))||void 0===t?void 0:t.replace(/\./g,"_");c.value.domain=n,c.value.project_ps=n}})},changeName:function(e){c.value.project_ps=e,c.value.project_path="/www/wwwroot/".concat(e)},onConfirm:u,onOpen:l,javaMangerDialog:javaMangerDialog,rules:rules}}}),_sfc_render$2=function(){var e,t,n,r,o=this,a=o._self._c,i=o._self._setupProxy;return a("div",{staticClass:"mt-20x"},[a(__unplugin_components_0,{ref:"buildForm",attrs:{model:i.javaAddForm,disabled:i.formDisabled,"label-width":"100px",rules:i.rules}},[a(__unplugin_components_1,{attrs:{label:"项目域名",prop:"domain"}},[a(__unplugin_components_2,{attrs:{disabled:null===(e=o.editForm)||void 0===e?void 0:e.isEdit,width:"32rem",placeholder:"请输入项目域名"},on:{input:i.changeName},model:{value:i.javaAddForm.domain,callback:function(e){o.$set(i.javaAddForm,"domain",e)},expression:"javaAddForm.domain"}})],1),a(__unplugin_components_1,{attrs:{label:"项目路径",prop:"project_path"}},[a(__unplugin_components_2,{attrs:{width:"32rem","icon-type":"folder"},on:{folder:i.onPathChange},model:{value:i.javaAddForm.project_path,callback:function(e){o.$set(i.javaAddForm,"project_path",e)},expression:"javaAddForm.project_path"}})],1),a(__unplugin_components_1,{attrs:{label:"Tomcat版本",prop:"tomcat_version"}},[a("div",{staticClass:"flex items-center"},[a(__unplugin_components_11,{staticClass:"mr-8x w-[16rem]",attrs:{disabled:!o.projectData.tomcat_list.length||(null===(t=o.editForm)||void 0===t?void 0:t.isEdit)},model:{value:i.javaAddForm.tomcat_version,callback:function(e){o.$set(i.javaAddForm,"tomcat_version",e)},expression:"javaAddForm.tomcat_version"}},o._l(o.projectData.tomcat_list,(function(e,t){return a(__unplugin_components_12,{key:t,attrs:{value:e.version,label:e.name}})})),1),null!==(n=o.editForm)&&void 0!==n&&n.isEdit?o._e():a(__unplugin_components_3,{on:{click:function(e){return i.javaMangerDialog("tomcatSettings")}}},[o._v("安装Tomcat其他版本")])],1)]),a(__unplugin_components_1,{attrs:{label:"项目备注"}},[a(__unplugin_components_2,{attrs:{width:"32rem",placeholder:"输入项目备注，非必填"},model:{value:i.javaAddForm.project_ps,callback:function(e){o.$set(i.javaAddForm,"project_ps",e)},expression:"javaAddForm.project_ps"}})],1),null!==(r=o.editForm)&&void 0!==r&&r.isEdit?a(__unplugin_components_1,{attrs:{label:" "}},[a(__unplugin_components_6,{on:{click:i.onConfirm}},[o._v("保存当前配置")])],1):o._e()],1)],1)},_sfc_staticRenderFns$2=[],__component__$2=normalizeComponent(_sfc_main$2,_sfc_render$2,_sfc_staticRenderFns$2,!1,null,"eafb14d8",null,null),BuiltinProjectForm=__component__$2.exports,_sfc_main$1=defineComponent({__name:"IndependentProject",props:{projectData:{default:{}},editForm:null},setup:function(e,t){var n=t.expose,r=e,o=getCurrentInstance().proxy,a=getSiteStore().getModulesList,i=ref$1(),s=ref$1(!1),c=ref$1({project_path:"/www/wwwroot",project_jdk:"",use_project_watch:!1,project_ps:"",domain:"",release_firewall:!1,tomcat_version:"",port:"",run_user:"www",auth:!1}),u=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.value.port){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,advanceCheckPort({port:c.value.port},"java");case 5:(t=e.sent).status||(o.$message.request(t),c.value.port=""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.value.project_type=2,null!==(t=r.editForm)&&void 0!==t&&t.isEdit&&(c.value.project_jar="",c.value.debug=c.value.debug?1:0,delete c.value.jmx_info,c.value.log_conf,delete c.value.logs,c.value.scripts),onDefaultFormSubmit({$refs:i.value,loading:{disable:s},request:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=r.editForm)||void 0===t||!t.isEdit){e.next=7;break}return e.next=3,modifyProject({data:JSON.stringify(_objectSpread(_objectSpread({},c.value),{},{domain:c.value.domain.split("\n")}))},"java");case 3:return n=e.sent,o.$message.request(n),a("java"),e.abrupt("return",null);case 7:return e.next=9,createProject({data:JSON.stringify(c.value)},"java");case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),complete:function(){return _asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a("java");case 1:case"end":return e.stop()}}),e)})))()}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();watch((function(){return r.projectData.tomcat_list.length}),(function(){var e;c.value.tomcat_version=null===(e=r.projectData.tomcat_list[0])||void 0===e?void 0:e.version}),{immediate:!0,deep:!0}),watch((function(){return r.projectData.jdk_info.length}),(function(){var e;c.value.project_jdk=null===(e=r.projectData.jdk_info[0])||void 0===e?void 0:e.path}),{immediate:!0,deep:!0}),watch((function(){return r.editForm}),(function(){r.editForm&&(c.value=_objectSpread(_objectSpread({},r.editForm.project_config),{},{domain:r.editForm.project_config.project_name,project_path:r.editForm.project_config.project_cwd,project_jdk:r.editForm.project_config.jdk_path+"/bin/java",run_user:"www",is_separation:1===r.editForm.project_config.is_separation,debug:0,use_project_watch:r.editForm.use_project_watch,release_firewall:!1,project_ps:r.editForm.ps,host_url:"http://127.0.0.1:"+r.editForm.project_config.port,jmx_status:!1}))}),{immediate:!0,deep:!0});var p=function(){var e,t=JSON.parse(null!==(e=sessionStorage.getItem("BT-CONFIG"))&&void 0!==e?e:"{}").sites_path;t&&(c.value.project_path=t)};return onMounted((function(){p()})),n({onConfirm:l}),{__sfc:!0,props:r,vm:o,getModulesList:a,independFormRef:i,formDisabled:s,javaAddForm:c,checkPortUse:u,onPathChange:function(){fileSelectionDialog({type:"dir",path:c.value.project_path,change:function(e){var t;c.value.project_path=e;var n=null===(t=e.substring(e.lastIndexOf("/")+1))||void 0===t?void 0:t.replace(/\./g,"_");c.value.domain=n,c.value.project_ps=n}})},changeName:function(e){var t;null!==(t=r.editForm)&&void 0!==t&&t.isEdit||(c.value.project_ps=e)},onConfirm:l,onOpen:p,javaMangerDialog:javaMangerDialog,rules:rules,isRelease:isRelease}}}),_sfc_render$1=function(){var e,t,n,r,o,a,i,s=this,c=s._self._c,u=s._self._setupProxy;return c("div",{staticClass:"mt-20x"},[c(__unplugin_components_0,{ref:"independFormRef",attrs:{model:u.javaAddForm,disabled:u.formDisabled,"label-width":"100px",rules:u.rules}},[c(__unplugin_components_1,{attrs:{label:"项目域名",prop:"domain"}},[c(__unplugin_components_2,{attrs:{disabled:null===(e=s.editForm)||void 0===e?void 0:e.isEdit,width:"32rem",placeholder:"请输入项目域名"},on:{input:u.changeName},model:{value:u.javaAddForm.domain,callback:function(e){s.$set(u.javaAddForm,"domain",e)},expression:"javaAddForm.domain"}})],1),c(__unplugin_components_1,{attrs:{label:"项目路径",prop:"project_path"}},[c(__unplugin_components_2,{attrs:{width:"32rem",disabled:null===(t=s.editForm)||void 0===t?void 0:t.isEdit,"icon-type":"".concat((null===(n=s.editForm)||void 0===n||!n.isEdit)&&"folder")},on:{folder:u.onPathChange},model:{value:u.javaAddForm.project_path,callback:function(e){s.$set(u.javaAddForm,"project_path",e)},expression:"javaAddForm.project_path"}})],1),c(__unplugin_components_1,{attrs:{label:"Tomcat版本"}},[c("div",{staticClass:"flex items-center"},[c(__unplugin_components_11,{staticClass:"mr-8x w-[16rem]",attrs:{disabled:!s.projectData.tomcat_list.length&&(null===(r=s.editForm)||void 0===r?void 0:r.isEdit)},model:{value:u.javaAddForm.tomcat_version,callback:function(e){s.$set(u.javaAddForm,"tomcat_version",e)},expression:"javaAddForm.tomcat_version"}},s._l(s.projectData.tomcat_list,(function(e,t){return c(__unplugin_components_12,{key:t,attrs:{value:e.version,label:e.name}})})),1),null!==(o=s.editForm)&&void 0!==o&&o.isEdit?s._e():c(__unplugin_components_3,{on:{click:function(e){return u.javaMangerDialog("tomcatSettings")}}},[s._v("安装Tomcat其他版本")])],1)]),c(__unplugin_components_1,{attrs:{label:"项目端口",prop:"port"}},[c("div",{staticClass:"flex items-center"},[c(__unplugin_components_2,{staticClass:"mr-12x",attrs:{width:"20rem",type:"number",placeholder:"选择项目文件，自动获取端口"},on:{blur:u.checkPortUse},model:{value:u.javaAddForm.port,callback:function(e){s.$set(u.javaAddForm,"port",e)},expression:"javaAddForm.port"}}),null!==(a=s.editForm)&&void 0!==a&&a.isEdit?s._e():c(__unplugin_components_8,{model:{value:u.javaAddForm.release_firewall,callback:function(e){s.$set(u.javaAddForm,"release_firewall",e)},expression:"javaAddForm.release_firewall"}},[s._v(" 放行端口 "),c(__unplugin_components_13,{staticClass:"item",attrs:{effect:"dark",content:"选中将在防火墙安全组放行监听端口，放行后该项目可在外网访问",placement:"right"}},[c("i",{staticClass:"el-icon-question text-warning"})])],1)],1)]),u.isRelease?s._e():c(__unplugin_components_1,{attrs:{label:"项目用户"}},[c("div",{staticClass:"flex items-center"},[c(__unplugin_components_11,{staticClass:"mr-8x w-[16rem]",model:{value:u.javaAddForm.run_user,callback:function(e){s.$set(u.javaAddForm,"run_user",e)},expression:"javaAddForm.run_user"}},s._l(s.projectData.userList,(function(e){return c(__unplugin_components_12,{key:e,attrs:{value:e,label:e}})})),1),c("span",{staticClass:"text-[1.2rem] text-[#666]"},[s._v("* 无特殊需求请选择www用户")])],1)]),u.isRelease?s._e():c(__unplugin_components_1,{attrs:{label:"项目JDK",prop:"project_jdk"}},[c(__unplugin_components_11,{staticClass:"w-[32rem]",model:{value:u.javaAddForm.project_jdk,callback:function(e){s.$set(u.javaAddForm,"project_jdk",e)},expression:"javaAddForm.project_jdk"}},s._l(s.projectData.jdk_info,(function(e,t){return c(__unplugin_components_12,{key:t,attrs:{value:e.path,label:e.name+"["+e.path+"]"}})})),1)],1),c(__unplugin_components_1,{attrs:{label:"开机启动"}},[c(__unplugin_components_8,{model:{value:u.javaAddForm.auth,callback:function(e){s.$set(u.javaAddForm,"auth",e)},expression:"javaAddForm.auth"}},[s._v("是否设置开机自动启动（默认自带守护进程每120秒检测一次）")])],1),c(__unplugin_components_1,{attrs:{label:"项目备注"}},[c(__unplugin_components_2,{attrs:{width:"32rem",placeholder:"输入项目备注，非必填"},model:{value:u.javaAddForm.project_ps,callback:function(e){s.$set(u.javaAddForm,"project_ps",e)},expression:"javaAddForm.project_ps"}})],1),null!==(i=s.editForm)&&void 0!==i&&i.isEdit?c(__unplugin_components_1,{attrs:{label:" "}},[c(__unplugin_components_6,{on:{click:u.onConfirm}},[s._v("保存当前配置")])],1):s._e()],1)],1)},_sfc_staticRenderFns$1=[],__component__$1=normalizeComponent(_sfc_main$1,_sfc_render$1,_sfc_staticRenderFns$1,!1,null,"d585afef",null,null),IndependentProject=__component__$1.exports,_sfc_main=defineComponent({__name:"index",props:{compData:{default:{rowData:{},isEdit:!1}}},setup:function(e,t){var n=t.expose,r=e,o=getCurrentInstance().proxy,a=ref$1("SpringBoot"),i=reactive({project_type:3}),s=ref$1(),c=ref$1(),u=ref$1(),l=reactive({userList:[],jdk_info:[],tomcat_list:[]}),p=ref$1(),d=ref$1(!1),_=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,getSystemUserList();case 3:t=e.sent,l.userList=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,getSystemInfo();case 3:t=e.sent,l.jdk_info=t.data.jdk_info.filter((function(e){return 0!==e.operation})),l.tomcat_list=[],Object.keys(t.data.tomcat_info).forEach((function(e){var n=e.replace("tomcat","");t.data.tomcat_info[e].status&&l.tomcat_list.push(_objectSpread({name:e,version:n},t.data.tomcat_info[e]))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:("SpringBoot"===a.value?s.value:"内置项目"===a.value?c.value:u.value).onConfirm();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return onMounted(_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.value=!0,e.prev=1,e.next=4,_();case 4:return e.next=6,m();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:return e.prev=11,d.value=!1,e.finish(11);case 14:r.compData.rowData&&(p.value=r.compData.rowData,p.value.isEdit=!0,a.value="springboot"===r.compData.rowData.project_config.java_type?"SpringBoot":"duli"===r.compData.rowData.project_config.java_type?"独立项目":"内置项目");case 15:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))),n({onConfirm:v}),{__sfc:!0,props:r,vm:o,radioType:a,javaAddForm:i,SpringBootFormRef:s,BuiltinProjectFormRef:c,IndependentProjectRef:u,projectData:l,editForm:p,viewLoading:d,getRootUser:_,getSystemInfoEvent:m,onConfirm:v,SpringBootForm:SpringBootForm,BuiltinProjectForm:BuiltinProjectForm,IndependentProject:IndependentProject}}}),_sfc_render=function(){var e,t=this,n=t._self._c,r=t._self._setupProxy;return n("div",{staticClass:"p-20x"},[n(__unplugin_components_0,{directives:[{name:"loading",rawName:"v-loading",value:r.viewLoading,expression:"viewLoading"}],ref:"javaAddFormRef",attrs:{model:r.javaAddForm,"label-width":"100px"}},[n(__unplugin_components_1,{attrs:{label:"项目类型"}},[n("div",{staticClass:"flex items-center"},[n(__unplugin_components_5,{attrs:{size:"small",disabled:null===(e=r.editForm)||void 0===e?void 0:e.isEdit},model:{value:r.radioType,callback:function(e){r.radioType=e},expression:"radioType"}},[n(__unplugin_components_9,{attrs:{label:"SpringBoot"}}),n(__unplugin_components_9,{attrs:{label:"内置项目"}}),n(__unplugin_components_9,{attrs:{label:"独立项目"}})],1),n("div",{staticClass:"flex items-center ml-12x"},[n(__unplugin_components_3,{attrs:{href:"https://www.bt.cn/bbs/thread-76217-1-1.html"}},[t._v("Java项目教程")]),n("i",{staticClass:"el-icon-link text-primary text-[1.6rem] ml-4x"})],1)],1)]),n(r.SpringBootForm,{directives:[{name:"show",rawName:"v-show",value:"SpringBoot"==r.radioType,expression:"radioType == 'SpringBoot'"}],ref:"SpringBootFormRef",attrs:{editForm:r.editForm,projectData:r.projectData}}),n(r.BuiltinProjectForm,{directives:[{name:"show",rawName:"v-show",value:"内置项目"==r.radioType,expression:"radioType == '内置项目'"}],ref:"BuiltinProjectFormRef",attrs:{editForm:r.editForm,projectData:r.projectData}}),n(r.IndependentProject,{directives:[{name:"show",rawName:"v-show",value:"独立项目"==r.radioType,expression:"radioType == '独立项目'"}],ref:"IndependentProjectRef",attrs:{editForm:r.editForm,projectData:r.projectData}})],1)],1)},_sfc_staticRenderFns=[],__component__=normalizeComponent(_sfc_main,_sfc_render,_sfc_staticRenderFns,!1,null,"bfb5f9d0",null,null),ProjectIndex=exports("default",__component__.exports)}}}))})();

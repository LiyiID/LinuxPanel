import{d7 as t,d8 as e,n as a,aZ as s}from"./main.js?v=1714377894636";import{e as o,f as n,b as i,h as l,i as r,j as m}from"./vue-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./element-lib.js?v=1714377894636";const u=a(o({__name:"KeywordsCheckMontior",props:{compData:{default:()=>({})}},setup(a,{expose:s}){const o=a;n((()=>o.compData),(t=>{p.value=!0,d()}));const{proxy:u}=m(),c=i(u.$t("BtMagBox.ExecutionLogContent")),p=i(!0),f=i(null),d=async()=>{var e,a;try{c.value=u.$t("BtMagBox.ExecutionLogContent");const s=await t({num:20,filename:o.compData.path_info});if(c.value=s.msg,-1!==(null==(e=s.msg)?void 0:e.indexOf("扫描结束")))return p.value=!1,u.$message.success("扫描已结束"),u.$root.showFooterFun(!1),void v();-1===(null==(a=s.msg)?void 0:a.indexOf("扫描结束"))&&p.value&&(f.value=setTimeout((function(){d()}),1e3)),s.status||(u.$message.request(s),p.value=!1)}catch(s){}},v=()=>{f.value&&clearTimeout(f.value)},g=()=>{v()},_=async t=>{try{await u.$confirm({icon:"warning",title:"停止检测网站",width:"40rem",message:"当前正在进行检测网站，确定停止检测网站吗？"});const a=await e({data:JSON.stringify({id:o.compData.id})});await u.$message.request(a),p.value=!1,g(),t()}catch(a){}};return l((()=>{d()})),r((()=>{v()})),s({onConfirm:_,onCancel:g}),{__sfc:!0,props:o,vm:u,logContent:c,isScan:p,timer:f,getLog:d,clearTimer:v,onCancel:g,submitFrom:_}}}),(function(){var t=this._self._c,e=this._self._setupProxy;return t("div",{staticClass:"flex-wrap"},[t(s,{staticClass:"h-[40rem]",attrs:{content:e.logContent}})],1)}),[],!1,null,null,null,null).exports;export{u as default};

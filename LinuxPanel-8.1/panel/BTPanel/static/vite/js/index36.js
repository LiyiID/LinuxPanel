import{B as e,_ as t,o as a,w as s,x as n,q as l,s as o,a9 as i,j as r,y as c,ab as u,u as p}from"./element-lib.js?v=1714377894636";import{n as f,l as m,a as d,aS as v,aT as _,aU as g,b as h,ai as y,g as x,w as C,j as w,aV as b,aW as P,aj as S,R as $,$ as k,aX as A,q as D,D as T,F as I,_ as L,f as q,J as R,o as j,aY as M,y as z}from"./main.js?v=1714377894636";import{_ as B}from"./index85.js?v=1714377894636";import{_ as E}from"./index77.js?v=1714377894636";import{e as N,b as O,c as F,t as U,h as V,l as H,j as K,f as W,v as J,Q as G,R as Q,H as X}from"./vue-lib.js?v=1714377894636";import{getConfigStore as Y}from"./config.store.js?v=1714377894636";import{c as Z,s as ee,a as te,b as ae,d as se,e as ne,f as le,g as oe,h as ie,i as re,j as ce,k as ue,l as pe,m as fe,n as me,o as de,p as ve,q as _e,r as ge,t as he,u as ye,v as xe,w as Ce,x as we,y as be,z as Pe,A as Se,B as $e,C as ke,D as Ae,E as De,F as Te,G as Ie,H as Le,I as qe,J as Re,K as je,L as Me,M as ze,N as Be,O as Ee,P as Ne,Q as Oe,R as Fe,S as Ue,T as Ve,U as He,V as Ke,W as We,X as Je,Y as Ge,Z as Qe,_ as Xe,$ as Ye,a0 as Ze}from"./config.api.js?v=1714377894636";import{_ as et}from"./preload-helper.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import{_ as tt}from"./index40.js?v=1714377894636";import{_ as at}from"./index41.js?v=1714377894636";import{_ as st}from"./index44.js?v=1714377894636";import{_ as nt}from"./index109.js?v=1714377894636";import{b as lt}from"./check.js?v=1714377894636";import{_ as ot}from"./index39.js?v=1714377894636";import{_ as it}from"./index59.js?v=1714377894636";import{_ as rt}from"./index52.js?v=1714377894636";import{b as ct,c as ut,r as pt,e as ft}from"./config.js?v=1714377894636";import"./radio-button.js?v=1714377894636";import{_ as mt}from"./index45.js?v=1714377894636";import{_ as dt}from"./index53.js?v=1714377894636";import vt from"./index115.js?v=1714377894636";import{g as _t,a as gt,e as ht}from"./index38.js?v=1714377894636";import{o as yt}from"./index61.js?v=1714377894636";import{_ as xt}from"./index55.js?v=1714377894636";import{M as Ct}from"./index116.js?v=1714377894636";const wt=f(N({__name:"ConfigTitle",setup:e=>({__sfc:!0})}),(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("section",{staticClass:"mb-6 pt-[.5rem] px-[1.2rem] pb-[.8rem] leading-[2.8rem] border-b-1 border-b-[#e7e7e7] text-[1.4rem] font-bold text-medium"},[e._t("default")],2)}),[],!1,null,"6de1635a",null,null).exports;const bt=f(N({__name:"ConfigRows",props:{label:{default:""}},setup(e){const t=e,{refs:{settingSearch:a}}=Y(),{proxy:s}=K(),n=O(),l=F((()=>{let e=!0;return e=""===a.value||(!!o.value.includes(a.value)||!!t.label.includes(a.value)),e})),o=O(""),i=!!U().label;return V((()=>{H((()=>{o.value=n.value.innerText}))})),{__sfc:!0,props:t,settingSearch:a,vm:s,descRef:n,isSearch:l,text:o,slotLabel:i}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("section",{staticClass:"config-rows",style:"display: ".concat(a.isSearch?"flex":"none"),attrs:{title:e.label}},[t("div",{staticClass:"label"},[a.slotLabel?e._t("label"):t("span",{directives:[{name:"select-lighting",rawName:"v-select-lighting"}]},[e._v(e._s(e.label))])],2),t("div",{staticClass:"value"},[e._t("value")],2),t("div",{directives:[{name:"select-lighting",rawName:"v-select-lighting"}],ref:"descRef",staticClass:"desc text-light"},[e._t("desc")],2)])}),[],!1,null,"87b76495",null,null).exports;const Pt=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a}}=Y(),s=async()=>{const e=t.$load("正在关闭面板，请稍候...");try{const{data:e}=await Z();e.status&&location.reload()}finally{e.close()}};return{__sfc:!0,vm:t,panelConfig:a,onChange:async e=>{try{await t.$confirm({title:t.$t("Config.ClosePanel.Title"),message:t.$t("Config.ClosePanel.PopupInfo"),icon:"warning"}),await s()}catch(a){}},close:s}}}),(function(){var t=this,a=t._self._c,s=t._self._setupProxy;return a(bt,{attrs:{label:t.$t("Config.ClosePanel.Title")},scopedSlots:t._u([{key:"value",fn:function(){return[a(e,{attrs:{value:s.panelConfig.panelClose},on:{change:s.onChange}})]},proxy:!0},{key:"desc",fn:function(){return[a("span",[t._v(t._s(t.$t("Config.ClosePanel.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const St=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a}}=Y();return{__sfc:!0,vm:t,panelConfig:a,onChange:async()=>{const e=t.$load("正在设置IPv6状态，请稍候...");try{const{data:e}=await ee();t.$message.request(e),e.status&&(a.value.listenIpv6=!a.value.listenIpv6)}finally{e.close()}}}}}),(function(){var t=this,a=t._self._c,s=t._self._setupProxy;return a(bt,{attrs:{label:t.$t("Config.MonitorpIpLabel")},scopedSlots:t._u([{key:"value",fn:function(){return[a(e,{attrs:{value:s.panelConfig.listenIpv6},on:{change:s.onChange}})]},proxy:!0},{key:"desc",fn:function(){return[a("span",[t._v(t._s(t.$t("Config.MonitorpIpDesc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const $t=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a}}=Y(),s=async()=>{const e=t.$load("正在设置离线模式，请稍候...");try{const{data:e}=await te();t.$message.request(e),e.status&&(a.value.offlineMode=!a.value.offlineMode)}finally{e.close()}};return{__sfc:!0,vm:t,panelConfig:a,onChange:async e=>{try{await t.$confirm({icon:"warning",title:e?t.$t("Config.OffineModeOpen"):t.$t("Config.OffineModeClose"),message:e?t.$t("Config.OffineMode.Popup1Info1"):t.$t("Config.OffineMode.Popup2Info1")}),await s()}catch(a){}},setLocalMode:s}}}),(function(){var t=this,a=t._self._c,s=t._self._setupProxy;return a(bt,{attrs:{label:t.$t("Config.OffineMode.Label")},scopedSlots:t._u([{key:"value",fn:function(){return[a(e,{attrs:{value:s.panelConfig.offlineMode},on:{change:s.onChange}})]},proxy:!0},{key:"desc",fn:function(){return[a("span",[t._v(t._s(t.$t("Config.OffineMode.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const kt=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a}}=Y(),s=()=>{m({isAsync:!0,title:t.$t("Config.DebugMode.OpenDebug"),area:42,btn:!0,component:()=>et((()=>import("./confirm2.js?v=1714377894636")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url)})},n=async()=>{t.$confirm({icon:"warning",title:t.$t("Config.DebugMode.CloseDebug"),message:t.$t("Config.DebugMode.CloseDebugInfo")}).then((async()=>{const e=t.$load("正在设置开发者模式，请稍候...");try{const{data:e}=await ae();t.$message.request(e),e.status&&(a.value.debugMode=!a.value.debugMode)}finally{e.close()}}))};return{__sfc:!0,vm:t,panelConfig:a,onChange:async e=>{e?s():n()},openMode:s,closeMode:n}}}),(function(){var t=this,a=t._self._c,s=t._self._setupProxy;return a(bt,{attrs:{label:t.$t("Config.DebugMode.Label")},scopedSlots:t._u([{key:"value",fn:function(){return[a(e,{attrs:{value:s.panelConfig.debugMode},on:{change:s.onChange}})]},proxy:!0},{key:"desc",fn:function(){return[a("span",[t._v(t._s(t.$t("Config.DebugModeDesc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const At=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a}}=Y(),s=async()=>{(await l()).status&&n()},n=()=>{m({isAsync:!0,area:50,title:t.$t("Config.Api.PopupTitle"),component:()=>et((()=>import("./config2.js?v=1714377894636")),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,13,14,15,16,10,11]),import.meta.url)})},l=async()=>{const e=t.$load("正在设置API配置，请稍候...");try{const{data:e}=await se({t_type:2});return t.$message.request(e),e.status&&(a.value.apiInterface=!a.value.apiInterface),e}finally{e.close()}};return{__sfc:!0,vm:t,panelConfig:a,onChange:e=>{e?s():l()},open:s,showConfig:n,setStatus:l}}}),(function(){var a=this,s=a._self._c,n=a._self._setupProxy;return s(bt,{attrs:{label:a.$t("Config.Api.ApiInterface")},scopedSlots:a._u([{key:"value",fn:function(){return[s(e,{attrs:{value:n.panelConfig.apiInterface},on:{change:n.onChange}}),s(t,{staticClass:"!ml-12x",attrs:{size:"mini"},on:{click:n.showConfig}},[a._v(" "+a._s(a.$t("Config.Api.InterfaceConfiguration"))+" ")])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[a._v(a._s(a.$t("Config.Api.Dese")))]),s(d,{attrs:{href:"https://www.bt.cn/bbs/thread-20376-1-1.html"}},[a._v(" "+a._s(a.$t("Config.KonwDetail"))+" ")])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Dt=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a}}=Y(),s=async()=>{const e=t.$load("正在设置在线客服配置，请稍候...");try{const{data:e}=await ne();t.$message.request(e),e.status&&(a.value.onlineService=!a.value.onlineService,window.location.reload())}finally{e.close()}};return{__sfc:!0,vm:t,panelConfig:a,onChange:async e=>{try{await t.$confirm({icon:"warning",title:e?t.$t("Config.OnlineService.Open"):t.$t("Config.OnlineService.Close"),message:e?t.$t("Config.OnlineService.OpenInfo"):t.$t("Config.OnlineService.CloseInfo")}),await s()}catch(a){}},setStatus:s}}}),(function(){var t=this,a=t._self._c,s=t._self._setupProxy;return a(bt,{attrs:{label:t.$t("Config.OnlineService.Label")},scopedSlots:t._u([{key:"value",fn:function(){return[a(e,{attrs:{value:s.panelConfig.onlineService},on:{change:s.onChange}})]},proxy:!0},{key:"desc",fn:function(){return[a("span",[t._v(t._s(t.$t("Config.OnlineService.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Tt=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a}}=Y(),s=async e=>{const s=t.$load("正在设置用户体验改善计划配置，请稍候...");try{const{data:s}=await le({status:e?1:"0"});t.$message.request(s),s.status&&(a.value.improvement=!a.value.improvement)}finally{s.close()}};return{__sfc:!0,vm:t,panelConfig:a,onChange:async e=>{try{await t.$confirm({icon:"warning",title:e?"开启用户体验改善计划":"关闭用户体验改善计划",message:e?"感谢您参与用户改善计划，帮助宝塔提升产品质量，使得我们有机会为您提供更优质的产品和服务，是否继续？":"非常感谢您对我们的支持，即将退出用户体验改善计划，是否继续？"}),await s(e)}catch(a){}},setStatus:s}}}),(function(){var t=this,a=t._self._c,s=t._self._setupProxy;return a(bt,{attrs:{label:t.$t("Config.Improvement")},scopedSlots:t._u([{key:"value",fn:function(){return[a(e,{attrs:{value:s.panelConfig.improvement},on:{change:s.onChange}})]},proxy:!0},{key:"desc",fn:function(){return[a("span",[t._v(t._s(t.$t("Config.ImprovementDesc")))]),a(d,{attrs:{href:"https://www.bt.cn/new/agreement_privacy.html"}},[t._v(" "+t._s(t.$t("Config.KonwDetail"))+" ")])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const It=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a},saveConfig:s}=Y();return{__sfc:!0,vm:t,panelConfig:a,saveConfig:s,onSave:()=>{a.value.webname.includes("/")||a.value.webname.includes("\\")?t.$message.error("别名不能包含正反斜杠"):s("正在设置面板别名，请稍候...")}}}}),(function(){var e=this,s=e._self._c,n=e._self._setupProxy;return s(bt,{attrs:{label:e.$t("Config.WebName.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[s("div",{staticClass:"w-[26rem]"},[s(a,{model:{value:n.panelConfig.webname,callback:function(t){e.$set(n.panelConfig,"webname",t)},expression:"panelConfig.webname"}})],1),s(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:n.onSave}},[e._v(e._s(e.$t("Config.Save")))])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[e._v(e._s(e.$t("Config.WebName.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Lt=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a},getConfig:s}=Y(),n=O(a.value.leftTitle);W((()=>a.value.leftTitle),(e=>{n.value=e}));return{__sfc:!0,vm:t,panelConfig:a,getConfig:s,title:n,onSave:async()=>{const e=t.$load("正在设置左侧菜单标题，请稍候...");try{const{data:e}=await oe({title:n.value});t.$message.request(e),e.status&&s()}finally{e.close()}}}}}),(function(){var e=this,s=e._self._c,n=e._self._setupProxy;return s(bt,{attrs:{label:"左侧菜单标题"},scopedSlots:e._u([{key:"value",fn:function(){return[s("div",{staticClass:"w-[26rem]"},[s(a,{model:{value:n.title,callback:function(e){n.title=e},expression:"title"}})],1),s(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:n.onSave}},[e._v(e._s(e.$t("Config.Save")))])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[e._v("给左侧菜单标题取个别的名称")])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const qt=f(N({__name:"index",setup(e){const{refs:{panelConfig:t}}=Y();return{__sfc:!0,panelConfig:t,onSet:()=>{m({area:45,btn:!0,isAsync:!0,title:"超时时间设置",component:()=>et((()=>import("./set.js?v=1714377894636")),__vite__mapDeps([17,1,2,3,4,5,6,7,8,9,18,19,14,16,11,10]),import.meta.url)})}}}}),(function(){var e=this,s=e._self._c,n=e._self._setupProxy;return s(bt,{attrs:{label:e.$t("Config.SessionTimeout.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[s("div",{staticClass:"w-[26rem]"},[s(a,{attrs:{value:n.panelConfig.session_timeout,disabled:!0}})],1),s(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:n.onSet}},[e._v(e._s(e.$t("Config.Site")))])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[e._v(e._s(e.$t("Confu.SessionTimeout.Desc1")))]),s("span",{staticClass:"text-danger"},[e._v(e._s(n.panelConfig.session_timeout))]),s("span",[e._v(e._s(e.$t("Confu.SessionTimeout.Desc2")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Rt=f(N({__name:"index",setup(e){const{refs:{panelConfig:t},saveConfig:a}=Y();return{__sfc:!0,panelConfig:t,saveConfig:a,onPathChange:()=>{v({type:"dir",path:t.value.sites_path,change:e=>{t.value.sites_path=e}})},onSave:async()=>{a("正在保存默认建站目录，请稍候...")}}}}),(function(){var e=this,a=e._self._c,s=e._self._setupProxy;return a(bt,{attrs:{label:e.$t("Config.SitePath.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[a(B,{attrs:{"icon-type":"folder",width:"26rem"},on:{folder:s.onPathChange},model:{value:s.panelConfig.sites_path,callback:function(t){e.$set(s.panelConfig,"sites_path",t)},expression:"panelConfig.sites_path"}}),a(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:s.onSave}},[e._v(e._s(e.$t("Config.Save")))])]},proxy:!0},{key:"desc",fn:function(){return[a("span",[e._v(e._s(e.$t("Config.SitePath.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const jt=f(N({__name:"index",setup(e){const{refs:{panelConfig:t},saveConfig:a}=Y();return{__sfc:!0,panelConfig:t,saveConfig:a,onPathChange:()=>{v({type:"dir",path:t.value.backup_path,change:e=>{t.value.backup_path=e}})},onSave:async()=>{a("正在保存默认备份目录，请稍候...")}}}}),(function(){var e=this,a=e._self._c,s=e._self._setupProxy;return a(bt,{attrs:{label:e.$t("Config.BackupPath")},scopedSlots:e._u([{key:"value",fn:function(){return[a(B,{attrs:{"icon-type":"folder",width:"26rem"},on:{folder:s.onPathChange},model:{value:s.panelConfig.backup_path,callback:function(t){e.$set(s.panelConfig,"backup_path",t)},expression:"panelConfig.backup_path"}}),a(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:s.onSave}},[e._v(e._s(e.$t("Config.Save")))])]},proxy:!0},{key:"desc",fn:function(){return[a("span",[e._v(e._s(e.$t("Config.BackupPathDese")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Mt=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a},saveConfig:s}=Y();return{__sfc:!0,vm:t,panelConfig:a,saveConfig:s,onSave:async()=>{try{await t.$confirm({icon:"warning",title:"修改服务器IP",message:"当前服务器IP，非必要请勿修改，错误的IP地址可能会导致当前面板部分获取服务异常，是否继续？"}),s("正在修改服务器IP，请稍候..."),_("".concat(location.protocol,"//").concat(a.value.serverIp,":").concat(location.port).concat(location.pathname),2e3)}catch(e){}}}}}),(function(){var e=this,s=e._self._c,n=e._self._setupProxy;return s(bt,{attrs:{label:e.$t("Config.ServerIp.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[s("div",{staticClass:"w-[26rem]"},[s(a,{model:{value:n.panelConfig.serverIp,callback:function(t){e.$set(n.panelConfig,"serverIp",t)},expression:"panelConfig.serverIp"}})],1),s(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:n.onSave}},[e._v(e._s(e.$t("Config.Save")))])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[e._v(e._s(e.$t("Config.ServerIp.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const zt=f(N({__name:"index",setup(e){const{refs:{panelConfig:t},getConfig:a}=Y(),{proxy:s}=K();return{__sfc:!0,panelConfig:t,getConfig:a,vm:s,onSync:async()=>{const e=s.$load("正在同步服务器时间，请稍候...");try{const{data:e}=await ie();s.$message.request(e),a()}finally{e.close()}}}}}),(function(){var e=this,s=e._self._c,n=e._self._setupProxy;return s(bt,{attrs:{label:e.$t("Config.ServerTime.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[s("div",{staticClass:"w-[26rem]"},[s(a,{attrs:{readOnly:!0},model:{value:n.panelConfig.systemdate,callback:function(t){e.$set(n.panelConfig,"systemdate",t)},expression:"panelConfig.systemdate"}})],1),s(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:function(e){return n.onSync()}}},[e._v(" "+e._s(e.$t("Config.Synchronization"))+" ")])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[e._v(e._s(e.$t("Config.ServerTime.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Bt=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a,openNamePopup:s}}=Y(),n=O(!1),l=()=>{o.username1=a.value.username,n.value=!0},o=J({username1:"",username2:""}),i={username1:[{required:!0,message:"请输入用户名",trigger:["blur","input"]}],username2:[{required:!0,message:"请再次输入用户名",trigger:["blur","input"]},{trigger:["blur","input"],validator:(e,t,a)=>{t!==o.username1?a(new Error("两次用户名不一致")):a()}}]},r=O();return V((()=>{s.value&&(l(),s.value=!1)})),{__sfc:!0,vm:t,panelConfig:a,openNamePopup:s,showPopup:n,onSet:l,form:o,rules:i,formRef:r,onConfirm:async()=>{var e;let a=null;try{await(null==(e=r.value)?void 0:e.validate()),a=t.$load("正在设置面板账号，请稍候...");const{data:s}=await re({username1:g(o.username1),username2:g(o.username2)});t.$message.request(s),s.status&&_("/login?dologin=True",1500)}catch(s){}finally{null==a||a.close()}},onCancel:()=>{var e;null==(e=r.value)||e.resetFields(),o.username1=a.value.username,o.username2=""}}}}),(function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l(bt,{attrs:{label:e.$t("Config.Username.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[l("div",{staticClass:"w-[26rem]"},[l(a,{attrs:{disabled:!0},model:{value:o.panelConfig.username,callback:function(t){e.$set(o.panelConfig,"username",t)},expression:"panelConfig.username"}})],1),l(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:o.onSet}},[e._v(e._s(e.$t("Config.Site")))]),l(h,{attrs:{title:e.$t("Config.Username.PopupTitle"),visible:o.showPopup,"show-footer":!0,area:[40,14],confirmText:e.$t("Config.Submit")},on:{"update:visible":function(e){o.showPopup=e},confirm:o.onConfirm,cancel:o.onCancel}},[l("div",{staticClass:"p-[2.5rem]"},[l(s,{ref:"formRef",attrs:{model:o.form,rules:o.rules}},[l(n,{attrs:{label:e.$t("Username"),prop:"username1"}},[l(B,{attrs:{width:"21rem"},model:{value:o.form.username1,callback:function(t){e.$set(o.form,"username1",t)},expression:"form.username1"}})],1),l(n,{attrs:{label:e.$t("Config.Repeat"),prop:"username2"}},[l(B,{attrs:{width:"21rem"},model:{value:o.form.username2,callback:function(t){e.$set(o.form,"username2",t)},expression:"form.username2"}})],1)],1)],1)])]},proxy:!0},{key:"desc",fn:function(){return[l("span",[e._v(e._s(e.$t("Config.Username.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Et=f(N({__name:"index",setup(e){const{proxy:t}=K(),a=O("********"),s=O(!1),n=J({password1:"",password2:""}),l={password1:[{required:!0,message:"请输入密码",trigger:["blur","input"]},{trigger:["blur","input"],validator:(e,t,a)=>{t.length<6?a(new Error("密码长度必须大于5位")):a()}}],password2:[{required:!0,message:"请再次输入密码",trigger:["blur","input"]},{trigger:["blur","input"],validator:(e,t,a)=>{t!==n.password1?a(new Error("两次密码不一致")):a()}}]},o=O();V((()=>{n.password1=y(10)}));return{__sfc:!0,vm:t,password:a,showPopup:s,onSet:()=>{n.password1=y(10),s.value=!0},form:n,rules:l,formRef:o,refreshPwd:()=>{n.password1=y(10)},onConfirm:async()=>{var e;let a=null;try{await(null==(e=o.value)?void 0:e.validate()),a=t.$load("正在设置面板密码，请稍候...");const{data:s}=await ce({password1:g(n.password1),password2:g(n.password2)});t.$message.request(s),s.status&&_("/login?dologin=True",1500)}catch(s){}finally{null==a||a.close()}},onCancel:()=>{var e;null==(e=o.value)||e.resetFields(),n.password1="",n.password2=""}}}}),(function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l(bt,{attrs:{label:e.$t("Config.Password.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[l("div",{staticClass:"w-[26rem]"},[l(a,{attrs:{type:"password",disabled:!0},model:{value:o.password,callback:function(e){o.password=e},expression:"password"}})],1),l(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:o.onSet}},[e._v(e._s(e.$t("Config.Site")))]),l(h,{attrs:{title:e.$t("Config.Password.PopupTitle"),visible:o.showPopup,"show-footer":!0,area:[38,14],confirmText:e.$t("Config.Submit")},on:{"update:visible":function(e){o.showPopup=e},confirm:o.onConfirm,cancel:o.onCancel}},[l("div",{staticClass:"p-[2.5rem] aasasa"},[l(s,{ref:"formRef",attrs:{model:o.form,rules:o.rules}},[l(n,{staticClass:"flex items-center",attrs:{label:e.$t("Password"),prop:"password1"}},[l(B,{attrs:{iconType:"refresh",width:"18rem"},on:{refresh:o.refreshPwd},model:{value:o.form.password1,callback:function(t){e.$set(o.form,"password1",t)},expression:"form.password1"}})],1),l(n,{attrs:{label:e.$t("Config.Repeat"),prop:"password2"}},[l(B,{attrs:{width:"18rem"},model:{value:o.form.password2,callback:function(t){e.$set(o.form,"password2",t)},expression:"form.password2"}})],1)],1)],1)])]},proxy:!0},{key:"desc",fn:function(){return[l("span",[e._v(e._s(e.$t("Config.Password.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Nt=f(N({__name:"index",setup(e){const{proxy:t}=K(),{getPublicConfigInfo:a}=x(),{refs:{panelConfig:s}}=Y();return{__sfc:!0,vm:t,getPublicConfigInfo:a,panelConfig:s,onSet:()=>{C()},onUnbind:async()=>{let e=null;try{await t.$confirm({icon:"warning",title:"解绑宝塔账号",message:t.$t("Config.BindAccountInfo")}),e=t.$load("正在解绑宝塔账号，请稍候...");const{data:s}=await ue();t.$message.request(s),s.status&&setTimeout((async()=>{await a(),w("/bind")}),2e3)}catch(s){}finally{null==e||e.close()}}}}}),(function(){var e=this,s=e._self._c,n=e._self._setupProxy;return s(bt,{attrs:{label:e.$t("Config.BindAccount")},scopedSlots:e._u([{key:"value",fn:function(){return[s("div",{staticClass:"w-[26rem]"},[s(a,{attrs:{value:n.panelConfig.account,disabled:!0}})],1),s(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:n.onSet}},[e._v(e._s(e.$t("Config.Site")))]),s(t,{staticClass:"!ml-12x",on:{click:n.onUnbind}},[e._v(e._s(e.$t("Config.Unbind")))])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[e._v(e._s(e.$t("Config.BindAccountDesc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Ot=f(N({__name:"index",setup(e){const{refs:{panelConfig:t}}=Y();return{__sfc:!0,panelConfig:t,onSet:()=>{b()}}}}),(function(){var e=this,s=e._self._c,n=e._self._setupProxy;return s(bt,{attrs:{label:e.$t("Config.MenuHide.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[s("div",{staticClass:"w-[26rem]"},[s(a,{attrs:{value:n.panelConfig.menuHide||"无配置",disabled:!0}})],1),s(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:n.onSet}},[e._v(e._s(e.$t("Config.Site")))])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[e._v(e._s(e.$t("Config.MenuHide.Dese")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Ft=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a}}=Y(),s=F((()=>{var e;return(null==(e=o.value.filter((e=>e.value===a.value.requestType))[0])?void 0:e.title)||""})),n=O(!1),l=O(""),o=O([{title:"Python",value:"python"},{title:"Curl",value:"curl"},{title:"PHP",value:"php"}]);return{__sfc:!0,vm:t,panelConfig:a,method:s,showPopup:n,onSet:()=>{n.value=!0,l.value=a.value.requestType},select:l,options:o,onConfirm:async()=>{let e=t.$load("正在设置请求路线，请稍候...");try{const{data:e}=await pe({http_type:l.value});t.$message.request(e),e.status&&(a.value.requestType=l.value,n.value=!1)}finally{e.close()}}}}}),(function(){var e=this,i=e._self._c,r=e._self._setupProxy;return i(bt,{attrs:{label:e.$t("Config.RequestMethod.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[i("div",{staticClass:"w-[26rem]"},[i(a,{attrs:{disabled:!0},model:{value:r.method,callback:function(e){r.method=e},expression:"method"}})],1),i(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:r.onSet}},[e._v(e._s(e.$t("Config.Site")))]),i(h,{staticClass:"overflow-hidden",attrs:{title:e.$t("Config.RequestMethod.PopupTitle"),visible:r.showPopup,area:[42,8.5],"show-footer":!0},on:{"update:visible":function(e){r.showPopup=e},confirm:r.onConfirm}},[i("div",{staticClass:"p-20x"},[i(s,{attrs:{"label-width":"80px"}},[i(n,{attrs:{label:e.$t("Config.RequestMethod.PopupElItemLabel"),"label-width":"12rem"}},[i(l,{staticClass:"w-[18rem]",attrs:{placeholder:e.$t("Config.PleaseSelect")},model:{value:r.select,callback:function(e){r.select=e},expression:"select"}},e._l(r.options,(function(e){return i(o,{key:e.value,attrs:{label:e.title,value:e.value}})})),1)],1)],1)],1)])]},proxy:!0},{key:"desc",fn:function(){return[i("span",[e._v(e._s(e.$t("Config.RequestMethod.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Ut=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a}}=Y(),s=F((()=>{var e;return(null==(e=o.value.filter((e=>e.value===a.value.requestLine))[0])?void 0:e.title)||""})),n=O(!1),l=O(""),o=O([{title:"自动",value:"auto"},{title:"IPv4",value:"ipv4"},{title:"IPv6",value:"ipv6"}]);return{__sfc:!0,vm:t,panelConfig:a,line:s,showPopup:n,onSet:()=>{n.value=!0,l.value=a.value.requestLine},select:l,options:o,onConfirm:async()=>{let e=t.$load("正在设置请求路线，请稍候...");try{const{data:e}=await fe({iptype:l.value});t.$message.request(e),e.status&&(a.value.requestLine=l.value,n.value=!1)}finally{e.close()}}}}}),(function(){var e=this,i=e._self._c,r=e._self._setupProxy;return i(bt,{attrs:{label:e.$t("Config.RepeatRoute.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[i("div",{staticClass:"w-[26rem]"},[i(a,{attrs:{value:r.line,disabled:!0}})],1),i(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:r.onSet}},[e._v(e._s(e.$t("Config.Site")))]),i(h,{staticClass:"overflow-hidden",attrs:{title:e.$t("Config.RepeatRoute.PopupTitle"),visible:r.showPopup,area:[42,8.5],"show-footer":!0},on:{"update:visible":function(e){r.showPopup=e},confirm:r.onConfirm}},[i("div",{staticClass:"p-20x"},[i(s,[i(n,{attrs:{label:e.$t("Config.RepeatRoute.PopupElItem"),"label-width":"12rem"}},[i(l,{staticClass:"w-[18rem]",attrs:{placeholder:"请选择"},model:{value:r.select,callback:function(e){r.select=e},expression:"select"}},e._l(r.options,(function(e){return i(o,{key:e.value,attrs:{label:e.title,value:e.value}})})),1)],1)],1)],1)])]},proxy:!0},{key:"desc",fn:function(){return[i("span",[e._v(e._s(e.$t("Config.RepeatRoute.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Vt=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{panelConfig:a,nodeConfig:s},getNode:n}=Y(),l=O(!1),o=O(0);return{__sfc:!0,vm:t,panelConfig:a,nodeConfig:s,getNode:n,showPopup:l,onSet:()=>{l.value=!0,o.value=a.value.panelNodeId,n()},nodeId:o,onConfirm:async()=>{let e=t.$load("正在设置启用节点，请稍候...");try{const{data:e}=await me({node_id:o.value});t.$message.request(e),e.status&&(n(),l.value=!1)}finally{e.close()}}}}}),(function(){var e=this,i=e._self._c,r=e._self._setupProxy;return i(bt,{attrs:{label:e.$t("Config.Node.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[i("div",{staticClass:"w-[26rem]"},[i(a,{attrs:{value:r.panelConfig.panelNode||"--",disabled:!0}})],1),i(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:r.onSet}},[e._v(e._s(e.$t("Config.Site")))]),i(h,{staticClass:"overflow-hidden",attrs:{title:e.$t("Config.Node.PopupTitle"),visible:r.showPopup,area:[42,8.5],"show-footer":!0},on:{"update:visible":function(e){r.showPopup=e},confirm:r.onConfirm}},[i("div",{staticClass:"p-20x"},[i(s,[i(n,{attrs:{label:e.$t("Config.Node.PopupLabel"),"label-width":"12rem"}},[i(l,{staticClass:"w-[18rem]",attrs:{placeholder:"请选择"},model:{value:r.nodeId,callback:function(e){r.nodeId=e},expression:"nodeId"}},e._l(r.nodeConfig,(function(e){return i(o,{key:e.node_id,attrs:{label:e.node_name,value:e.node_id}})})),1)],1)],1)],1)])]},proxy:!0},{key:"desc",fn:function(){return[i("span",[e._v(e._s(e.$t("Config.Node.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Ht=f(N({__name:"index",setup(e){const{refs:{settingSearch:t}}=Y();return{__sfc:!0,settingSearch:t,ClosePanel:Pt,ListenIpv6:St,OfflineMode:$t,DeveloperMode:kt,ApiInterface:At,CustomerService:Dt,UserExperience:Tt,PanelName:It,MenuTitle:Lt,SessionTimeout:qt,SitePath:Rt,BackupPath:jt,ServerIp:Mt,ServerTime:zt,Username:Bt,Password:Et,Account:Nt,MenuHide:Ot,RequestMethod:Ft,RequestLine:Ut,PanelNode:Vt}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"search-results"},[t(wt,[e._v(e._s("".concat(""===a.settingSearch?"面板":"搜索","设置")))]),t(a.ClosePanel),t(a.ListenIpv6),t(a.OfflineMode),t(a.DeveloperMode),t(a.ApiInterface),t(a.CustomerService),t(a.UserExperience),t(a.PanelName),t(a.MenuTitle),t(a.SessionTimeout),t(a.SitePath),t(a.BackupPath),t(a.ServerIp),t(a.ServerTime),t(a.Username),t(a.Password),t(a.Account),t(a.MenuHide),t(a.RequestMethod),t(a.RequestLine),t(a.PanelNode)],1)}),[],!1,null,null,null,null).exports;const Kt=f(N({__name:"index",setup(e){const{proxy:t}=K(),{getAlarmData:a}=x(),{refs:{safeConfig:s,alarmSettings:n,panelAlarmConfig:l},getPushConfigEvent:o}=Y(),i=O(!1),r=J({type:[],options:""}),c=()=>{i.value=!0,r.type=l.value&&l.value.module?l.value.module.split(","):[],r.options=n.value.filter((e=>"sms"!==e.name))};return{__sfc:!0,vm:t,getAlarmData:a,safeConfig:s,alarmSettings:n,panelAlarmConfig:l,getPushConfigEvent:o,showPopup:i,alarmForm:r,rules:{type:[{required:!0,validator:(e,t,a)=>{0===r.type.length?a(new Error("请选择告警方式")):a()},trigger:["blur","change"]}]},change:async e=>{if(e)c();else try{await de({id:"panel_safe_push",name:"site_push",data:JSON.stringify({status:!1,type:"panel_safe_push",title:"面板安全告警",module:l.value.module})})}catch(t){}},refresh:async()=>{await a(),t.$message.success("刷新成功")},open:c,cancel:()=>{i.value=!1},confirm:()=>{t.$refs.ruleForm.validate((async e=>{if(e){let e;try{e=t.$load("正在保存信息配置，请稍后...");const{data:a}=await de({id:"panel_safe_push",name:"site_push",data:JSON.stringify({status:s.value.panelAlarm,type:"panel_safe_push",title:"面板安全告警",module:r.type.join(",")})});e.close(),t.$message.request(a),await o(),i.value=!1}catch(a){}}}))}}}}),(function(){var a=this,l=a._self._c,o=a._self._setupProxy;return l("div",[l(bt,{attrs:{label:a.$t("Config.PanelAlarm.Label")},scopedSlots:a._u([{key:"value",fn:function(){return[l(e,{on:{change:function(e){return o.change(o.safeConfig.panelAlarm)}},model:{value:o.safeConfig.panelAlarm,callback:function(e){a.$set(o.safeConfig,"panelAlarm",e)},expression:"safeConfig.panelAlarm"}}),l(t,{staticClass:"!ml-12x",attrs:{size:"mini"},on:{click:function(e){return o.open()}}},[a._v(a._s(a.$t("Config.PanelAlarm.Button")))])]},proxy:!0},{key:"desc",fn:function(){return[l("span",[a._v(a._s(a.$t("Config.PanelAlarm.Desc")))])]},proxy:!0}])}),l(h,{attrs:{title:a.$t("Config.PanelAlarm.Label"),visible:o.showPopup,"show-footer":!0,area:[48],confirmText:a.$t("Config.SaveSite")},on:{"update:visible":function(e){o.showPopup=e},confirm:function(e){return o.confirm()},cancel:o.cancel}},[l("div",{staticClass:"p-16x"},[l(s,{ref:"ruleForm",attrs:{"label-width":"10rem",rules:o.rules,model:o.alarmForm}},[l(n,{attrs:{label:a.$t("Config.SafetyReminder")}},[l(e,{model:{value:o.safeConfig.panelAlarm,callback:function(e){a.$set(o.safeConfig,"panelAlarm",e)},expression:"safeConfig.panelAlarm"}})],1),l(n,{attrs:{label:a.$t("Config.AlarmMode"),prop:"type"}},[l(tt,{attrs:{name:"type"},model:{value:o.alarmForm.type,callback:function(e){a.$set(o.alarmForm,"type",e)},expression:"alarmForm.type"}})],1)],1),l("div",{staticClass:"mt-1.6rem ml-2.4rem"},[l("ul",{staticClass:"list-disc"},[l("li",[a._v("点击安装后状态未更新，尝试点击【"),l(d,{on:{click:o.refresh}},[a._v("手动刷新")]),a._v("】")],1)])])],1)])],1)}),[],!1,null,null,null,null).exports;const Wt=f(N({__name:"index",props:{compData:null},setup(e){const t=e,{compData:a}=G(t),{proxy:s}=K(),n="wx_account",l=O(!1),o=O({head_img:"",is_bound:0,is_subscribe:0,nickname:"",remaining:void 0}),i=async()=>{l.value=!0;try{const{data:e}=await ve(),{res:t}=e;P(t)&&(o.value=t)}finally{l.value=!1}},r=O(!1),c=O(!1),u=O("");return i(),{__sfc:!0,props:t,compData:a,vm:s,key:n,load:l,info:o,getInfo:i,onTest:async()=>{const e=s.$load("正在发送次数，请稍候...");try{const{data:e}=await _e(n);if(s.$message.request(e),1===e.success&&S(o.value.remaining)){o.value.remaining-=1;const{callback:e}=a.value;null==e||e()}}finally{e.close()}},subShow:r,onBindSub:()=>{r.value=!0},boundShow:c,url:u,onBindBound:async()=>{c.value=!0;const e=s.$load("正在生成二维码，请稍候...");try{const{data:e}=await ge();u.value=e.res}finally{e.close()}}}}}),(function(){var e=this,a=e._self._c,s=e._self._setupProxy;return a("div",{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:s.load,expression:"load"},{name:"bt-loading",rawName:"v-bt-loading:title",value:"正在获取配置信息，请稍候...",expression:"'正在获取配置信息，请稍候...'",arg:"title"}],staticClass:"w-[420px] p-16px"},[a("div",{staticClass:"bt-custom-form"},[a("div",{staticClass:"form-item"},[a("div",{staticClass:"label"},[e._v("绑定微信公众号")]),a("div",{staticClass:"content"},[1===s.info.is_subscribe?[a("span",{staticClass:"text-primary"},[e._v("已绑定")])]:[a("span",{staticClass:"text-danger"},[e._v("未绑定")]),a(t,{staticClass:"!ml-12px",attrs:{size:"mini",type:"primary"},on:{click:s.onBindSub}},[e._v("立即绑定")])]],2)]),a("div",{staticClass:"form-item"},[a("div",{staticClass:"label"},[e._v("绑定微信账号")]),a("div",{staticClass:"content"},[1===s.info.is_bound?[a($,{staticClass:"w-[30px] h-30px rounded-[50%]",attrs:{src:s.info.head_img}}),a("div",{staticClass:"ml-12px"},[e._v(e._s(s.info.nickname))]),a(t,{staticClass:"!ml-12px",attrs:{type:"primary",size:"mini"},on:{click:s.onBindBound}},[e._v(" 更换微信账号 ")])]:[a("span",{staticClass:"text-error"},[e._v("未绑定")]),a(t,{staticClass:"!ml-12px",attrs:{size:"mini",type:"primary"},on:{click:s.onBindBound}},[e._v(" 立即绑定 ")])]],2)]),void 0!==s.info.remaining?a("div",{staticClass:"form-item"},[a("div",{staticClass:"label"},[e._v("今日剩余发送次数")]),a("div",{staticClass:"content"},[a("span",{staticClass:"mr-12px"},[e._v(e._s(s.info.remaining))]),a(t,{attrs:{type:"primary",size:"mini"},on:{click:s.onTest}},[e._v("发送测试消息")])],1)]):e._e()]),a(nt,{staticClass:"mt-24px"},[a("li",[e._v("没有绑定微信公众号无法接收面板告警消息")]),a("li",[e._v("当前为体验版,限制每个宝塔账号发送频率100条/天")])]),a(h,{attrs:{visible:s.subShow,title:"绑定微信公众号",area:26},on:{"update:visible":function(e){s.subShow=e},close:s.getInfo}},[a("div",{staticClass:"flex flex-col items-center p-16px"},[a("div",{staticClass:"my-12px text-15px"},[e._v("微信扫码")]),a($,{staticClass:"w-[180px]",attrs:{src:"https://www.bt.cn/Public/img/bt_wx.jpg"}})],1)]),a(h,{attrs:{visible:s.boundShow,title:"绑定微信账号",area:26},on:{"update:visible":function(e){s.boundShow=e},close:s.getInfo}},[a("div",{staticClass:"flex flex-col items-center p-16px"},[a("div",{staticClass:"my-12px text-15px"},[e._v("微信扫码")]),a("div",{staticClass:"flex items-center justify-center w-[180px] h-180px"},[s.url?a(st,{attrs:{value:s.url,size:160}}):e._e()],1)])])],1)}),[],!1,null,"32c1b5d5",null,null).exports;const Jt=f(N({__name:"index",props:{compData:null},setup(e,{expose:t}){const a=e,{compData:s}=G(a),{proxy:n}=K(),l="mail",o=O(!1),i=J({setup:!1,title:"邮箱",href:""}),r=J({send:1,qq_mail:"",qq_stmp_pwd:"",hosts:"",port:"465"}),c=e=>0===Object.keys(e).length,u=async()=>{o.value=!0;try{const{data:e}=await he();if(P(e)){const t=e[l];i.setup=t.setup,i.href=t.help,c(t.data)||(r.qq_mail=t.data.send.qq_mail,r.qq_stmp_pwd=t.data.send.qq_stmp_pwd,r.hosts=t.data.send.hosts,r.port=t.data.send.port)}}finally{o.value=!1}},p=O(),f=async e=>{var t;let a=null;try{if(await(null==(t=p.value)?void 0:t.validate()),a=n.$load("正在保存".concat(i.title,"配置，请稍候...")),!i.setup){if(!(await m()).status)return}if(!(await d()).status)return;e();const{callback:l}=s.value;null==l||l()}catch(l){}finally{null==a||a.close()}},m=async()=>{const{data:e}=await ye(l);return e},d=async()=>{const{data:e}=await xe(Q(r));return n.$message.request(e),e};return u(),t({onConfirm:f}),{__sfc:!0,props:a,compData:s,vm:n,key:l,load:o,info:i,form:r,rules:{qq_mail:[{required:!0,message:"请输入发送人邮箱",trigger:"blur"}],qq_stmp_pwd:[{required:!0,message:"请输入SMTP密码",trigger:"blur"}],hosts:[{required:!0,message:"请输入SMTP服务器",trigger:"blur"}],port:[{required:!0,message:"请输入SMTP服务器",trigger:"blur"}]},isEmptyObject:c,getInfo:u,formRef:p,onConfirm:f,install:m,save:d}}}),(function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:l.load,expression:"load"},{name:"bt-loading",rawName:"v-bt-loading:title",value:"正在获取配置信息，请稍候...",expression:"'正在获取配置信息，请稍候...'",arg:"title"}],staticClass:"w-[460px] px-16px py-24px"},[t(s,{ref:"formRef",attrs:{size:"small",model:l.form,rules:l.rules}},[t(n,{attrs:{label:"发送人邮箱",prop:"qq_mail"}},[t("div",{staticClass:"w-[300px]"},[t(a,{attrs:{placeholder:""},model:{value:l.form.qq_mail,callback:function(t){e.$set(l.form,"qq_mail",t)},expression:"form.qq_mail"}})],1)]),t(n,{attrs:{label:"SMTP密码",prop:"qq_stmp_pwd"}},[t("div",{staticClass:"w-[300px]"},[t(a,{attrs:{type:"password",placeholder:"","show-password":!0},model:{value:l.form.qq_stmp_pwd,callback:function(t){e.$set(l.form,"qq_stmp_pwd",t)},expression:"form.qq_stmp_pwd"}})],1)]),t(n,{attrs:{label:"SMTP服务器",prop:"hosts"}},[t("div",{staticClass:"w-[300px]"},[t(a,{attrs:{placeholder:""},model:{value:l.form.hosts,callback:function(t){e.$set(l.form,"hosts",t)},expression:"form.hosts"}})],1)]),t(n,{attrs:{label:"端口",prop:"port"}},[t("div",{staticClass:"w-[300px]"},[t(a,{attrs:{type:"number",placeholder:""},model:{value:l.form.port,callback:function(t){e.$set(l.form,"port",t)},expression:"form.port"}})],1)])],1),t(nt,{staticClass:"mt-16px"},[t("li",[e._v("推荐使用465端口，协议为SSL/TLS")]),t("li",[e._v("25端口为SMTP协议，587端口为STARTTLS协议")]),t("li",[t(d,{attrs:{href:l.info.href}},[e._v(" 配置教程 ")])],1)])],1)}),[],!1,null,null,null,null).exports;const Gt=f(N({__name:"receive",props:{compData:null},setup(e,{expose:t}){const a=e,{compData:s}=G(a),{proxy:n}=K(),l=O(""),o=async()=>{const{row:e}=s.value;e&&(l.value=e.data.receive.join("\n"))},i=async e=>{const t=n.$load("正在保存收件者邮箱，请稍候...");try{if(!(await r()).status)return;e();const{callback:t}=s.value;null==t||t()}catch(a){}finally{t.close()}},r=async()=>{const{data:e}=await Ce({mails:l.value});return n.$message.request(e),e};return o(),t({onConfirm:i}),{__sfc:!0,props:a,compData:s,vm:n,url:l,placeholder:"每行填写一个邮箱，例：                                             xxx@163.com                                                                        xxx@qq.com",getInfo:o,onConfirm:i,save:r}}}),(function(){var e=this._self._c,t=this._self._setupProxy;return e("div",{staticClass:"w-[340px] p-16px"},[e(a,{attrs:{type:"textarea",resize:"none",autosize:{minRows:8,maxRows:8},placeholder:t.placeholder},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)}),[],!1,null,null,null,null).exports;const Qt=f(N({__name:"index",props:{compData:null},setup(e,{expose:t}){const a=e,{compData:s}=G(a),{proxy:n}=K(),l="dingding",o=O(!1),i=J({setup:!1,title:"钉钉",href:""}),r=J({title:"",url:"",atall:"True"}),c={title:[{required:!0,message:"请输入机器人名称或备注",trigger:"blur"}],url:[{required:!0,message:"请输入".concat(i.title,"机器人URL"),trigger:"blur"}]},u=async()=>{o.value=!0;try{const{data:e}=await he();if(P(e)){const t=e[l];i.setup=t.setup,i.href=t.help,t.data&&(r.title=t.data.title,r.url=t.data.dingding_url)}}finally{o.value=!1}},p=O(),f=async e=>{var t;let a=null;try{if(await(null==(t=p.value)?void 0:t.validate()),a=n.$load("正在保存".concat(i.title,"配置，请稍候...")),!i.setup){if(!(await m()).status)return}if(!(await d()).status)return;e();const{callback:l}=s.value;null==l||l()}catch(l){}finally{null==a||a.close()}},m=async()=>{const{data:e}=await ye(l);return e},d=async()=>{const{data:e}=await we(l,Q(r));return n.$message.request(e),e};return u(),t({onConfirm:f}),{__sfc:!0,props:a,compData:s,vm:n,key:l,load:o,info:i,form:r,rules:c,getInfo:u,formRef:p,onConfirm:f,install:m,save:d}}}),(function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:l.load,expression:"load"},{name:"bt-loading",rawName:"v-bt-loading:title",value:"正在获取配置信息，请稍候...",expression:"'正在获取配置信息，请稍候...'",arg:"title"}],staticClass:"w-[520px] px-16px py-24px"},[t(s,{ref:"formRef",attrs:{size:"small",model:l.form,rules:l.rules}},[t(n,{attrs:{label:"名称",prop:"title"}},[t("div",{staticClass:"w-[350px]"},[t(a,{attrs:{placeholder:"机器人名称或备注"},model:{value:l.form.title,callback:function(t){e.$set(l.form,"title",t)},expression:"form.title"}})],1)]),t(n,{attrs:{label:"URL",prop:"url"}},[t("div",{staticClass:"w-[350px]"},[t(a,{attrs:{type:"textarea",resize:"none",autosize:{minRows:5,maxRows:5},placeholder:"请输入".concat(l.info.title,"机器人URL")},model:{value:l.form.url,callback:function(t){e.$set(l.form,"url",t)},expression:"form.url"}})],1)])],1),t(nt,{staticClass:"mt-16px"},[t("li",[t(d,{attrs:{href:l.info.href}},[e._v(" 如何创建"+e._s(l.info.title)+"机器人 ")])],1)])],1)}),[],!1,null,null,null,null).exports;const Xt=f(N({__name:"index",props:{compData:null},setup(e,{expose:t}){const a=e,{compData:s}=G(a),{proxy:n}=K(),l="feishu",o=O(!1),i=J({setup:!1,title:"飞书",href:""}),r=J({title:"",url:"",atall:"True"}),c={title:[{required:!0,message:"请输入机器人名称或备注",trigger:"blur"}],url:[{required:!0,message:"请输入".concat(i.title,"机器人URL"),trigger:"blur"}]},u=async()=>{o.value=!0;try{const{data:e}=await he();if(P(e)){const t=e[l];i.setup=t.setup,i.href=t.help,t.data&&(r.title=t.data.title,r.url=t.data.feishu_url)}}finally{o.value=!1}},p=O(),f=async e=>{var t;let a=null;try{if(await(null==(t=p.value)?void 0:t.validate()),a=n.$load("正在保存".concat(i.title,"配置，请稍候...")),!i.setup){if(!(await m()).status)return}if(!(await d()).status)return;e();const{callback:l}=s.value;null==l||l()}catch(l){}finally{null==a||a.close()}},m=async()=>{const{data:e}=await ye(l);return e},d=async()=>{const{data:e}=await we(l,Q(r));return n.$message.request(e),e};return u(),t({onConfirm:f}),{__sfc:!0,props:a,compData:s,vm:n,key:l,load:o,info:i,form:r,rules:c,getInfo:u,formRef:p,onConfirm:f,install:m,save:d}}}),(function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:l.load,expression:"load"},{name:"bt-loading",rawName:"v-bt-loading:title",value:"正在获取配置信息，请稍候...",expression:"'正在获取配置信息，请稍候...'",arg:"title"}],staticClass:"w-[520px] px-16px py-24px"},[t(s,{ref:"formRef",attrs:{size:"small",model:l.form,rules:l.rules}},[t(n,{attrs:{label:"名称",prop:"title"}},[t("div",{staticClass:"w-[350px]"},[t(a,{attrs:{placeholder:"机器人名称或备注"},model:{value:l.form.title,callback:function(t){e.$set(l.form,"title",t)},expression:"form.title"}})],1)]),t(n,{attrs:{label:"URL",prop:"url"}},[t("div",{staticClass:"w-[350px]"},[t(a,{attrs:{type:"textarea",resize:"none",autosize:{minRows:5,maxRows:5},placeholder:"请输入".concat(l.info.title,"机器人URL")},model:{value:l.form.url,callback:function(t){e.$set(l.form,"url",t)},expression:"form.url"}})],1)])],1),t(nt,{staticClass:"mt-16px"},[t("li",[t(d,{attrs:{href:l.info.href}},[e._v(" 如何创建"+e._s(l.info.title)+"机器人 ")])],1)])],1)}),[],!1,null,null,null,null).exports;const Yt=f(N({__name:"index",props:{compData:null},setup(e,{expose:t}){const a=e,{compData:s}=G(a),{proxy:n}=K(),l="weixin",o=O(!1),i=J({setup:!1,title:"企业微信",href:""}),r=J({title:"",url:"",atall:"True"}),c={title:[{required:!0,message:"请输入机器人名称或备注",trigger:"blur"}],url:[{required:!0,message:"请输入".concat(i.title,"机器人URL"),trigger:"blur"}]},u=async()=>{o.value=!0;try{const{data:e}=await he();if(P(e)){const t=e[l];i.setup=t.setup,i.href=t.help,t.data&&(r.title=t.data.title,r.url=t.data.weixin_url)}}finally{o.value=!1}},p=O(),f=async e=>{var t;let a=null;try{if(await(null==(t=p.value)?void 0:t.validate()),a=n.$load("正在保存".concat(i.title,"配置，请稍候...")),!i.setup){if(!(await m()).status)return}if(!(await d()).status)return;e();const{callback:l}=s.value;null==l||l()}catch(l){}finally{null==a||a.close()}},m=async()=>{const{data:e}=await ye(l);return e},d=async()=>{const{data:e}=await we(l,Q(r));return n.$message.request(e),e};return u(),t({onConfirm:f}),{__sfc:!0,props:a,compData:s,vm:n,key:l,load:o,info:i,form:r,rules:c,getInfo:u,formRef:p,onConfirm:f,install:m,save:d}}}),(function(){var e=this,t=e._self._c,l=e._self._setupProxy;return t("div",{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:l.load,expression:"load"},{name:"bt-loading",rawName:"v-bt-loading:title",value:"正在获取配置信息，请稍候...",expression:"'正在获取配置信息，请稍候...'",arg:"title"}],staticClass:"w-[520px] px-16px py-24px"},[t(s,{ref:"formRef",attrs:{size:"small",model:l.form,rules:l.rules}},[t(n,{attrs:{label:"名称",prop:"title"}},[t("div",{staticClass:"w-[350px]"},[t(a,{attrs:{placeholder:"机器人名称或备注"},model:{value:l.form.title,callback:function(t){e.$set(l.form,"title",t)},expression:"form.title"}})],1)]),t(n,{attrs:{label:"URL",prop:"url"}},[t("div",{staticClass:"w-[350px]"},[t(a,{attrs:{type:"textarea",resize:"none",autosize:{minRows:5,maxRows:5},placeholder:"请输入".concat(l.info.title,"机器人URL")},model:{value:l.form.url,callback:function(t){e.$set(l.form,"url",t)},expression:"form.url"}})],1)])],1),t(nt,{staticClass:"mt-16px"},[t("li",[t(d,{attrs:{href:l.info.href}},[e._v(" 如何创建"+e._s(l.info.title)+"机器人 ")])],1)])],1)}),[],!1,null,null,null,null).exports,Zt=new Map([["wx_account",{title:"微信公众号",component:Wt}],["mail",{title:"发送者配置",component:Jt}],["receive",{title:"收件者邮箱",component:Gt}],["dingding",{title:"钉钉机器人配置",component:Qt}],["feishu",{title:"飞书机器人配置",component:Xt}],["weixin",{title:"企业微信机器人配置",component:Yt}]]),ea=()=>{m({isAsync:!0,title:"设置动态口令",area:[55,34],showFooter:!1,component:()=>et((()=>import("./dynamePwdResult.js?v=1714377894636")),__vite__mapDeps([20,1,2,3,4,5,6,7,8,9,21,10]),import.meta.url)})},ta=e=>{m({isAsync:!0,title:"免端口访问",area:80,showFooter:!1,component:()=>et((()=>import("./noPortConfig.js?v=1714377894636")),__vite__mapDeps([22,1,2,3,4,5,6,7,8,9,23,24,11,10,25,26,27,28,15,14,16,19,29,30,31,18,32,21,13,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]),import.meta.url),cancel:()=>{e&&e()}})},aa=()=>{m({isAsync:!0,title:"选择证书",area:60,showFooter:!1,component:()=>et((()=>import("./certListDialog.js?v=1714377894636")),__vite__mapDeps([52,34,9,4,3,8,1,2,5,6,7,35,53,47,39,11,10]),import.meta.url)})},sa=async(e={},t=!1)=>{m({title:"自定义Webhook配置",area:48,showFooter:!0,component:(await et((()=>import("./webhook.js?v=1714377894636")),__vite__mapDeps([54,9,4,3,8,1,2,5,6,7,14,18,19,16,10,11]),import.meta.url)).default,compData:{row:e,isAdd:t}})};const na=f(N({__name:"index",setup(e){const{refs:{safeConfig:t,openSSLPopup:a,noPortConfig:s}}=Y(),{proxy:n}=K(),l=O(!1),o=O(!1),i=O(!1),r=O(!1),c=O(),u=O(5),p=O({sllType:1,privateKey:"",certPem:"",checked:!1}),f=O({cert_type:"",domain:"",email:""}),m=J({popup1:!1}),d=O({certPem:"",download_root:!1,info:{},privateKey:"",rep:!1,root_password:""}),v=O([{title:"自签证书",key:1},{title:"Let's Encrypt",key:2},{title:"其他证书",key:3}]),_=()=>{i.value=!0,h()};W((()=>s.value.key),(e=>{e&&(d.value.privateKey=s.value.key,d.value.certPem=s.value.cert)}));const g=async()=>{m.popup1=!0;try{const{data:e}=await Pe();d.value=e,p.value.privateKey=null==e?void 0:e.privateKey,p.value.certPem=null==e?void 0:e.certPem}catch(e){}finally{m.popup1=!1}},h=async()=>{try{const{data:e}=await Se();f.value=e}catch(e){}},y=async(e,a,s)=>{m.popup1=!0;try{const l={cert_type:e,privateKey:a,certPem:s};0===e&&(delete l.cert_type,delete l.privateKey,delete l.certPem);const o=n.$load("正在设置面板证书配置，请稍候..."),{data:i}=await $e(l);if(o.close(),n.$message.request(i),i.status){const e=n.$load("正在刷新页面，请稍候...");await new Promise((e=>setTimeout(e,2e3))),e.close(),A(),sessionStorage.clear(),window.location.href="".concat("http:"===location.protocol?"https":"http","://").concat(window.location.host).concat(t.value.admin_path),e.popup1=!1}}catch(l){}finally{m.popup1=!1}};return V((()=>{a.value&&(_(),a.value=!1)})),{__sfc:!0,safeConfig:t,openSSLPopup:a,noPortConfig:s,vm:n,showPopup1:l,showPopup2:o,showPopup3:i,checkOffSsl:r,checkOffSslTimer:c,checkOffSslNum:u,sslPanel:p,panelSslConfig:f,load:m,sslInfo:d,options:v,open:()=>{l.value=!0,g()},openSSL:_,change:e=>{e?(i.value=!0,h()):o.value=!0,e?(clearInterval(c.value),c.value=null,u.value=5):c.value=setInterval((()=>{u.value--,u.value<=0&&(clearInterval(c.value),c.value=null,u.value=5)}),1e3)},changePanelSsl:e=>{let t=O();t.value=e?"0":1,y(t.value,d.value.privateKey,d.value.certPem)},confirm:e=>{if(!r.value&&!e)return n.$message.error("请勾选并同意承担风险");e?(y(1,d.value.privateKey,d.value.certPem),i.value=!1):(y(0),o.value=!1)},cancel:e=>{e?i.value=!1:o.value=!1,t.value.panelSSl=!t.value.panelSSl},changeSllType:e=>{p.value.sllType=e},saveSSL:async()=>{try{m.popup1=!0;const{data:e}=await be({privateKey:d.value.privateKey,certPem:d.value.certPem});n.$message.request(e),e.status&&g()}catch(e){}finally{m.popup1=!1}},copyCertPaw:e=>{e?k({value:e}):n.$message.error("当前密码为空，无法复制！")},openSslDir:()=>{aa()},getSslInfo:g,getcertificate:h,setSslInfo:y}}}),(function(){var l=this,o=l._self._c,r=l._self._setupProxy;return o("div",[o(bt,{attrs:{label:l.$t("Config.PanelSsl.Label")},scopedSlots:l._u([{key:"value",fn:function(){return[o(e,{on:{change:function(e){return r.change(r.safeConfig.panelSSl)}},model:{value:r.safeConfig.panelSSl,callback:function(e){l.$set(r.safeConfig,"panelSSl",e)},expression:"safeConfig.panelSSl"}}),o(t,{staticClass:"!ml-12x",attrs:{size:"mini"},on:{click:function(e){return r.open()}}},[l._v(l._s(l.$t("Config.PanelSsl.Button")))])]},proxy:!0},{key:"desc",fn:function(){return[o("span",[l._v(l._s(l.$t("Config.PanelSsl.Desc")))]),o(d,{attrs:{href:"https://www.bt.cn/bbs/thread-105443-1-1.html"}},[l._v(l._s(l.$t("Config.KonwDetail")))])]},proxy:!0}])}),o(h,{attrs:{title:l.$t("Config.PanelSsl.CustomizeSsl"),visible:r.showPopup1,area:[70]},on:{"update:visible":function(e){r.showPopup1=e}}},[o("div",{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:r.load.popup1,expression:"load.popup1"},{name:"bt-loading",rawName:"v-bt-loading:title",value:"正在获取证书信息，请稍候...",expression:"'正在获取证书信息，请稍候...'",arg:"title"}],staticClass:"p-24x"},[o(i,{attrs:{type:"success",closable:!1}},[o("div",{staticClass:"inline-block mr-32x"},[l._v(" "+l._s(l.$t("Config.PanelSsl.DomainName"))),o("span",{staticClass:"font-bold"},[l._v(l._s(r.sslInfo.info.subject))])]),o("div",{staticClass:"inline-block mr-32x"},[l._v(" "+l._s(l.$t("Config.PanelSsl.CertificateBrand"))),o("span",{staticClass:"font-bold"},[l._v(l._s(r.sslInfo.info.issuer))])]),o("div",{staticClass:"inline-block mr-32x"},[l._v(" "+l._s(l.$t("Config.PanelSsl.MaturityTime"))),o("span",{staticClass:"font-bold"},[l._v(l._s(r.sslInfo.info.notAfter))])])]),o("div",{staticClass:"mt-6 flex items-center text-[#20a53a] font-bold"},[o("span",[l._v(l._s(l.$t("Config.PanelSsl.DownloadPrompt")))])]),r.sslInfo.download_root?o("div",{staticClass:"mt-2 flex items-center"},[o("span",[l._v(l._s(l.$t("Config.PanelSsl.Prompt")))]),o(D,{attrs:{size:"mini mr-8x"}},[o("a",{attrs:{href:"/download?filename=/www/server/panel/ssl/baota_root.pfx",target:"_blank"}},[l._v(l._s(l.$t("Config.PanelSsl.Download")))])]),r.sslInfo.root_password?[o("span",[l._v(l._s(l.$t("Config.PanelSsl.SslPassword")))]),o("div",{staticClass:"w-[20rem] flex"},[o(a,{attrs:{disabled:!0,placeholder:"密码为空"},model:{value:r.sslInfo.root_password,callback:function(e){l.$set(r.sslInfo,"root_password",e)},expression:"sslInfo.root_password"}}),o(D,{staticClass:"align-sub",on:{click:function(e){return r.copyCertPaw(r.sslInfo.root_password||"")}}},[l._v(l._s(l.$t("config.Copy")))])],1)]:l._e()],2):l._e(),o(s,{ref:"form",staticClass:"mt-6 sslPanel",attrs:{"label-position":"left"}},[o(n,{staticClass:"flex",attrs:{label:l.$t("Config.PanelSsl.Label")}},[o(e,{on:{change:function(e){return r.changePanelSsl(r.safeConfig.panelSSl)}},model:{value:r.safeConfig.panelSSl,callback:function(e){l.$set(r.safeConfig,"panelSSl",e)},expression:"safeConfig.panelSSl"}}),o(d,{staticClass:"ml-12x",attrs:{href:"https://www.bt.cn/bbs/thread-105443-1-1.html"}},[o("p",{staticClass:"text-[1.2rem]"},[l._v(l._s(l.$t("Config.PanelSsl.BtLink")))])]),o(D,{staticClass:"float-right",attrs:{type:"default",size:"mini"},on:{click:r.openSslDir}},[l._v("证书夹")])],1),o("div",{staticClass:"flex mt-12x"},[o("div",{staticClass:"flex-1 mr-20x"},[o("div",{staticClass:"text-[1.2rem] mb-8x"},[l._v(l._s(l.$t("Config.PanelSsl.Key")))]),o(a,{staticClass:"text-[1.2rem]",attrs:{type:"textarea",rows:13,size:"mini"},model:{value:r.sslInfo.privateKey,callback:function(e){l.$set(r.sslInfo,"privateKey",e)},expression:"sslInfo.privateKey"}})],1),o("div",{staticClass:"flex-1"},[o("div",{staticClass:"text-[1.2rem] mb-8x"},[l._v(l._s(l.$t("Config.PanelSsl.Pem")))]),o(a,{attrs:{type:"textarea",rows:13,size:"mini"},model:{value:r.sslInfo.certPem,callback:function(e){l.$set(r.sslInfo,"certPem",e)},expression:"sslInfo.certPem"}})],1)]),o(t,{staticClass:"!mt-4",attrs:{type:"primary"},on:{click:r.saveSSL}},[l._v(l._s(l.$t("Config.Save")))])],1),o("ul",{staticClass:"list-disc text-[#777] px-20x pt-12x"},[o("li",[l._v(" "+l._s(l.$t("Config.PanelSsl.PopupInfo1"))+" "),o(d,{attrs:{href:"https://www.bt.cn/bbs/thread-105443-1-1.html"}},[l._v(l._s(l.$t("Config.Help")))])],1),o("li",[l._v(l._s(l.$t("Config.PanelSsl.PopupInfo2")))]),o("li",[l._v(l._s(l.$t("Config.PanelSsl.PopupInfo3")))])])],1)]),o(h,{attrs:{title:l.$t("Config.PanelSsl.Close"),area:[35,"auto"],visible:r.showPopup2},on:{"update:visible":function(e){r.showPopup2=e}}},[o("div",{staticClass:"pt-20x flex flex-col"},[o("div",{staticClass:"flex items-center px-20x"},[o("i",{staticClass:"el-icon-question text-[#e6a23c] text-[3rem] pr-4"}),o("span",{staticClass:"text-[1.4rem] leading-10 text-danger"},[l._v("关闭SSL后请使用安全登录模式进行登录，否则会存在“重放攻击”风险，是否确定关闭？")])]),o("div",{staticClass:"flex items-center mt-12x ml-4x px-20x"},[o(T,{staticClass:"!mr-4x",model:{value:r.checkOffSsl,callback:function(e){r.checkOffSsl=e},expression:"checkOffSsl"}}),l._v(" 我已了解风险，确认关闭 ")],1),o("div",{staticClass:"bg-[#f6f8f8] footer-btn flex items-center justify-end mt-20x p-12x w-full"},[o(D,{attrs:{type:"cancel"},on:{click:function(e){return r.cancel(!1)}}},[l._v("取消")]),o(D,{attrs:{type:"danger",disabled:!!r.checkOffSslTimer||!r.checkOffSsl},on:{click:function(e){return r.confirm(!1)}}},[l._v("确认关闭SSL "+l._s(r.checkOffSslTimer?"（剩余".concat(r.checkOffSslNum,"秒可操作）"):""))])],1)])]),o(h,{attrs:{title:l.$t("Config.PanelSsl.Certificate"),area:[54],visible:r.showPopup3,"show-footer":!0},on:{"update:visible":function(e){r.showPopup3=e},confirm:function(e){return r.confirm(!0)},cancel:function(e){return r.cancel(!0)}}},[o("div",{staticClass:"p-[2rem]"},[o("div",{staticClass:"flex items-center justify-center mb-16x"},[o(I,{attrs:{name:"scanning-success",size:"3.2"}}),o("p",{staticClass:"text-[2.1rem] ml-4x"},[l._v("立即【开启SSL证书】保护面板安全")])],1),o("div",{staticClass:"flex flex-col bg-[#f7f7f7] p-20x"},[o("span",[l._v("访问步骤：")]),o("ul",{staticClass:"list-decimal ml-20x mt-4x leading-10"},[o("li",[l._v("开启https")]),o("li",[l._v("使用https网站访问面板")]),o("li",[l._v("如提醒风险（正常现象）点击【高级】或【详情】如下图")]),o("li",[l._v("【继续访问】或【接受风险并继续】")])]),o(L,{staticClass:"block mt-4x h-[18rem] w-[28rem]",attrs:{src:"/other/bt-https.png"}})],1),o(s,{ref:"form",staticClass:"my-6",attrs:{model:r.sslPanel}},[o(n,{attrs:{label:l.$t("Config.Type")}},[o(at,{staticClass:"w-[28rem]",attrs:{options:r.options,change:r.changeSllType},model:{value:r.sslPanel.sllType,callback:function(e){l.$set(r.sslPanel,"sllType",e)},expression:"sslPanel.sllType"}})],1),3==r.sslPanel.sllType?o(n,{attrs:{label:l.$t("Config.PanelSsl.Key")}},[o("div",{staticClass:"w-[24rem]"},[o(a,{attrs:{type:"textarea",rows:4},model:{value:r.sslPanel.privateKey,callback:function(e){l.$set(r.sslPanel,"privateKey",e)},expression:"sslPanel.privateKey"}})],1)]):l._e(),3==r.sslPanel.sllType?o(n,{attrs:{label:l.$t("Config.PanelSsl.Pem")}},[o("div",{staticClass:"w-[24rem]"},[o(a,{attrs:{type:"textarea",rows:4},model:{value:r.sslPanel.certPem,callback:function(e){l.$set(r.sslPanel,"certPem",e)},expression:"sslPanel.certPem"}})],1)]):l._e()],1),o("ul",{staticClass:"list-disc ml-20x mt-12x leading-10 text-[#666]"},[o("li",[l._v(" 开启后导致面板不能访问，可以点击查看"),o(d,{attrs:{href:"https://www.bt.cn/bbs/thread-117246-1-1.html"}},[l._v("解决方法")])],1),o("li",[l._v("自签证书不被浏览器信任，显示不安全是正常现象")])])],1)])],1)}),[],!1,null,"17581cff",null,null).exports;const la=f(N({__name:"index",setup(e){const{refs:{noPortConfig:t},getCertListData:a}=Y(),{proxy:s}=K(),n=O("配置一个域名来访问面板");return{__sfc:!0,noPortConfig:t,getCertListData:a,vm:s,desc:n,change:async e=>{if(e)ta((()=>{t.value.proxy_stats=!1}));else try{const{data:e}=await ke();s.$message.request(e),e.status&&a()}catch(n){}},noPortConfigDialog:ta}}}),(function(){var a=this,s=a._self._c,n=a._self._setupProxy;return s("div",[s(bt,{attrs:{label:"免端口访问"},scopedSlots:a._u([{key:"value",fn:function(){return[s(e,{on:{change:function(e){return n.change(n.noPortConfig.proxy_stats)}},model:{value:n.noPortConfig.proxy_stats,callback:function(e){a.$set(n.noPortConfig,"proxy_stats",e)},expression:"noPortConfig.proxy_stats"}}),s(t,{staticClass:"!ml-12x",attrs:{size:"mini"},on:{click:function(e){return n.noPortConfigDialog()}}},[a._v(" 免端口访问配置 ")])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[a._v(a._s(n.desc))])]},proxy:!0}])})],1)}),[],!1,null,null,null,null).exports;const oa=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{safeConfig:a}}=Y(),s=O(!1),n=O(!1),l=O(!1),o=J({basic_user:"",basic_pwd:"",open:!0});return{__sfc:!0,vm:t,safeConfig:a,showPopup1:s,showPopup2:n,checked:l,basicAuthConfig:o,change:async e=>{if(e)s.value=!0;else{const{data:e}=await Ae({open:"False",basic_user:"",basic_pwd:""});t.$message.request(e),e.status&&setTimeout((()=>{window.location.reload()}),1e3)}},confirm:e=>{!e||l.value?(s.value=!1,n.value=!0):t.$message.error("请勾选并同意承担风险")},cancel:()=>{a.value.basicAuth=!a.value.basicAuth,o.open},setBasic:async()=>{try{const{data:e}=await Ae({...o,open:o.open?"True":"False"});t.$message.request(e),n.value=!1,window.location.reload()}catch(e){}}}}}),(function(){var l=this,o=l._self._c,i=l._self._setupProxy;return o("div",[o(bt,{attrs:{label:l.$t("Config.BasicAuth.Label")},scopedSlots:l._u([{key:"value",fn:function(){return[o(e,{on:{change:function(e){return i.change(i.safeConfig.basicAuth)}},model:{value:i.safeConfig.basicAuth,callback:function(e){l.$set(i.safeConfig,"basicAuth",e)},expression:"safeConfig.basicAuth"}})]},proxy:!0},{key:"desc",fn:function(){return[o("span",[l._v(l._s(l.$t("Config.BasicAuth.Desc")))]),o(d,{attrs:{href:"https://www.bt.cn/bbs/thread-34374-1-1.html"}},[l._v(l._s(l.$t("Config.KonwDetail")))])]},proxy:!0}])}),o(h,{attrs:{title:l.$t("Config.BasicAuth.PopupTitle1"),visible:i.showPopup1,"show-footer":!0,area:[50,29],confirmText:l.$t("Config.Submit")},on:{"update:visible":function(e){i.showPopup1=e},confirm:function(e){return i.confirm(!0)},cancel:function(e){return i.cancel()}}},[o("div",{staticClass:"p-[2rem]"},[o("div",{staticClass:"flex text-[2.1rem] items-center"},[o("i",{staticClass:"el-icon-question text-[#f4c500] text-[3rem] pr-4"}),o("p",{},[l._v(l._s(l.$t("Config.BasicAuth.Popup1Prompt")))])]),o("ul",{staticClass:"my-[2rem] py-[1.5rem] pl-32x list-disc bg-[#f7f7f7]"},[o("li",{staticClass:"text-danger h-[2.4rem]"},[l._v(l._s(l.$t("Config.BasicAuth.Popup1Info1")))]),o("li",{staticClass:"text-medium h-[2.4rem]"},[l._v(l._s(l.$t("Config.BasicAuth.Popup1Info2")))]),o("li",{staticClass:"text-medium h-[2.4rem]"},[l._v(l._s(l.$t("Config.BasicAuth.Popup1Info3")))]),o("li",{staticClass:"text-medium h-[2.4rem]"},[l._v(l._s(l.$t("Config.BasicAuth.Popup1Info4")))]),o("li",{staticClass:"text-medium h-[2.4rem]"},[l._v(l._s(l.$t("Config.BasicAuth.Popup1Info5")))])]),o(r,{staticClass:"item",attrs:{effect:"dark",content:"请阅读并同意承担风险",placement:"top-start"}},[o(T,{model:{value:i.checked,callback:function(e){i.checked=e},expression:"checked"}},[o("div",{staticClass:"text-[1.2rem]"},[l._v(l._s(l.$t("Config.BasicAuth.Popup1Checked")))])])],1),o(d,{attrs:{href:"https://www.bt.cn/bbs/thread-34374-1-1.html"}},[l._v(l._s(l.$t("Config.BasicAuth.Popup1Link")))])],1)]),o(h,{attrs:{title:l.$t("Config.BasicAuth.Popup2Title"),visible:i.showPopup2,area:[50,36]},on:{"update:visible":function(e){i.showPopup2=e},cancel:function(e){return i.cancel()}}},[o("div",{staticClass:"p-24x"},[o(s,{attrs:{id:"baConfig","label-width":"8rem"},model:{value:i.basicAuthConfig,callback:function(e){i.basicAuthConfig=e},expression:"basicAuthConfig"}},[o(n,{attrs:{label:l.$t("Config.BasicAuth.Popup2Label1")}},[o(e,{model:{value:i.basicAuthConfig.open,callback:function(e){l.$set(i.basicAuthConfig,"open",e)},expression:"basicAuthConfig.open"}})],1),o(n,{attrs:{label:l.$t("Username")}},[o("div",{staticClass:"w-[28.8rem]"},[o(a,{attrs:{placeholder:l.$t("Config.BasicAuth.Popup2Input1")},model:{value:i.basicAuthConfig.basic_user,callback:function(e){l.$set(i.basicAuthConfig,"basic_user",e)},expression:"basicAuthConfig.basic_user"}})],1)]),o(n,{attrs:{label:l.$t("Password")}},[o("div",{staticClass:"w-[28.8rem]"},[o(a,{attrs:{placeholder:l.$t("Config.BasicAuth.Popup2Input2")},model:{value:i.basicAuthConfig.basic_pwd,callback:function(e){l.$set(i.basicAuthConfig,"basic_pwd",e)},expression:"basicAuthConfig.basic_pwd"}})],1)]),o(n,{attrs:{label:" "}},[o(t,{attrs:{type:"primary"},on:{click:function(e){return i.setBasic()}}},[l._v(l._s(l.$t("Config.SaveSite")))])],1)],1),o("ul",{staticClass:"pl-32x list-disc"},[o("li",{staticClass:"text-danger h-[2.4rem]"},[l._v(l._s(l.$t("Config.BasicAuth.Popup2Info1")))]),o("li",{staticClass:"text-medium h-[2.4rem]"},[l._v(l._s(l.$t("Config.BasicAuth.Popup2Info2")))]),o("li",{staticClass:"text-medium h-[2.4rem]"},[l._v(l._s(l.$t("Config.BasicAuth.Popup2Info3")))]),o("li",{staticClass:"text-medium h-[2.4rem]"},[l._v(l._s(l.$t("Config.BasicAuth.Popup2Info4")))]),o("li",{staticClass:"text-medium h-[2.4rem]"},[l._v(l._s(l.$t("Config.BasicAuth.Popup2Info5")))])])],1)])],1)}),[],!1,null,"7d3860ea",null,null).exports;const ia=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{safeConfig:a}}=Y(),s=O(!1),n=O(!1),l=O(!1);W(s,((e,t)=>{!e&&(n.value=!1)}));const o=async()=>{const e=t.$load("正在设置动态口令配置，请稍候...");try{const{data:e}=await De({act:l.value?a.value.checkTwoStep?1:0:1});t.$message.request(e),!a.value.checkTwoStep&&l.value||(s.value=!1,ea())}finally{e.close()}};return{__sfc:!0,vm:t,safeConfig:a,showPopup:s,checked:n,isSwitch:l,change:e=>{l.value=!0,e?s.value=!0:o()},openDyname:()=>{a.value.checkTwoStep?ea():s.value=!0},confirm:e=>{!e||n.value?o():t.$message.error("请勾选并同意承担风险")},setTwoStep:o,cancel:()=>{l.value&&(a.value.checkTwoStep=!a.value.checkTwoStep),l.value=!1}}}}),(function(){var a=this,s=a._self._c,n=a._self._setupProxy;return s("div",[s(bt,{attrs:{label:a.$t("Config.DynamicPassword.Label")},scopedSlots:a._u([{key:"value",fn:function(){return[s(e,{on:{change:function(e){return n.change(n.safeConfig.checkTwoStep)}},model:{value:n.safeConfig.checkTwoStep,callback:function(e){a.$set(n.safeConfig,"checkTwoStep",e)},expression:"safeConfig.checkTwoStep"}}),s(t,{staticClass:"!ml-12x",attrs:{size:"mini"},on:{click:n.openDyname}},[a._v(a._s(a.$t("Config.DynamicPassword.Button")))])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[a._v(a._s(a.$t("Config.DynamicPassword.Desc1")))]),s(d,{attrs:{href:"https://www.bt.cn/bbs/forum.php?mod=viewthread&tid=105839"}},[a._v(a._s(a.$t("Config.KonwDetail")))])]},proxy:!0}])}),s(h,{attrs:{title:a.$t("Config.DynamicPassword.PopupTitle"),visible:n.showPopup,"show-footer":!0,area:[50,46],confirmText:a.$t("Config.Submit")},on:{"update:visible":function(e){n.showPopup=e},confirm:function(e){return n.confirm(!0)},cancel:function(e){return n.cancel()}}},[s("div",{staticClass:"p-[2rem]"},[s("div",{staticClass:"flex text-[2.1rem] items-center"},[s("i",{staticClass:"el-icon-question text-[#f4c500] text-[3rem] pr-4"}),s("p",{},[a._v(a._s(a.$t("Config.DynamicPassword.PopupPrompt")))])]),s("ul",{staticClass:"my-[2rem] py-[1.5rem] pl-32x list-disc bg-[#f7f7f7]"},[s("li",{staticClass:"text-danger h-[2.4rem]"},[a._v(a._s(a.$t("Config.DynamicPassword.PopupInfo1")))]),s("li",{staticClass:"text-danger h-[2.4rem]"},[a._v(a._s(a.$t("Config.DynamicPassword.PopupInfo2")))]),s("li",{staticClass:"text-medium h-[2.4rem]"},[a._v(a._s(a.$t("Config.DynamicPassword.PopupInfo3")))]),s("li",{staticClass:"text-medium h-[2.4rem]"},[a._v(a._s(a.$t("Config.DynamicPassword.PopupInfo4")))]),s("li",{staticClass:"text-medium h-[2.4rem]"},[a._v(" "+a._s(a.$t("Config.DynamicPassword.PopupInfo5"))+" "),s(d,{attrs:{href:"https://www.bt.cn/bbs/forum.php?mod=viewthread&tid=105839"}},[a._v(a._s(a.$t("Config.ViewDetails"))+" ")])],1)]),s("div",{staticClass:"overflow-hidden py-12x text-center"},[s("div",{staticClass:"mt-4x"},[a._v(a._s(a.$t("Config.DynamicPassword.AppInfo")))]),s("div",{staticClass:"flex justify-center"},[s(L,{staticClass:"block w-[12rem] h-[12rem]",attrs:{src:"other/bt_app.png"}})],1)]),s(T,{staticClass:"mt-12x px-16x",model:{value:n.checked,callback:function(e){n.checked=e},expression:"checked"}},[s("div",{staticClass:"text-[1.2rem]"},[a._v(a._s(a.$t("Config.DynamicPassword.PopupChecked")))])])],1)])],1)}),[],!1,null,null,null,null).exports;const ra=f(N({__name:"index",setup(e){const{refs:{safeConfig:t}}=Y(),{proxy:a}=K(),s=O(!1),n=O(!1),l=O(!1),o=J({loading:!1,title:"正在获取证书信息，请稍候..."}),i=O({crl:"",cert:""});W(s,((e,t)=>{!e&&(i.value.crl="",i.value.cert="")}));return{__sfc:!0,safeConfig:t,vm:a,showPopup:s,isSwitch:n,checked:l,load:o,sslInfo:i,openPopup:async()=>{o.title="正在获取证书信息，请稍候...",o.loading=!0,s.value=!0;try{const{data:e}=await Te();t.value.sslVerify=e.status,i.value.crl=e.crl,i.value.cert=e.ca}catch(e){s.value=!1}finally{o.loading=!1}},change:async e=>{try{if(!t.value.panelSSl)return a.$message.warn("请先开启面板SSL证书后重试"),void(t.value.sslVerify=!1);const{data:l}=await Te();if(i.value.crl=l.crl,i.value.cert=l.ca,n.value=!0,e)s.value=!0;else{const{data:e}=await Ie({status:0});e.status&&window.location.reload()}}catch(l){}},cancel:()=>{n.value&&(t.value.sslVerify=!t.value.sslVerify),n.value=!1},saveConfig:async()=>{try{if(!i.value.crl)return a.$message.error("注销列表(crl)不能为空");if(!i.value.cert)return a.$message.error("证书(cert)不能为空");if(n.value&&!l.value)return a.$message.error("请勾选并同意承担风险");o.title="正在保存，请稍候...",o.loading=!0;const{data:e}=await Ie({crl:i.value.crl,cert:i.value.cert,status:n.value?1:0});if(!e.status)return void a.$message.msg({customClass:"bt-message-error-html",dangerouslyUseHTMLString:!0,message:e.msg,type:"error",duration:0,showClose:!0});await Le(),e.status&&window.location.reload()}catch(e){}finally{o.loading=!1}}}}}),(function(){var s=this,n=s._self._c,l=s._self._setupProxy;return n("div",[n(bt,{attrs:{label:s.$t("Config.SslVerify.Label")},scopedSlots:s._u([{key:"value",fn:function(){return[n(e,{on:{change:function(e){return l.change(l.safeConfig.sslVerify)}},model:{value:l.safeConfig.sslVerify,callback:function(e){s.$set(l.safeConfig,"sslVerify",e)},expression:"safeConfig.sslVerify"}}),n(t,{staticClass:"!ml-12x",attrs:{size:"mini"},on:{click:l.openPopup}},[s._v(s._s(s.$t("config.SslVerify.Button")))])]},proxy:!0},{key:"desc",fn:function(){return[n("span",[s._v(" "+s._s(s.$t("Config.SslVerify.Desc"))+" ")]),n(d,{attrs:{href:"https://www.bt.cn/bbs/thread-77863-1-1.html"}},[s._v(s._s(s.$t("Config.KonwDetail")))])]},proxy:!0}])}),n(h,{attrs:{title:s.$t("Config.SslVerify.PopupTitle"),visible:l.showPopup,area:70,showFooter:""},on:{"update:visible":function(e){l.showPopup=e},confirm:l.saveConfig,cancel:function(e){return l.cancel()}}},[n("div",{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:l.load.loading,expression:"load.loading"},{name:"bt-loading",rawName:"v-bt-loading:title",value:l.load.title,expression:"load.title",arg:"title"}],staticClass:"p-[2rem]"},[l.isSwitch?[n("div",{staticClass:"flex items-center"},[n("i",{staticClass:"el-icon-question text-[#f4c500] text-[3rem] pr-4"}),n("p",{staticClass:"text-[2.1rem]"},[s._v(s._s(s.$t("Config.PanelSsl.CertificateInfo1")))])]),n("ul",{staticClass:"my-[2rem] py-[1.5rem] pl-32x list-disc bg-[#f7f7f7]"},[n("li",{staticClass:"text-danger h-[2.4rem]"},[s._v("必须要用到且了解此功能才决定自己是否要开启！")]),n("li",{staticClass:"text-medium h-[2.4rem]"},[s._v(" 开启后电脑需要安装此证书，否则将无法访问，属于【极高安全级别】的限制，类似银行账号U盘密钥登录。 ")]),n("li",{staticClass:"text-medium h-[2.4rem]"},[s._v(" 注销列表(crl)和证书(cert)可通过企业版插件[堡塔限制访问型证书->双向认证->服务器证书]获取。 ")]),n("li",{staticClass:"text-medium h-[2.4rem]"},[s._v(" 开启之前请先下载好对应的[客户端证书]，否则将无法访问面板。 ")]),n("li",{staticClass:"text-medium h-[2.4rem]"},[s._v(" 开启访问设备验证后，未授权的用户访问将会出现400错误。 ")]),n("li",{staticClass:"text-medium h-[2.4rem]"},[s._v(" 开启后导致面板不能访问，命令行：bt 29 关闭访问设备验证。 ")])])]:s._e(),n("div",{staticClass:"flex mt-12x"},[n("div",{staticClass:"flex-1 mr-20x relative"},[n("div",{staticClass:"text-[1.2rem] mb-8x"},[s._v("注销列表(crl)")]),n(a,{staticClass:"text-[1.2rem]",attrs:{type:"textarea",rows:13,size:"mini"},model:{value:l.sslInfo.crl,callback:function(e){s.$set(l.sslInfo,"crl",e)},expression:"sslInfo.crl"}}),n("span",{directives:[{name:"show",rawName:"v-show",value:""===l.sslInfo.crl,expression:"sslInfo.crl === ''"}],staticClass:"placeholder"},[s._v("请粘贴您的注销列表（crl）")])],1),n("div",{staticClass:"flex-1 relative"},[n("div",{staticClass:"text-[1.2rem] mb-8x"},[s._v("证书(cert)")]),n(a,{attrs:{type:"textarea",rows:13,size:"mini"},model:{value:l.sslInfo.cert,callback:function(e){s.$set(l.sslInfo,"cert",e)},expression:"sslInfo.cert"}}),n("span",{directives:[{name:"show",rawName:"v-show",value:""===l.sslInfo.cert,expression:"sslInfo.cert === ''"}],staticClass:"placeholder"},[s._v("请粘贴您的证书(cert)")])],1)]),l.isSwitch?[n(T,{staticClass:"mt-12x px-16x",model:{value:l.checked,callback:function(e){l.checked=e},expression:"checked"}},[n("div",{staticClass:"text-[1.2rem]"},[s._v(" 已了经解详情,并愿意承担风险！ "),n(d,{attrs:{href:"https://www.bt.cn/bbs/thread-77863-1-1.html",target:"_blank"}},[s._v(" 了解详情 ")])],1)])]:[n("ul",{staticClass:"pl-20x mt-12x list-disc"},[n("li",{staticClass:"text-medium h-[2.4rem]"},[s._v(s._s(s.$t("Config.SslVerify.PopupInfo1")))]),n("li",{staticClass:"text-medium h-[2.4rem]"},[s._v(s._s(s.$t("Config.SslVerify.PopupInfo2")))])])]],2)])],1)}),[],!1,null,"4b1df61b",null,null).exports;const ca=f(N({__name:"index",setup(e){const{refs:{safeConfig:t}}=Y(),{proxy:a}=K(),s=O(!1),n=O(!1),l=()=>{t.value.pawComplexity=!t.value.pawComplexity},o=async()=>{const e=a.$load("正在设置密码复杂度，请稍候...");try{const{data:e}=await qe();a.$message.request(e),!e.status&&l()}catch(t){}finally{e.close()}};return{__sfc:!0,safeConfig:t,vm:a,showPopup1:s,showPopup2:n,changeSwith:e=>{e?s.value=!0:n.value=!0},confirm:()=>{s.value=!1,n.value=!1,o()},cancel:l,setPassword:o}}}),(function(){var t=this,a=t._self._c,s=t._self._setupProxy;return a("div",[a(bt,{attrs:{label:t.$t("Config.PasswordSafe.Label")},scopedSlots:t._u([{key:"value",fn:function(){return[a(e,{on:{change:function(e){return s.changeSwith(s.safeConfig.pawComplexity)}},model:{value:s.safeConfig.pawComplexity,callback:function(e){t.$set(s.safeConfig,"pawComplexity",e)},expression:"safeConfig.pawComplexity"}})]},proxy:!0},{key:"desc",fn:function(){return[a("span",[t._v(t._s(t.$t("Config.PasswordSafe.Desc1")))]),a("span",{staticClass:"text-danger"},[t._v(t._s(t.$t("Config.PasswordSafe.Desc2")))])]},proxy:!0}])}),a(h,{attrs:{title:t.$t("Config.PasswordSafe.PopupTitle"),visible:s.showPopup1,area:[36,"auto"],"show-footer":!0},on:{"update:visible":function(e){s.showPopup1=e},confirm:function(e){return s.confirm()},cancel:function(e){return s.cancel()}}},[a("div",{staticClass:"p-[2rem] flex"},[a("i",{staticClass:"el-icon-question text-[#f4c500] text-[3rem] pr-4"}),a("p",{staticClass:"text-[1.4rem] leading-8"},[t._v(" "+t._s(t.$t("Config.PasswordSafe.PopupInfo1"))+" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.$t("Config.PasswordSafe.PopupInfo2")))]),t._v(" "+t._s(t.$t("Config.PasswordSafe.PopupInfo3"))+" ")])])]),a(h,{attrs:{title:"关闭 密码复杂度验证",visible:s.showPopup2,area:[36,"auto"],"show-footer":!0},on:{"update:visible":function(e){s.showPopup2=e},confirm:function(e){return s.confirm()},cancel:function(e){return s.cancel()}}},[a("div",{staticClass:"p-[2rem] flex"},[a("i",{staticClass:"el-icon-question text-[#f4c500] text-[3rem] pr-4"}),a("p",{staticClass:"text-[1.4rem] leading-8"},[t._v(t._s(t.$t("Config.PasswordSafe.PopupInfo4")))])])])],1)}),[],!1,null,null,null,null).exports;const ua=f(N({__name:"index",setup(e){const{refs:{safeConfig:t},saveConfig:a}=Y();return{__sfc:!0,safeConfig:t,saveConfig:a,save:()=>{a("正在绑定域名，请稍候...")}}}}),(function(){var e=this,s=e._self._c,n=e._self._setupProxy;return s(bt,{attrs:{label:e.$t("Config.BindDomain.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[s("div",{staticClass:"w-[26rem]"},[s(a,{model:{value:n.safeConfig.domain,callback:function(t){e.$set(n.safeConfig,"domain",t)},expression:"safeConfig.domain"}})],1),s(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:function(e){return n.save()}}},[e._v(e._s(e.$t("Config.Save")))])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[e._v(e._s(e.$t("Config.BindDomain.Desc1")))]),s("span",{staticClass:"text-danger"},[e._v(e._s(e.$t("Config.BindDomain.Desc2")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const pa=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{safeConfig:a},saveConfig:s}=Y();return{__sfc:!0,vm:t,safeConfig:a,saveConfig:s,save:async()=>{let e=/^((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}$/,n=a.value.limitip.split(",").join("-").split("-"),l=!0;if(n.length)for(let t=0;t<n.length;t++)0==e.test(n[t])&&(l=!1);if(!l&&a.value.limitip.length>0)return t.$message.error("请输入正确的ip地址");s("正在保存授权IP，请稍候...",{isReturn:!0}),window.location.reload()}}}}),(function(){var e=this,s=e._self._c,n=e._self._setupProxy;return s(bt,{attrs:{label:e.$t("Config.AuthIp.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[s("div",{staticClass:"w-[26rem]"},[s(a,{attrs:{placeholder:"示例: 1.1.1.1,2.2.2.1-2.2.2.2"},model:{value:n.safeConfig.limitip,callback:function(t){e.$set(n.safeConfig,"limitip",t)},expression:"safeConfig.limitip"}})],1),s(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:function(e){return n.save()}}},[e._v(e._s(e.$t("Config.Save")))])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[e._v(e._s(e.$t("Config.AuthIp.Desc1")))]),s("span",{staticClass:"text-danger"},[e._v(e._s(e.$t("Config.AuthIp.Desc2")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const fa=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{safeConfig:a,openPortPopup:s}}=Y(),n=O(8888),l=O(!1),o=O(!1),i=()=>{o.value=!0,n.value=a.value.port},r=async()=>{const e=t.$load("正在设置面板端口，请稍候...");try{const{data:e}=await Re({port:n.value});t.$message.request(e),e.status&&_("".concat(location.protocol,"//").concat(location.hostname,":").concat(n.value).concat(location.pathname),2e3)}catch(a){}finally{e.close()}};return V((()=>{s.value&&(i(),s.value=!1)})),{__sfc:!0,vm:t,safeConfig:a,openPortPopup:s,port:n,checked:l,showPopup:o,onSet:i,confirm:()=>l.value?lt(n.value)?(o.value=!1,void r()):t.$message.error("端口格式错误，请重新输入"):t.$message.error("请勾选同意协议"),panelSet:r}}}),(function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l("div",[l(bt,{attrs:{label:e.$t("Config.Port.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[l("div",{staticClass:"w-[26rem]"},[l(a,{attrs:{disabled:!0},model:{value:o.safeConfig.port,callback:function(t){e.$set(o.safeConfig,"port",t)},expression:"safeConfig.port"}})],1),l(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:o.onSet}},[e._v(e._s(e.$t("Config.Site")))])]},proxy:!0},{key:"desc",fn:function(){return[l("span",[l("span",[e._v(e._s(e.$t("Config.Port.Desc1")))]),l("span",{staticClass:"text-danger"},[e._v(e._s(e.$t("Config.Port.Desc2")))])])]},proxy:!0}])}),l(h,{attrs:{title:e.$t("Config.Port.PopupTitle"),visible:o.showPopup,area:[40,28],"show-footer":!0},on:{"update:visible":function(e){o.showPopup=e},confirm:function(e){return o.confirm()}}},[l("div",{staticClass:"p-[2rem]"},[l("ul",{staticClass:"p-16x pl-32x list-disc border border-[#ececec] bg-[#f7f7f7] rounded-md text-danger"},[l("li",{staticClass:"h-[2.4rem] leading-[2.4rem]"},[e._v(e._s(e.$t("Config.Port.Desc1")))]),l("li",{staticClass:"leading-[2.4rem]"},[e._v(e._s(e.$t("Config.Port.Desc2")))]),l("li",{staticClass:"leading-[2.4rem]"},[e._v(e._s(e.$t("Config.Port.PupopInfo2")))])]),l(s,{ref:"form",staticClass:"mt-24x flex justify-center",attrs:{id:"panelPostFrom","label-position":"left"}},[l(n,{attrs:{label:e.$t("Config.Port.Label")}},[l("div",{staticClass:"w-[21rem]"},[l(a,{model:{value:o.port,callback:function(e){o.port=e},expression:"port"}})],1)])],1),l(T,{staticClass:"pl-16x",model:{value:o.checked,callback:function(e){o.checked=e},expression:"checked"}},[l("div",{staticClass:"text-[1.2rem] mt-20x"},[e._v(" "+e._s(e.$t("Config.Port.PopupChecked"))),l(d,{attrs:{href:"https://www.bt.cn/bbs/thread-40037-1-1.html"}},[e._v(e._s(e.$t("Config.Port.BtLink")))])],1)])],1)])],1)}),[],!1,null,"b11b3b35",null,null).exports;const ma=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{safeConfig:a}}=Y(),s=O(""),n=O(!1),l=async e=>{let a=t.$load("正在设置安全入口，请稍候...");try{e=g(e);const{data:a}=await je({admin_path:e});t.$message.request(a)}catch(s){}finally{a.close()}};return{__sfc:!0,vm:t,safeConfig:a,admin_path:s,showPopup:n,onSet:()=>{s.value=a.value.admin_path,n.value=!0},confirm:()=>{a.value.admin_path=s.value,l(s.value),n.value=!1},setEntrance:l}}}),(function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l("div",[l(bt,{attrs:{label:e.$t("Config.SecurityEntrance.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[l("div",{staticClass:"w-[26rem]"},[l(a,{attrs:{value:o.safeConfig.admin_path,disabled:!0}})],1),l(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:o.onSet}},[e._v(e._s(e.$t("Config.Site")))])]},proxy:!0},{key:"desc",fn:function(){return[l("span",[e._v(e._s(e.$t("Config.SecurityEntrance.Desc")))])]},proxy:!0}])}),l(h,{attrs:{title:e.$t("Config.SecurityEntrance.PopupTitle"),visible:o.showPopup,area:[40,"auto"],"show-footer":!0},on:{"update:visible":function(e){o.showPopup=e},confirm:function(e){return o.confirm()}}},[l("div",{staticClass:"p-[2.8rem]"},[l(s,{ref:"form",staticClass:"flex justify-center",attrs:{"label-position":"right"}},[l(n,{attrs:{label:e.$t("Config.SecurityEntrance.Label")}},[l("div",{staticClass:"w-[24rem]"},[l(a,{model:{value:o.admin_path,callback:function(e){o.admin_path=e},expression:"admin_path"}})],1)])],1)],1)])],1)}),[],!1,null,"9e9ba09e",null,null).exports;const da=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{safeConfig:a}}=Y(),s=O(!1),n=O(404),l=O(""),o=O([{key:403,title:"403-拒绝访问"},{key:404,title:"404-页面不存在"},{key:416,title:"416-无效的请求"},{key:408,title:"408-客户端超时"},{key:400,title:"400-客户端请求错误"},{key:401,title:"401-未授权访问"}]),i=async e=>{e?Number(e):e+="";try{const{data:s}=await Me({status_code:e});o.value.forEach((e=>{e.key==n.value&&(a.value.statusCode=e.key,l.value=e.title)})),t.$message.request(s)}catch(s){}};return W((()=>a.value.statusCode),(e=>{o.value.forEach((e=>{e.key===a.value.statusCode&&(l.value=e.title)}))})),{__sfc:!0,vm:t,safeConfig:a,showPopup:s,status:n,mode:l,options:o,open:()=>{s.value=!0,o.value.forEach((e=>{e.key==a.value.statusCode&&(n.value=e.key)}))},confirm:()=>{s.value=!1,i(n.value)},setRequestStatus:i}}}),(function(){var e=this,i=e._self._c,r=e._self._setupProxy;return i("div",[i(bt,{attrs:{label:e.$t("Config.NoResponse.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[i("div",{staticClass:"w-[26rem]"},[i(a,{attrs:{value:r.mode,disabled:!0}})],1),i(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:function(e){return r.open()}}},[e._v(e._s(e.$t("Config.Site")))])]},proxy:!0},{key:"desc",fn:function(){return[i("span",[e._v(e._s(e.$t("Config.NoResponse.Desc")))])]},proxy:!0}])}),i(h,{attrs:{title:e.$t("console.NoResponse.PopupTitle"),visible:r.showPopup,area:[42,"auto"],"show-footer":!0},on:{"update:visible":function(e){r.showPopup=e},confirm:function(e){return r.confirm()}}},[i("div",{staticClass:"p-[2rem]"},[i(s,{ref:"form",staticClass:"my-12x flex justify-center",attrs:{"label-position":"left"}},[i(n,{attrs:{label:e.$t("Config.NoResponse.PopupElItemLabel")}},[i(l,{staticClass:"w-[20rem]",attrs:{placeholder:"请选择"},model:{value:r.status,callback:function(e){r.status=e},expression:"status"}},e._l(r.options,(function(e){return i(o,{key:e.key,attrs:{label:e.title,value:e.key}})})),1)],1)],1),i("ul",{staticClass:"px-16x py-2x list-disc"},[i("li",{staticClass:"h-[2.4rem] text-danger"},[e._v(e._s(e.$t("Config.NoResponse.Info")))])])],1)])],1)}),[],!1,null,"639c84bc",null,null).exports;const va=f(N({__name:"index",setup(e){const{refs:{safeConfig:t}}=Y(),{proxy:a}=K(),s=O(""),n=O();let l=0;const o=O(!1);V((()=>{i()})),W((()=>o.value),(e=>{e&&(n.value=l)}));const i=async()=>{try{const{data:e}=await ze();e.expire?s.value=q(e.expire_time,"yyyy/MM/dd HH:mm:ss")+" （剩余"+e.expire_day+"天过期）":s.value="未设置",n.value=e.expire,l=e.expire,t.value.pawComplexity=e.password_safe}catch(e){}},r=async e=>{const t=a.$load("正在设置密码过期时间，请稍候...");try{const{data:t}=await Be({expire:e});a.$message.request(t)}catch(s){}finally{t.close()}};return{__sfc:!0,safeConfig:t,vm:a,ps:s,day:n,defaultExpire:l,showPopup:o,confirm:()=>{n.value<0?a.$message.error("密码过期时间不能小于0"):""!==n.value?(o.value=!1,r(n.value),i()):a.$message.error("请输入正确的过期时间")},getPasswordStatus:i,setPasswordStatus:r}}}),(function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l("div",[l(bt,{attrs:{label:e.$t("Config.PasswordExpire.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[l("div",{staticClass:"w-[26rem]"},[l(a,{attrs:{disabled:!0},model:{value:o.ps,callback:function(e){o.ps=e},expression:"ps"}})],1),l(t,{staticClass:"!ml-12x",attrs:{type:"primary"},on:{click:function(e){o.showPopup=!0}}},[e._v(e._s(e.$t("Config.Site")))])]},proxy:!0},{key:"desc",fn:function(){return[l("span",[e._v(e._s(e.$t("Config.PasswordExpire.Desc")))])]},proxy:!0}])}),l(h,{attrs:{title:e.$t("Config.PasswordExpire.PopupTitle"),visible:o.showPopup,area:[35,15],"show-footer":!0},on:{"update:visible":function(e){o.showPopup=e},confirm:function(e){return o.confirm()}}},[l("div",{staticClass:"p-[2rem]"},[l(s,{ref:"form",staticClass:"my-12x flex justify-center",attrs:{"label-position":"left"}},[l(n,{attrs:{label:e.$t("Config.PasswordExpire.Label")}},[l("div",{staticClass:"w-[12rem] flex items-center"},[l(a,{attrs:{type:"number",min:"0"},model:{value:o.day,callback:function(e){o.day=e},expression:"day"}}),l("p",{staticClass:"text-[1.2rem] ml-8x"},[e._v(e._s(e.$t("Config.Day")))])],1)])],1),l("ul",{staticClass:"px-16x py-2x list-disc"},[l("li",{staticClass:"h-[2.4rem] text-danger"},[e._v(e._s(e.$t("Config.PasswordExpire.PopupInfo1")))]),l("li",{staticClass:"h-[2.4rem]"},[e._v(e._s(e.$t("Config.PasswordExpire.PopupInfo2")))])])],1)])],1)}),[],!1,null,null,null,null).exports;const _a=f(N({__name:"ConfigTempAuthPopup",setup(e){const{proxy:t}=K(),a=O(!1),s=O(!1),n=O(!1),l=O(!1),o=O(!1),i=O(0),r=O(),c=O(),u=O(),p=O([]),f=O([]),m=J({p:1,limit:10}),v=O([{label:"登录IP",prop:"login_addr",render:(e,t)=>""==e.login_addr?"未登录":e.login_addr},{label:"状态",prop:"state",render:(e,t)=>{switch(e.state){case-1:return"待使用";case 0:return"已过期";case 1:return"已使用"}}},{label:"登录时间",prop:"addtime",render:e=>q(e.addtime,"yyyy/MM/dd hh:mm:ss")},{label:"\t过期时间",prop:"expire",render:(e,t)=>q(e.expire,"yyyy/MM/dd hh:mm:ss")},{label:"操作",prop:"ps",width:70,render:(e,t)=>1==e.state?X(d,{on:{click:()=>{h(e.id,e.login_addr)}}},["操作日志"]):X(d,{on:{click:()=>{g(e.id)}}},["删除"])}]),_=O([{label:"操作类型",prop:"type",render:(e,t)=>e.type},{label:"操作时间",prop:"time",render:(e,t)=>q(e.time,"yyyy/MM/dd hh:mm:ss")},{label:"日志",prop:"log",width:350,render:e=>q(e.log,"yyyy/MM/dd hh:mm:ss")}]),g=e=>{c.value=e,l.value=!0},h=(e,t)=>{o.value=!0,c.value=e,u.value=t},y=async(e,t)=>{try{const{data:a}=await ct({p:e,rows:t});p.value=a.data,i.value=R(a.page)}catch(a){}},x=async()=>{const e=t.$load("正在创建临时授权链接，请稍候...");try{const{data:e}=await ut();t.$message.request(e);let a=window.location.protocol+window.location.host+"/login?";r.value=a+"\ntmp_token="+e.token}catch(a){}finally{e.close()}},C=async e=>{const a=t.$load("正在删除临时授权，请稍候...");try{const{data:a}=await pt({id:e});t.$message.request(a)}catch(s){}finally{a.close()}},w=async e=>{const a=t.$load("正在获取日志信息，请稍候...");try{const{data:a}=await ft({id:e});f.value=a,t.$message.request(a)}catch(s){}finally{a.close()}};return V((()=>{y(m.p,m.limit)})),{__sfc:!0,vm:t,showPopup:a,warmPopup:s,rootPopup:n,delPopup:l,logPopup:o,total:i,tempAuthAddress:r,id:c,ip:u,tempAuthList:p,logList:f,tableParam:m,tableColumn:v,LogColumn:_,openWarm:()=>{s.value=!0},openRoot:()=>{s.value=!1,n.value=!0,x(),y(m.p,m.limit)},copyAddress:e=>{k({value:e})},openDel:g,delRoot:()=>{C(c.value),l.value=!1,y(m.p,m.limit)},openLog:h,changePage:async(e=1)=>{m.p=e,y(e,m.limit)},changeSize:(e=10)=>{m.limit=e,y(m.p,e)},refreshLog:()=>{w(c.value)},getDataList:y,setDataList:x,delDataList:C,getLogs:w}}}),(function(){var e=this,s=e._self._c,n=e._self._setupProxy;return s("div",[s(it,{staticClass:"p-6",scopedSlots:e._u([{key:"header-left",fn:function(){return[s(D,{attrs:{type:"primary"},on:{click:function(e){return n.openWarm()}}},[e._v(e._s(e.$t("Config.TempAuth.AddBtn")))])]},proxy:!0},{key:"content",fn:function(){return[s(ot,{ref:"tempAuthTable",attrs:{data:n.tempAuthList,column:n.tableColumn}})]},proxy:!0},{key:"footer-right",fn:function(){return[s(rt,{attrs:{total:n.total,"current-page":n.tableParam.p,"page-size":n.tableParam.limit},on:{"current-change":n.changePage,"size-change":n.changeSize}})]},proxy:!0}])}),s(h,{attrs:{title:e.$t("Config.TempAuth.Popup2Title"),visible:n.warmPopup,area:35,"show-footer":!0},on:{"update:visible":function(e){n.warmPopup=e},confirm:function(e){return n.openRoot()}}},[s("div",{staticClass:"p-[2rem] flex"},[s("i",{staticClass:"el-icon-question text-[#f4c500] text-[3rem] pr-4"}),s("div",[s("p",{staticClass:"text-[1.4rem] leading-10 text-danger"},[e._v(" "+e._s(e.$t("Config.TempAuth.Popup2Info1"))+" ")]),s("p",{staticClass:"text-[1.4rem] leading-10 text-danger"},[e._v(" "+e._s(e.$t("Config.TempAuth.Popup2Info2"))+" ")]),s("p",{staticClass:"text-[1.4rem] leading-10"},[e._v(e._s(e.$t("Config.TempAuth.Popup2Info3")))])])])]),s(h,{attrs:{title:e.$t("Config.TempAuth.AddBtn"),visible:n.rootPopup,area:57},on:{"update:visible":function(e){n.rootPopup=e}}},[s("div",{staticClass:"p-[2rem]"},[s("div",[e._v(e._s(e.$t("Config.TempAuth.Address")))]),s(a,{staticClass:"my-5",attrs:{type:"textarea",rows:2},model:{value:n.tempAuthAddress,callback:function(e){n.tempAuthAddress=e},expression:"tempAuthAddress"}}),s(t,{staticClass:"copy",attrs:{type:"primary"},on:{click:function(e){return n.copyAddress(n.tempAuthAddress)}}},[e._v(e._s(e.$t("Config.TempAuth.CopyAddress")))]),s("ul",{staticClass:"ml-6 mt-8 list-disc"},[s("li",{staticClass:"text-medium h-[2.4rem]"},[e._v(e._s(e.$t("Config.TempAuth.CreatInfo1")))]),s("li",{staticClass:"text-medium h-[2.4rem]"},[e._v(e._s(e.$t("Config.TempAuth.CreatInfo2")))]),s("li",{staticClass:"text-medium h-[2.4rem]"},[e._v(e._s(e.$t("Config.TempAuth.CreatInfo3")))])])],1)]),s(h,{attrs:{title:e.$t("Config.TempAuth.DelPopupTtile"),visible:n.delPopup,"show-footer":!0,area:35},on:{"update:visible":function(e){n.delPopup=e},confirm:function(e){return n.delRoot()}}},[s("div",{staticClass:"p-[2rem] flex"},[s("i",{staticClass:"el-icon-question text-[#f4c500] text-[3rem] pr-4"}),s("span",{staticClass:"text-[1.4rem] leading-10"},[e._v(e._s(e.$t("Config.TempAuth.DelPopupInfo")))])])]),s(h,{attrs:{title:e.$t("Config.TempAuth.LogTitle",{ip:n.ip}),visible:n.logPopup,area:[70,50]},on:{"update:visible":function(e){n.logPopup=e}}},[s(it,{staticClass:"p-6",scopedSlots:e._u([{key:"header-left",fn:function(){return[s(D,{attrs:{type:"defalut"},on:{click:function(e){return n.refreshLog()}}},[e._v(e._s(e.$t("Config.RefreshLogs")))])]},proxy:!0},{key:"content",fn:function(){return[s(ot,{ref:"tempAuthLogTable",attrs:{data:n.logList,column:n.LogColumn}})]},proxy:!0}])})],1)],1)}),[],!1,null,null,null,null).exports;const ga=f(N({__name:"config",setup(e){const{refs:{tempAuthData:t},getTempAuthData:a}=Y(),{proxy:s,emit:n}=K(),l=O(!1),o=O(!1),i=O(!1),r=O(!1),c=O(!1),u=O(!1),p=O(1),f=O(),m=O({checkboxValue:"3小时",day:1}),v={day:[{validator:(e,t,a)=>{(t<=0||t%1!=0)&&"自定义"===m.value.checkboxValue?a(new Error("自定义时间为大于0的整数！")):a()},trigger:["blur","change","input"]}]},_=O(""),g=O(),h=O(),y=O([]),x=J({p:1,limit:10}),C=O([{label:"登录IP",prop:"login_addr",render:(e,t)=>""==e.login_addr?"未登录":e.login_addr},{label:"状态",prop:"state",width:90,render:(e,t)=>{switch(e.state){case-1:return X("span",{class:"text-[brown]"},["已过期"]);case 0:return X("span",{class:"text-primary"},["待使用"]);case 1:return"已使用"}}},{label:"登录时间",prop:"login_time",render:e=>0==e.login_time?"未登录":q(e.addtime,"yyyy/MM/dd HH:mm:ss")},{label:"过期时间",prop:"expire",render:(e,t)=>q(e.expire,"yyyy/MM/dd HH:mm:ss")},{label:"操作",prop:"ps",width:120,align:"right",render:(e,t)=>1==e.state?X("div",{class:"flex items-center justify-end"},[X(d,{on:{click:()=>{P(e.id,e.login_addr)}}},["操作日志"]),X(mt),X(d,{on:{click:()=>{b(e.id)}}},["删除"])]):X(d,{on:{click:()=>{b(e.id)}}},["删除"])}]),w=O([{label:"操作类型",prop:"type",render:(e,t)=>e.type},{label:"操作时间",prop:"addtime"},{label:"日志",prop:"log",width:350}]),b=e=>{g.value=e,r.value=!0},P=(e,t)=>{c.value=!0,g.value=e,h.value=t,S()},S=()=>{D(g.value)},$=async()=>{const e=s.$load("正在创建临时授权链接，请稍候...");try{const{checkboxValue:e,day:t}=m.value;if("自定义"===e&&t<=0)return void s.$message.error("自定义时间为大于0的整数！");if("自定义"===e&&t>3650)return s.$message.error("自定义时间不能超过3650天！"),void(m.value.day=3650);let a="自定义"===e?24*t:null==e?void 0:e.replace(/小时/g,""),n=Math.floor(Date.now()/1e3);a=60*parseInt(a)*60+n;const{data:l}=await Ne({expire_time:a});s.$message.request(l);let o=window.location.protocol+"//"+window.location.host+"/login?";_.value=o+"\ntmp_token="+l.token}catch(t){}finally{a(x.p,x.limit),e.close()}},A=async e=>{const t=s.$load("正在删除临时授权，请稍候...");try{const{data:t}=await Oe({id:e});s.$message.request(t)}catch(n){}finally{a(x.p,x.limit),t.close()}},D=async e=>{u.value=!0;try{const{data:t}=await Ee({id:e});y.value=t}catch(t){}finally{u.value=!1}};return{__sfc:!0,tempAuthData:t,getTempAuthData:a,vm:s,emit:n,showPopup:l,warmPopup:o,rootPopup:i,delPopup:r,logPopup:c,logLoad:u,day:p,authFormRef:f,authForm:m,rules:v,tempAuthAddress:_,id:g,ip:h,logList:y,tableParam:x,tableColumn:C,LogColumn:w,openWarm:()=>{o.value=!0},openRoot:()=>{f.value.validate((e=>{e&&(o.value=!1,i.value=!0,$())}))},copyAddress:e=>{k({value:e})},openDel:b,delRoot:async()=>{await A(g.value),r.value=!1,a(x.p,x.limit)},openLog:P,changePage:async(e=1)=>{x.p=e,a(x.p,x.limit)},changeSize:(e=10)=>{x.limit=e,a(x.p,x.limit)},refreshLog:S,setDataList:$,delDataList:A,getLogs:D}}}),(function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l("div",[l(it,{staticClass:"p-6",scopedSlots:e._u([{key:"header-left",fn:function(){return[l(D,{attrs:{type:"primary"},on:{click:function(e){return o.openWarm()}}},[e._v(e._s(e.$t("Config.TempAuth.AddBtn")))])]},proxy:!0},{key:"content",fn:function(){return[l(ot,{ref:"tempAuthTable",attrs:{data:o.tempAuthData.list,column:o.tableColumn,"max-height":380}})]},proxy:!0},{key:"footer-right",fn:function(){return[l(rt,{attrs:{total:o.tempAuthData.total,"current-page":o.tableParam.p,"page-size":o.tableParam.limit},on:{"current-change":o.changePage,"size-change":o.changeSize}})]},proxy:!0}])}),l(h,{attrs:{title:e.$t("Config.TempAuth.Popup2Title"),visible:o.warmPopup,area:54,"show-footer":!0},on:{"update:visible":function(e){o.warmPopup=e},confirm:function(e){return o.openRoot()}}},[l("div",{staticClass:"p-[2rem] flex"},[l("i",{staticClass:"el-icon-question text-[#f4c500] text-[3rem] pr-4"}),l("div",[l("p",{staticClass:"text-[1.4rem] leading-10 text-danger"},[e._v(" "+e._s(e.$t("Config.TempAuth.Popup2Info1"))+" ")]),l("p",{staticClass:"text-[1.4rem] leading-10 text-danger"},[e._v(" "+e._s(e.$t("Config.TempAuth.Popup2Info2"))+" ")]),l(s,{ref:"authFormRef",staticClass:"my-[1rem]",attrs:{rules:o.rules,model:o.authForm,"label-position":"left"}},[l(n,{attrs:{label:"授权时间"}},[l(c,{attrs:{size:"mini"},model:{value:o.authForm.checkboxValue,callback:function(t){e.$set(o.authForm,"checkboxValue",t)},expression:"authForm.checkboxValue"}},[l(u,{attrs:{label:"3小时"}}),l(u,{attrs:{label:"6小时"}}),l(u,{attrs:{label:"9小时"}}),l(u,{attrs:{label:"12小时"}}),l(u,{attrs:{label:"自定义"}})],1)],1),"自定义"===o.authForm.checkboxValue?l(n,{attrs:{label:"自定义时间",prop:"day"}},[l(B,{attrs:{width:"16rem",textType:"天",min:"1",max:"3650",type:"number"},model:{value:o.authForm.day,callback:function(t){e.$set(o.authForm,"day",t)},expression:"authForm.day"}})],1):e._e()],1)],1)])]),l(h,{attrs:{title:e.$t("Config.TempAuth.AddBtn"),visible:o.rootPopup,area:57},on:{"update:visible":function(e){o.rootPopup=e}}},[l("div",{staticClass:"p-[2rem]"},[l("div",[e._v(e._s(e.$t("Config.TempAuth.Address")))]),l(a,{staticClass:"my-5",attrs:{type:"textarea",rows:2},model:{value:o.tempAuthAddress,callback:function(e){o.tempAuthAddress=e},expression:"tempAuthAddress"}}),l(t,{staticClass:"copy",attrs:{type:"primary"},on:{click:function(e){return o.copyAddress(o.tempAuthAddress)}}},[e._v(e._s(e.$t("Config.TempAuth.CopyAddress")))]),l("ul",{staticClass:"ml-6 mt-8 list-disc"},[l("li",{staticClass:"text-medium h-[2.4rem]"},[e._v(e._s(e.$t("Config.TempAuth.CreatInfo1")))]),l("li",{staticClass:"text-medium h-[2.4rem]"},[e._v(e._s(e.$t("Config.TempAuth.CreatInfo2")))]),l("li",{staticClass:"text-medium h-[2.4rem]"},[e._v(e._s(e.$t("Config.TempAuth.CreatInfo3")))])])],1)]),l(h,{attrs:{title:e.$t("Config.TempAuth.DelPopupTtile"),visible:o.delPopup,"show-footer":!0,area:35},on:{"update:visible":function(e){o.delPopup=e},confirm:function(e){return o.delRoot()}}},[l("div",{staticClass:"p-[2rem] flex"},[l("i",{staticClass:"el-icon-question text-[#f4c500] text-[3rem] pr-4"}),l("span",{staticClass:"text-[1.4rem] leading-10"},[e._v(e._s(e.$t("Config.TempAuth.DelPopupInfo")))])])]),l(h,{attrs:{title:e.$t("Config.TempAuth.LogTitle",{ip:o.ip}),visible:o.logPopup,area:[70,50]},on:{"update:visible":function(e){o.logPopup=e}}},[l(it,{staticClass:"p-6",scopedSlots:e._u([{key:"header-left",fn:function(){return[l(D,{attrs:{type:"defalut"},on:{click:o.refreshLog}},[e._v(e._s(e.$t("Config.RefreshLogs")))])]},proxy:!0},{key:"content",fn:function(){return[l(ot,{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:o.logLoad,expression:"logLoad"},{name:"bt-loading",rawName:"v-bt-loading:title",value:"正在获取日志，请稍候...",expression:"'正在获取日志，请稍候...'",arg:"title"}],ref:"tempAuthLogTable",attrs:{data:o.logList,column:o.LogColumn}})]},proxy:!0}])})],1)],1)}),[],!1,null,null,null,null).exports;const ha=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{tempAuthData:a},getTempAuthData:s}=Y(),n=O(!1);return{__sfc:!0,vm:t,tempAuthData:a,getTempAuthData:s,showPopup:n,open:async()=>{let e=t.$load("正在加载临时授权数据，请稍候...");await s(1,10),a.value.status&&(n.value=!0),e.close()},TempAuthPopup:ga}}}),(function(){var e=this,a=e._self._c,s=e._self._setupProxy;return a(bt,{attrs:{label:e.$t("Config.TempAuth.Label")},scopedSlots:e._u([{key:"value",fn:function(){return[a(t,{attrs:{type:"primary"},on:{click:function(e){return s.open()}}},[e._v(e._s(e.$t("Config.TempAuth.Value")))]),a(h,{attrs:{title:e.$t("Config.TempAuth.PopupTitle"),visible:s.showPopup,area:[70,50],component:s.TempAuthPopup},on:{"update:visible":function(e){s.showPopup=e}}},[a(_a)],1)]},proxy:!0},{key:"desc",fn:function(){return[a("span",[e._v(e._s(e.$t("Config.TempAuth.Desc")))])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const ya=f(N({__name:"index",setup(e){const{refs:{limitArea:t},getLimitArea:a}=Y(),{proxy:s}=K(),n=F((()=>{var e,a;return"true"==(null==(a=null==(e=t.value)?void 0:e.data)?void 0:a.limit_area_status)})),l=O(!1);return V((async()=>{l.value=!0,await a(),l.value=!1})),{__sfc:!0,limitArea:t,getLimitArea:a,vm:s,limitAreaSwitch:n,loading:l,onSet:async()=>{(async()=>{m({isAsync:!0,title:"选择地区信息",area:70,showFooter:!0,component:()=>et((()=>import("./index113.js?v=1714377894636")),__vite__mapDeps([55,56,4,9,3,8,1,2,5,6,7,30,25,57,19,58,23,10,11]),import.meta.url)})})()},onChange:async e=>{let t=null;try{await s.$confirm({title:"".concat(e?"开启":"关闭","地区登录限制"),message:"".concat(e?"开启后，将会对面板登录地区进行限制":"关闭后，设置的地区登录将失效","，是否继续操作？"),icon:"warning"}),t=s.$load("正在设置，请稍候...");const{data:n}=await Fe({limit_area_status:e});s.$message.request(n),n.status&&a()}catch(n){}finally{t&&t.close()}}}}}),(function(){var a=this,s=a._self._c,n=a._self._setupProxy;return s(bt,{attrs:{label:"地区登录限制"},scopedSlots:a._u([{key:"value",fn:function(){return[s(e,{on:{change:n.onChange},model:{value:n.limitAreaSwitch,callback:function(e){n.limitAreaSwitch=e},expression:"limitAreaSwitch"}}),s(t,{staticClass:"!ml-12x",attrs:{type:"default",size:"mini",disabled:n.loading},on:{click:n.onSet}},[a._v("设置地区登录限制")])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[a._v("设置面板地区登录策略")])]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const xa=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{safeConfig:a},getLimitUaInfo:s}=Y();return V((()=>{s()})),{__sfc:!0,vm:t,safeConfig:a,getLimitUaInfo:s,change:async e=>{try{const{data:a}=await Ue({status:e?1:0});t.$message.request(a),a.status&&s()}catch(a){}},openUa:()=>{m({isAsync:!0,title:"User-Agent限制配置",area:70,showFooter:!1,component:()=>et((()=>import("./index114.js?v=1714377894636")),__vite__mapDeps([59,34,9,4,3,8,1,2,5,6,7,35,36,10,53,47,39,11]),import.meta.url)})}}}}),(function(){var a=this,s=a._self._c,n=a._self._setupProxy;return s("div",[s(bt,{attrs:{label:"User-Agent限制"},scopedSlots:a._u([{key:"value",fn:function(){return[s(e,{on:{change:function(e){return n.change(n.safeConfig.uaAstrict)}},model:{value:n.safeConfig.uaAstrict,callback:function(e){a.$set(n.safeConfig,"uaAstrict",e)},expression:"safeConfig.uaAstrict"}}),s(t,{staticClass:"!ml-12x",attrs:{size:"mini"},on:{click:n.openUa}},[a._v("User-Agent限制配置")])]},proxy:!0},{key:"desc",fn:function(){return[s("span",[a._v("设置限制访问User-Agent")])]},proxy:!0}])})],1)}),[],!1,null,null,null,null).exports;const Ca=f(N({__name:"index",setup(e){const{refs:{settingSearch:t}}=Y();return{__sfc:!0,settingSearch:t,isRelease:j,SafeAlarm:Kt,PanelSsl:na,PortFree:la,BasicAuth:oa,DynamePwd:ia,DeviceAuth:ra,PwdSafe:ca,BindDomain:ua,AuthIp:pa,PanelPort:fa,SafeEntry:ma,UnauthResp:da,PwdExpire:va,TempAuth:ha,AreaLogin:ya,UaAstrict:xa}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[t(wt,{directives:[{name:"show",rawName:"v-show",value:""===a.settingSearch,expression:"settingSearch === ''"}]},[e._v("安全设置")]),t(a.SafeAlarm),t(a.PanelSsl),a.isRelease?e._e():t(a.PortFree),t(a.BasicAuth),t(a.DynamePwd),t(a.DeviceAuth),t(a.PwdSafe),t(a.BindDomain),t(a.AuthIp),t(a.PanelPort),t(a.SafeEntry),t(a.UnauthResp),t(a.PwdExpire),t(a.TempAuth),t(a.AreaLogin),a.isRelease?e._e():t(a.UaAstrict)],1)}),[],!1,null,null,null,null).exports,wa=({getList:e})=>{const{proxy:t}=K(),a=new Map([["wx_account","微信公众号"],["feishu","飞书"],["mail","邮箱"],["sms","短信通知"],["dingding","钉钉"],["weixin","企业微信"]]),s=async(a,s=!1)=>{let n;!0!==s&&(s=!1);try{!s&&await t.$confirm({icon:"warning",title:"删除告警任务",message:"删除后将不再告警此条任务，是否继续？"}),s||(n=t.$load(t.$t("正在删除告警任务，请稍后...")));const l=await Ve({id:a.time,name:a.mode});return!s&&t.$message.request(l),l.status&&!s&&await e(),l.data}catch(l){}finally{n&&n.close()}};return{columns:O([_t(),{prop:"title",label:"标题",minWidth:140},gt({minWidth:100,event:async e=>{let a;try{a=t.$load(t.$t("正在修改告警任务状态，请稍后..."));const s=await He({id:e.time,name:e.mode,status:e.status?0:1});t.$message.request(s),s.status&&(e.status=!e.status)}catch(s){}finally{a&&a.close()}},data:["停用","正常"]}),{prop:"module",label:"告警方式",width:140,render:e=>(e=>e.module.split(",").map((e=>a.get(e))).join(","))(e)},{prop:"view_msg",label:"告警条件",minWidth:180,render:e=>X("span",{domProps:{innerHTML:e.view_msg}})},ht([{title:"编辑",onClick:t=>{m({title:"编辑告警任务",area:80,isAsync:!0,btn:!0,component:()=>et((()=>import("./index115.js?v=1714377894636")),__vite__mapDeps([42,9,4,3,8,1,2,5,6,7,14,16,29,30,31,19,43,38,23,24,44,45,46,11,10]),import.meta.url),compData:{isEdit:!0,row:t,getList:e}})}},{title:"删除",onClick:s}])]),onDel:s}};const ba=f(N({__name:"index",setup(e){const t=O([]),{refs:{mainHeight:a},getTemplate:s}=x(),n=O([{label:"删除告警",value:"delete",diyBatch:()=>{yt({title:"删除后将无法继续告警，是否继续？",dataList:t.value,titleType:"批量删除告警",requestFun:async e=>await p(e,!0),isRecurrence:!0,tableColumn:[{prop:"title",label:"标题"},{prop:"statuss",label:"状态"}],callback:()=>{i()}})}}]),l=J({isRecurrence:!0,describe:{title:"批量删除告警",th:"告警标题",message:"批量删除后将无法进行告警通知，是否继续？",propsValue:"title"}}),o=J({loading:!1,data:[]}),i=async()=>{try{o.loading=!0;const{data:e}=await Ke();P(e)&&c(e)}finally{o.loading=!1}},r={isEdit:!1,row:{},getList:i},c=e=>{o.data=[],Object.entries(e).forEach((([e,t])=>{Object.entries(t).forEach((([t,a])=>{o.data.push({...a,mode:e,time:t})}))}))},{columns:u,onDel:p}=wa({getList:i});return s(),V((()=>{i()})),{__sfc:!0,checkedList:t,mainHeight:a,getTemplate:s,batchGroup:n,batchConfig:l,table:o,handleSelectionChange:e=>{t.value=e},getList:i,compData:r,generateData:c,batchEvent:async(e,t,a)=>{},columns:u,onDel:p,AlarmForm:vt}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticStyle:{"overflow-y":"hidden"}},[t(a.AlarmForm,{attrs:{compData:a.compData}}),t(it,{scopedSlots:e._u([{key:"content",fn:function(){return[t(ot,{directives:[{name:"loading",rawName:"v-loading",value:a.table.loading,expression:"table.loading"}],attrs:{data:a.table.data,column:a.columns,"max-height":a.mainHeight-540,description:"告警列表为空","element-loading-text":"正在加载告警列表，请稍后..."},on:{"selection-change":a.handleSelectionChange}})]},proxy:!0},{key:"footer-left",fn:function(){return[t(dt,{attrs:{data:a.batchGroup,config:a.batchConfig,"batch-fn":a.batchEvent}})]},proxy:!0}])})],1)}),[],!1,null,null,null,null).exports;const Pa=f(N({__name:"module",props:{row:null},setup:e=>({__sfc:!0,onClick:()=>{}})}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"flex items-center"},[t("div",{staticClass:"icon",class:e.row.ps.indexOf("API")>-1?"webhook":e.row.name}),t("div",{staticClass:"flex-1 leading-[1.5]"},[t("span",{staticClass:"text-14px font-bold cursor-pointer",on:{click:a.onClick}},[e._v(" "+e._s(e.row.title)+" ")]),t("div",{staticClass:"flex"},[t("span",[e._v(e._s(e.row.ps))]),t(d,{attrs:{href:e.row.help,target:"_blank"}},[e._v(">>帮助文档")])],1)])])}),[],!1,null,"0ccd973f",null,null).exports,Sa=()=>{const{proxy:e}=K();return{onDel:async t=>{let a=null;try{let s="删除".concat(t.title,"模块后，将无法发送面板告警信息，是否继续？");"微信公众号"===t.title&&(s="删除".concat(t.title,"模块后，将无法发送微信公众号告警信息，且会应用到其它绑定该公众号的面板，是否继续？")),await e.$confirm({icon:"warning",title:"删除".concat(t.title,"模块"),message:s}),a=e.$load("正在删除告警配置，请稍候...");const{data:n}=await We(t.name);e.$message.request(n),n.status&&await Y().getAlarmSettings()}catch(s){}finally{null==a||a.close()}},onInstall:async t=>{let a=e.$load("正在创建".concat(t.title,"模块，请稍候..."));try{const{data:a}=await ye(t.name);return e.$message.request(a),a.status&&await Y().getAlarmSettings(),a}finally{null==a||a.close()}},onShowDialog:(e,t,a=(()=>{}))=>{((e,t={})=>{const a=Zt.get(e);a&&m({title:a.title,area:["auto","auto"],showFooter:!["wx_account"].includes(e),compData:t,component:a.component})})(e,{row:t,callback:a})},onSendTest:async t=>{const a=e.$load("正在发送测试消息，请稍候...");try{const{data:a}=await _e(t.name);return e.$message.request(a),a}finally{a.close()}},getList:async()=>{await Y().getAlarmSettings()}}};const $a=f(N({__name:"wx-account",props:{row:null},setup(e){const t=e,{row:a}=G(t),{onShowDialog:s,onInstall:n}=Sa(),l=()=>{s(a.value.name,a.value,(()=>{o()}))},o=()=>{var e,t;(null==(t=null==(e=a.value.data)?void 0:e.res)?void 0:t.remaining)&&(a.value.data.res.remaining-=1)};return{__sfc:!0,props:t,row:a,onShowDialog:s,onInstall:n,onSet:async()=>{(await n(a.value)).status&&l()},onBind:l,changeRemaining:o}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.row.setup?1===a.row.data.res.is_bound&&1===a.row.data.res.is_subscribe?[t("span",{staticClass:"c7"},[e._v(" 微信账号【"+e._s(a.row.data.res.nickname)+"】,今日剩余发送次数："+e._s(a.row.data.res.remaining)+" ")])]:[t(d,{attrs:{type:"danger"},on:{click:a.onBind}},[e._v("未订阅公众号或绑定微信")])]:[t(d,{attrs:{type:"danger"},on:{click:a.onSet}},[e._v("未配置")])]],2)}),[],!1,null,null,null,null).exports;const ka=f(N({__name:"mail",props:{row:null},setup(e){const t=e,{row:a}=G(t),{onShowDialog:s,getList:n}=Sa(),l=F((()=>a.value.setup&&Object.keys(a.value.data).length>0));return{__sfc:!0,props:t,row:a,onShowDialog:s,getList:n,isSetup:l,onShowReceive:()=>{s("receive",a.value,(()=>{n()}))},onSet:()=>{s(a.value.name,a.value,(()=>{n()}))}}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.isSetup?[t("span",{staticClass:"c7"},[e._v("已设置"+e._s(a.row.data.receive.length)+"个收件邮箱")]),t(d,{on:{click:a.onShowReceive}},[e._v("点击查看")])]:[t(d,{attrs:{type:"danger"},on:{click:a.onSet}},[e._v("未配置")])]],2)}),[],!1,null,null,null,null).exports;const Aa=f(N({__name:"dingding",props:{row:null},setup(e){const t=e,{row:a}=G(t),{onShowDialog:s,getList:n}=Sa(),l=F((()=>a.value.setup&&Object.keys(a.value.data).length>0));return{__sfc:!0,props:t,row:a,onShowDialog:s,getList:n,isSetup:l,onSet:()=>{s(a.value.name,a.value,(()=>{n()}))}}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.isSetup?[t("span",{staticClass:"c7"},[e._v("接收者:【"+e._s(a.row.data.title)+"】")])]:[t(d,{attrs:{type:"danger"},on:{click:a.onSet}},[e._v("未配置")])]],2)}),[],!1,null,null,null,null).exports;const Da=f(N({__name:"feishu",props:{row:null},setup(e){const t=e,{row:a}=G(t),{onShowDialog:s,getList:n}=Sa(),l=F((()=>a.value.setup&&Object.keys(a.value.data).length>0));return{__sfc:!0,props:t,row:a,onShowDialog:s,getList:n,isSetup:l,onSet:()=>{s(a.value.name,a.value,(()=>{n()}))}}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.isSetup?[t("span",{staticClass:"c7"},[e._v("接收者:【"+e._s(a.row.data.title)+"】")])]:[t(d,{attrs:{type:"danger"},on:{click:a.onSet}},[e._v("未配置")])]],2)}),[],!1,null,null,null,null).exports;const Ta=f(N({__name:"weixin",props:{row:null},setup(e){const t=e,{row:a}=G(t),{onShowDialog:s,getList:n}=Sa(),l=F((()=>a.value.setup&&Object.keys(a.value.data).length>0));return{__sfc:!0,props:t,row:a,onShowDialog:s,getList:n,isSetup:l,onSet:()=>{s(a.value.name,a.value,(()=>{n()}))}}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.isSetup?[t("span",{staticClass:"c7"},[e._v("接收者:【"+e._s(a.row.data.title)+"】")])]:[t(d,{attrs:{type:"danger"},on:{click:a.onSet}},[e._v("未配置")])]],2)}),[],!1,null,null,null,null).exports;const Ia=f(N({__name:"sms",props:{row:null},setup(e){const t=e,{row:a}=G(t),{onInstall:s}=Sa();return{__sfc:!0,props:t,row:a,onInstall:s,onSet:()=>{s(a.value)},onBuy:()=>{M()}}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.row.setup?a.row.data.count>100?[t("span",{staticClass:"c7"},[e._v("剩余发送告警"+e._s(a.row.data.count)+"次")])]:[t(d,{on:{click:a.onBuy}},[e._v("联系客服购买")])]:[t(d,{attrs:{type:"danger"},on:{click:a.onSet}},[e._v("未配置")])]],2)}),[],!1,null,null,null,null).exports,La=new Map([["wx_account",$a],["mail",ka],["dingding",Aa],["feishu",Da],["weixin",Ta],["sms",Ia]]);const qa=f(N({__name:"wx-account",props:{row:null},setup(e){const t=e,{row:a}=G(t),{onShowDialog:s,onSendTest:n,onDel:l,onInstall:o}=Sa(),i=()=>{s(a.value.name,a.value,(()=>{r()}))},r=()=>{var e,t;(null==(t=null==(e=a.value.data)?void 0:e.res)?void 0:t.remaining)&&(a.value.data.res.remaining-=1)};return{__sfc:!0,props:t,row:a,onShowDialog:s,onSendTest:n,onDel:l,onInstall:o,onSet:async()=>{(await o(a.value)).status&&i()},onBind:i,onText:async()=>{1===(await n(a.value)).success&&r()},changeRemaining:r}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.row.setup?[t(d,{on:{click:a.onBind}},[e._v("绑定")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:a.onText}},[e._v("测试")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:function(e){return a.onDel(a.row)}}},[e._v("删除")])]:[t(d,{on:{click:a.onSet}},[e._v("点击设置")])]],2)}),[],!1,null,null,null,null).exports;const Ra=f(N({__name:"mail",props:{row:null},setup(e){const t=e,{row:a}=G(t),{onShowDialog:s,onDel:n,onSendTest:l,getList:o}=Sa(),i=F((()=>a.value.setup&&Object.keys(a.value.data).length>0));return{__sfc:!0,props:t,row:a,onShowDialog:s,onDel:n,onSendTest:l,getList:o,isSetup:i,onShowReceive:()=>{s("receive",a.value,(()=>{o()}))},onSet:()=>{s(a.value.name,a.value,(()=>{o()}))},onTest:()=>{l(a.value)}}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.isSetup?[t(d,{on:{click:a.onShowReceive}},[e._v("收件者邮箱")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:a.onSet}},[e._v("编辑")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:a.onTest}},[e._v("测试")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:function(e){return a.onDel(a.row)}}},[e._v("删除")])]:[t(d,{on:{click:a.onSet}},[e._v("点击设置")])]],2)}),[],!1,null,null,null,null).exports;const ja=f(N({__name:"dingding",props:{row:null},setup(e){const t=e,{row:a}=G(t),{onShowDialog:s,onDel:n,onSendTest:l,getList:o}=Sa(),i=F((()=>a.value.setup&&Object.keys(a.value.data).length>0));return{__sfc:!0,props:t,row:a,onShowDialog:s,onDel:n,onSendTest:l,getList:o,isSetup:i,onSet:()=>{s(a.value.name,a.value,(()=>{o()}))},onTest:()=>{l(a.value)}}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.isSetup?[t(d,{on:{click:a.onSet}},[e._v("编辑")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:a.onTest}},[e._v("测试")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:function(e){return a.onDel(a.row)}}},[e._v("删除")])]:[t(d,{on:{click:a.onSet}},[e._v("点击设置")])]],2)}),[],!1,null,null,null,null).exports;const Ma=f(N({__name:"feishu",props:{row:null},setup(e){const t=e,{row:a}=G(t),{onShowDialog:s,onDel:n,onSendTest:l,getList:o}=Sa(),i=F((()=>a.value.setup&&Object.keys(a.value.data).length>0));return{__sfc:!0,props:t,row:a,onShowDialog:s,onDel:n,onSendTest:l,getList:o,isSetup:i,onSet:()=>{s(a.value.name,a.value,(()=>{o()}))},onTest:()=>{l(a.value)}}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.isSetup?[t(d,{on:{click:a.onSet}},[e._v("编辑")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:a.onTest}},[e._v("测试")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:function(e){return a.onDel(a.row)}}},[e._v("删除")])]:[t(d,{on:{click:a.onSet}},[e._v("点击设置")])]],2)}),[],!1,null,null,null,null).exports;const za=f(N({__name:"weixin",props:{row:null},setup(e){const t=e,{row:a}=G(t),{onShowDialog:s,onDel:n,onSendTest:l,getList:o}=Sa(),i=F((()=>a.value.setup&&Object.keys(a.value.data).length>0));return{__sfc:!0,props:t,row:a,onShowDialog:s,onDel:n,onSendTest:l,getList:o,isSetup:i,onSet:()=>{s(a.value.name,a.value,(()=>{o()}))},onTest:()=>{l(a.value)}}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.isSetup?[t(d,{on:{click:a.onSet}},[e._v("编辑")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:a.onTest}},[e._v("测试")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:function(e){return a.onDel(a.row)}}},[e._v("删除")])]:[t(d,{on:{click:a.onSet}},[e._v("点击设置")])]],2)}),[],!1,null,null,null,null).exports;const Ba=f(N({__name:"sms",props:{row:null},setup(e){const t=e,{row:a}=G(t),{onDel:s,onInstall:n}=Sa();return{__sfc:!0,props:t,row:a,onDel:s,onInstall:n,onSet:()=>{n(a.value)}}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.row.setup?[t(d,{on:{click:function(e){return a.onDel(a.row)}}},[e._v("删除")])]:[t(d,{on:{click:a.onSet}},[e._v("点击设置")])]],2)}),[],!1,null,null,null,null).exports;const Ea=f(N({__name:"webhook",props:{row:null},setup(e){const t=e,{row:a}=G(t),{proxy:s}=K();return{__sfc:!0,props:t,row:a,vm:s,onDelWebHook:async e=>{let t=null;try{await s.$confirm({icon:"warning",title:"删除".concat(e.title,"模块"),message:"删除".concat(e.title,"模块后，将无法发送面板告警信息，是否继续？")});const{data:a}=await Je({name:e.name});t=s.$load("正在删除告警配置，请稍候..."),s.$message.request(a),a.status&&await Y().getAlarmSettings({idDel:!0,name:e.name})}catch(a){}finally{null==t||t.close()}},onTest:async()=>{let e=s.$load("正在发送测试告警，请稍候...");try{const{data:e}=await Ge({hook_data:JSON.stringify(a.value.data),test_or_save:1});s.$message.request(e)}catch(t){}finally{null==e||e.close()}},addWebhookDialog:sa}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("section",[t(d,{on:{click:function(e){return a.addWebhookDialog(a.row)}}},[e._v("编辑")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:a.onTest}},[e._v("测试")]),t("span",{staticClass:"mx-3px"},[e._v("|")]),t(d,{on:{click:function(e){return a.onDelWebHook(a.row)}}},[e._v("删除")])],1)}),[],!1,null,null,null,null).exports,Na=new Map([["wx_account",qa],["mail",Ra],["dingding",ja],["feishu",Ma],["weixin",za],["sms",Ba],["webhook",Ea]]);const Oa=f(N({__name:"type",props:{type:{default:"config"},row:null},setup(e){const t=e,a=O(t.row.name);V((()=>{a.value=t.row.ps.indexOf("API")>-1?"webhook":t.row.name}));const s=F((()=>{switch(t.type){case"config":return La.get(a.value);case"action":return Na.get(a.value)}}));return{__sfc:!0,props:t,moduleKey:a,component:s}}}),(function(){var e=this;return(0,e._self._c)(e._self._setupProxy.component,{tag:"component",attrs:{row:e.row}})}),[],!1,null,null,null,null).exports;const Fa=f(N({__name:"index",setup(e){const{columns:t}={columns:O([{prop:"module",label:"告警模块",width:390,render:e=>X(Pa,{attrs:{row:e}})},{prop:"config",label:"配置情况",render:e=>X(Oa,{attrs:{type:"config",row:e}})},{prop:"version",label:"版本",width:70},{prop:"action",label:"操作",align:"right",render:e=>X(Oa,{attrs:{type:"action",row:e}})}])},{refs:{alarmSettings:a,alarmSettingLoading:s},getAlarmSettings:n}=Y();return n(),{__sfc:!0,columns:t,alarmSettings:a,alarmSettingLoading:s,getAlarmSettings:n,addWebhookDialog:sa}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("section",[t(D,{staticClass:"!mt-8x",attrs:{type:"default"},on:{click:function(e){return a.addWebhookDialog({},!0)}}},[e._v("添加自定义Webhook")]),t(it,{scopedSlots:e._u([{key:"content",fn:function(){return[t(ot,{directives:[{name:"loading",rawName:"v-loading",value:a.alarmSettingLoading,expression:"alarmSettingLoading"}],attrs:{data:a.alarmSettings,column:a.columns,description:"告警设置列表为空","element-loading-text":"正在加载告警设置列表，请稍后..."}})]},proxy:!0}])})],1)}),[],!1,null,null,null,null).exports;const Ua=f(N({__name:"index",setup(e){const{columns:t}={columns:O([{prop:"log",label:"标题",render:e=>X("span",{domProps:{innerHTML:e.log}})},{prop:"addtime",label:"时间",width:150}])},{refs:{mainHeight:a}}=x(),s=O({total:0,loading:!1,data:[]}),n=J({p:1,limit:20}),l=async()=>{try{s.value.loading=!0;const{data:e}=await Qe(Q(n));s.value.data=e.data,s.value.total=R(e.page)}finally{s.value.loading=!1}};return l(),{__sfc:!0,columns:t,mainHeight:a,table:s,search:n,getList:l,onChangePage:e=>{n.p=e,l()},onChangeSize:e=>{n.limit=e,l()}}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(it,{scopedSlots:e._u([{key:"content",fn:function(){return[t(ot,{directives:[{name:"loading",rawName:"v-loading",value:a.table.loading,expression:"table.loading"}],attrs:{data:a.table.data,column:a.columns,"max-height":a.mainHeight-226,description:"告警日志列表为空","element-loading-text":"正在加载告警日志列表，请稍后..."}})]},proxy:!0},{key:"footer-right",fn:function(){return[t(rt,{attrs:{total:a.table.total,"current-page":a.search.p,"page-size":a.search.limit},on:{"update:currentPage":function(t){return e.$set(a.search,"p",t)},"update:current-page":function(t){return e.$set(a.search,"p",t)},"size-change":a.onChangeSize,"current-change":a.onChangePage}})]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Va=f(N({__name:"index",setup:e=>({__sfc:!0,menu:O("list"),AlarmList:ba,AlarmSetting:Fa,AlarmLog:Ua})}),(function(){var e=this._self._c,t=this._self._setupProxy;return e(E,{attrs:{type:"navtwo"},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(p,{attrs:{name:"list",label:"告警列表",lazy:""}},[e(t.AlarmList)],1),e(p,{attrs:{name:"setting",label:"告警设置",lazy:""}},[e(t.AlarmSetting)],1),e(p,{attrs:{name:"log",label:"告警日志",lazy:""}},[e(t.AlarmLog)],1)],1)}),[],!1,null,null,null,null).exports;const Ha=f(N({__name:"msg-type",props:{row:null},setup:e=>({__sfc:!0})}),(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"inline-flex py-5px px-8px leading-[1] text-[#999999] bg-[#f5f7fa]"},[e._v(" "+e._s(e.row.msg_types[0])+" ")])}),[],!1,null,null,null,null).exports;const Ka=f(N({__name:"msg-title",props:{row:null},emits:["click"],setup:(e,{emit:t})=>({__sfc:!0,emit:t,onClick:()=>{t("click")}})}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"relative"},[t(d,{attrs:{type:"default"},on:{click:a.onClick}},[e._v(e._s(e.row.title))]),e.row.read?e._e():t("div",{staticClass:"dot"})],1)}),[],!1,null,"2277de27",null,null).exports;const Wa=f(N({__name:"index",setup(e){const{proxy:t}=K(),{columns:a}=(()=>{const e=O([_t(),{prop:"title",label:"标题内容",minWidth:300,render:e=>X(Ka,{attrs:{row:e},on:{click:()=>{t(e)}}})},{prop:"create_time",label:"提交时间",minWidth:140,render:e=>q(e.create_time)},{prop:"sub_type",label:"类型",minWidth:160,render:e=>X(Ha,{attrs:{row:e}})}]),t=e=>{e.read=!0,m({title:"push_msg"===e.sub_type?"":"当前状态：".concat(e.title),area:[75],compData:e,component:Ct})};return{columns:e}})(),{refs:{mainHeight:s}}=x(),n=O({total:0,loading:!1,data:[]}),l=J({page:1,size:10,is_read:!0,sub_type:"all"}),o=async()=>{try{n.value.loading=!0;const{data:e}=await Xe(Q(l));n.value.data=e.msg_list,n.value.total=e.count}finally{n.value.loading=!1}};return o(),{__sfc:!0,vm:t,columns:a,mainHeight:s,table:n,search:l,getList:o,onChangeSize:e=>{l.page=1,l.size=e,o()},onChangePage:e=>{l.page=e,o()},onAllRead:async()=>{if(0===n.value.data.length)return void t.$message.error("暂无消息可设置已读");let e=null;try{await t.$confirm({icon:"warning",title:"全部已读",message:"确定将全部消息标记为已读？"}),e=t.$load("正在设置全部已读，请稍候...");const{data:a}=await Ye();t.$message.request(a),a.status&&o()}catch(a){}finally{null==e||e.close()}},onAllDel:async()=>{if(0===n.value.data.length)return void t.$message.error("暂无消息可删除");let e=null;try{await t.$confirm({icon:"warning",title:"全部删除",message:"确定删除全部消息？"}),e=t.$load("正在删除全部消息，请稍候...");const{data:a}=await Ze();t.$message.request(a),a.status&&o()}catch(a){}finally{null==e||e.close()}}}}}),(function(){var e=this,a=e._self._c,s=e._self._setupProxy;return a(it,{scopedSlots:e._u([{key:"header-left",fn:function(){return[a("div",{staticClass:"flex items-center"},[a(t,{on:{click:s.onAllRead}},[e._v("全部已读")]),a(t,{staticClass:"ml-8px",on:{click:s.onAllDel}},[e._v("全部删除")])],1)]},proxy:!0},{key:"header-right",fn:function(){return[a("div",{staticClass:"flex items-center"},[a(xt,{attrs:{refresh:s.getList}})],1)]},proxy:!0},{key:"content",fn:function(){return[a(ot,{directives:[{name:"loading",rawName:"v-loading",value:s.table.loading,expression:"table.loading"}],attrs:{data:s.table.data,column:s.columns,"max-height":s.mainHeight-226,description:"消息中心列表为空","element-loading-text":"正在加载消息中心列表，请稍后..."}})]},proxy:!0},{key:"footer-left",fn:function(){},proxy:!0},{key:"footer-right",fn:function(){return[a(rt,{attrs:{total:s.table.total,"current-page":s.search.page,"page-size":s.search.size},on:{"update:currentPage":function(t){return e.$set(s.search,"page",t)},"update:current-page":function(t){return e.$set(s.search,"page",t)},"size-change":s.onChangeSize,"current-change":s.onChangePage}})]},proxy:!0}])})}),[],!1,null,null,null,null).exports;const Ja=f(N({__name:"index",setup(e){const{proxy:t}=K(),{refs:{mainHeight:a,configTabActive:s}}=x(),{refs:{tabActive:n,settingSearch:l,openSSLPopup:o,openPortPopup:i},getConfig:r}=Y(),c=O();W((()=>l.value),(()=>{""!==l.value&&(n.value="all"),H((()=>{document.querySelectorAll(".empty-search").forEach((function(e){var t;null==(t=e.parentNode)||t.removeChild(e)}));if(0==document.querySelectorAll('.config-rows[style="display: flex;"]').length){const e=document.createElement("div");e.className="empty-search flex items-center justify-center w-full py-[1.5rem]",e.innerHTML='暂无搜索结果，<span class="text-primary cursor-pointer NpsDialog">提交需求反馈</span>';e.querySelectorAll(".NpsDialog").forEach((e=>{e.addEventListener("click",(function(){z({name:"面板设置",type:23,id:30})}))}));const t=document.querySelector("#pane-all .search-results");t&&t.appendChild(e)}}))}),{immediate:!0});H((()=>{}));const u=()=>{const e=window.localStorage.getItem("config-dialog");switch(e){case"ssl":o.value=!0;break;case"port":i.value=!0}e&&window.localStorage.removeItem("config-dialog")};return u(),W((()=>s.value),(()=>{n.value=s.value||"all"}),{immediate:!0}),V((async()=>{await r()})),{__sfc:!0,vm:t,mainHeight:a,configTabActive:s,tabActive:n,settingSearch:l,openSSLPopup:o,openPortPopup:i,getConfig:r,searchRef:c,cleanSearch:()=>{l.value=""},initRoute:u,ConfigPanel:Ht,ConfigSafe:Ca,ConfigAlarm:Va,ConfigMessage:Wa}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(E,{ref:"searchRef",staticClass:"config-view",attrs:{type:"nav","before-leave":a.cleanSearch},scopedSlots:e._u([{key:"suffix",fn:function(){return[t(B,{directives:[{name:"show",rawName:"v-show",value:"all"===a.tabActive,expression:"tabActive === 'all'"}],key:"searchInput",staticClass:"search",attrs:{iconType:"search",clearable:"",placeholder:"搜索设置项"},model:{value:a.settingSearch,callback:function(e){a.settingSearch=e},expression:"settingSearch"}})]},proxy:!0}]),model:{value:a.tabActive,callback:function(e){a.tabActive=e},expression:"tabActive"}},[t(p,{style:"max-height:".concat(a.mainHeight-100,"px;overflow-y:auto;"),attrs:{name:"all",label:"全部设置",lazy:""}},[t(a.ConfigPanel),t(a.ConfigSafe,{staticClass:"mt-12px"})],1),t(p,{style:"max-height:".concat(a.mainHeight-100,"px;overflow-y:auto;"),attrs:{name:"panel",label:"面板设置",lazy:""}},[t(a.ConfigPanel)],1),t(p,{style:"max-height:".concat(a.mainHeight-100,"px;overflow-y:auto;"),attrs:{name:"safe",label:"安全设置",lazy:""}},[t(a.ConfigSafe)],1),t(p,{attrs:{name:"alarm",label:"告警通知",lazy:""}},[t(a.ConfigAlarm)],1),t(p,{attrs:{name:"message",label:"消息中心",lazy:""}},[t(a.ConfigMessage)],1)],1)}),[],!1,null,"beed5f1e",null,null).exports,Ga=Object.freeze(Object.defineProperty({__proto__:null,default:Ja},Symbol.toStringTag,{value:"Module"}));export{Ga as i,aa as s};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./confirm2.js?v=1714377894636","./main.js?v=1714377894636","./modulepreload-polyfill.js?v=1714377894636","./vue-lib.js?v=1714377894636","./__commonjsHelpers__.js?v=1714377894636","./preload-helper.js?v=1714377894636","./request-lib.js?v=1714377894636","./locales-lib.js?v=1714377894636","./public-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./config.api.js?v=1714377894636","./config.store.js?v=1714377894636","./config2.js?v=1714377894636","./index109.js?v=1714377894636","./element-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./set.js?v=1714377894636","./index41.js?v=1714377894636","./element-lib.js?v=1714377894636","./dynamePwdResult.js?v=1714377894636","./index44.js?v=1714377894636","./noPortConfig.js?v=1714377894636","./element-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./index85.js?v=1714377894636","./index77.js?v=1714377894636","./index42.js?v=1714377894636","./index40.js?v=1714377894636","./element-lib.js?v=1714377894636","./config.js?v=1714377894636","./element-lib.js?v=1714377894636","./check.js?v=1714377894636","./index39.js?v=1714377894636","./element-lib.js?v=1714377894636","./index59.js?v=1714377894636","./index52.js?v=1714377894636","./radio-button.js?v=1714377894636","./index45.js?v=1714377894636","./index53.js?v=1714377894636","./element-lib.js?v=1714377894636","./index115.js?v=1714377894636","./index117.js?v=1714377894636","./cascader.js?v=1714377894636","./cascader-panel.js?v=1714377894636","./index62.js?v=1714377894636","./index38.js?v=1714377894636","./index61.js?v=1714377894636","./index55.js?v=1714377894636","./index116.js?v=1714377894636","./descriptions.js?v=1714377894636","./certListDialog.js?v=1714377894636","./config.table.js?v=1714377894636","./webhook.js?v=1714377894636","./index113.js?v=1714377894636","./checkbox-button.js?v=1714377894636","./element-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./index114.js?v=1714377894636"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}

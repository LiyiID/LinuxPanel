import{_ as s}from"./index118.js?v=1714377894636";import{w as e,x as t,Q as a,_ as r}from"./element-lib.js?v=1714377894636";import{n as l,D as i}from"./main.js?v=1714377894636";import{e as o,b as m,v as c,h as n,j as p}from"./vue-lib.js?v=1714377894636";import{dE as f,dF as u}from"./site.store.js?v=1714377894636";import{o as d}from"./confirm.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./check.js?v=1714377894636";import"./config.js?v=1714377894636";const v=l(o({__name:"TlsSetting",setup(s){const{proxy:e}=p(),t=m(),a=c({checkList:["选中且禁用"]}),r=m(!1),l=m([{text:"请注意，TLS 1.0和1.1版本存在安全风险。如果您的应用程序不会出现兼容性问题，请不要勾选此选项。"},{text:"修改后只会对后续部署证书的站点进行设置，已部署证书的站点不会因此改变"},{text:"仅支持PHP项目"}]),i=async()=>{r.value=!0;try{const{data:s}=await f();let e=[];for(let t in s)s[t]&&e.push(t);a.checkList=e}catch(s){}finally{r.value=!1}};return n((()=>{i()})),{__sfc:!0,vm:e,formRef:t,form:a,viewLoading:r,helpList:l,rules:{checkList:[{required:!0,message:"请选择TLS设置",trigger:"change"}]},getTlsData:i,handleSave:async()=>{d({$refs:t.value,loading:"正在设置，请稍后...",request:async()=>{const s=await u({use_protocols:a.checkList.join(",")});e.$message.request(s),i()}})}}}}),(function(){var l=this,o=l._self._c,m=l._self._setupProxy;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:m.viewLoading,expression:"viewLoading"}],staticClass:"p-20x"},[o(e,{ref:"formRef",attrs:{model:m.form,rules:m.rules,"label-position":"left"}},[o(t,{attrs:{label:"TLS设置",prop:"checkList"}},[o(a,{model:{value:m.form.checkList,callback:function(s){l.$set(m.form,"checkList",s)},expression:"form.checkList"}},[o(i,{attrs:{label:"TLSv1"}}),o(i,{attrs:{label:"TLSv1.1"}}),o(i,{attrs:{label:"TLSv1.2"}}),o(i,{attrs:{label:"TLSv1.3"}})],1)],1),o(t,{attrs:{label:" "}},[o(r,{attrs:{type:"primary"},on:{click:m.handleSave}},[l._v("保存")])],1),o(s,{staticClass:"ml-20x my-20x",attrs:{"list-style":"disc",list:m.helpList}})],1)],1)}),[],!1,null,null,null,null).exports;export{v as default};

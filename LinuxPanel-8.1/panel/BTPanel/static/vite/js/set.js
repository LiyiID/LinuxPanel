import{o as e,n as t,E as i}from"./main.js?v=1714377894636";import{_ as s}from"./index41.js?v=1714377894636";import{w as l,x as o}from"./element-lib.js?v=1714377894636";import{e as n,b as a,v as m,h as r}from"./vue-lib.js?v=1714377894636";import{getConfigStore as u}from"./config.store.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./config.api.js?v=1714377894636";const p=t(n({__name:"set",setup(t,{expose:i}){const{refs:{panelConfig:s},saveConfig:l}=u(),o=a(),n=m({time:5}),p=a([{num:43200,title:"12小时",key:"12小时"},{num:86400,title:"24小时",key:"24小时"},{num:259200,title:"72小时",key:"72小时"},{num:604800,title:"7天",key:"7天"},{num:2592e3,title:"30天",key:"30天"},{num:0,title:"自定义",key:"自定义"}]),v=e=>p.value.filter((e=>"自定义"!==e.title)).map((e=>e.title)).includes(e),c=async e=>{var t;let i=0;i="自定义"===o.value?60*n.time:null==(t=p.value.find((e=>e.title===o.value)))?void 0:t.num,await l("正在设置超时时间，请稍候...",{session_timeout:i}),e()};return r((()=>{p.value=[{num:43200,title:"12小时",key:"12小时"},{num:86400,title:"1天",key:"1天"},{num:259200,title:"3天",key:"3天"},{num:604800,title:"7天",key:"7天"},{num:2592e3,title:"30天",key:"30天"}],v(s.value.session_timeout)?o.value=s.value.session_timeout:(o.value="自定义",n.time=s.value.session_timeout_source/60)})),i({onConfirm:c}),{__sfc:!0,panelConfig:s,saveConfig:l,timeType:o,form:n,options:p,eventInput:e=>{if(o.value=e,"自定义"===e)n.time=5;else{const t=p.value.find((t=>t.title===e))||{num:86400};n.time=Number(t.num)/60}},isRoutine:v,parevent:e=>{var t=window.event?e.keyCode:e.which;189!=t&&190!=t&&109!=t&&110!=t||(e.target.value="")},onConfirm:c,isRelease:e}}}),(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"p-20px"},[t(l,[t(o,{attrs:{label:"超时时间"}},[t("div",{staticClass:"flex items-center"},[t(s,{staticClass:"w-[14rem]",attrs:{options:n.options,change:n.eventInput},model:{value:n.timeType,callback:function(e){n.timeType=e},expression:"timeType"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:"自定义"==n.timeType&&!n.isRelease,expression:"timeType == '自定义' && !isRelease"}],staticClass:"ml-10px"},[t(i,{staticClass:"!w-[10rem]",attrs:{"controls-position":"right",min:5,step:1},nativeOn:{keyup:function(e){return n.parevent(e)}},model:{value:n.form.time,callback:function(t){e.$set(n.form,"time",t)},expression:"form.time"}}),t("span",{staticClass:"ml-10px"},[e._v("分钟")])],1)],1)])],1),t("div",{staticClass:"mt-20px text-danger"},[e._v("注意：超时时间超过一天可能存在安全风险。")])],1)}),[],!1,null,null,null,null).exports;export{p as default};

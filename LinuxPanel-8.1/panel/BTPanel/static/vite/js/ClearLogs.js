import{a9 as e,w as a,x as l,q as t,s}from"./element-lib.js?v=1714377894636";import{n as r}from"./main.js?v=1714377894636";import{e as o,b as p,v as c,h as i}from"./vue-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";const m=r(o({__name:"ClearLogs",props:{compData:null},setup(e,{expose:a}){const l=e,t=p("access"),s=p(""),r=p([{title:"所有日志",key:""},{title:"仅保留近7天日志",key:"7"},{title:"仅保留近30天日志",key:"30"},{title:"仅保留近180天日志",key:"180"}]),o=c({type:"",day:""}),m=async e=>{try{await l.compData.clearEvent(s.value,t.value),e()}catch(a){}};return a({onConfirm:m}),i((()=>{"crontab"==l.compData.type&&r.value.pop()})),{__sfc:!0,props:l,clearType:t,clearDayValue:s,clearOptions:r,clearDataForm:o,clearLogs:m}}}),(function(){var r=this,o=r._self._c,p=r._self._setupProxy;return o("div",{staticClass:"p-20x flex flex-col"},[o(e,{attrs:{closable:!1,title:r.compData.tips,type:"warning","show-icon":""}}),o(a,{staticClass:"mt-20x",attrs:{model:p.clearDataForm}},["website"==r.compData.type?o(l,{attrs:{label:"类型"}},[o(t,{model:{value:p.clearType,callback:function(e){p.clearType=e},expression:"clearType"}},[o(s,{attrs:{label:"运行日志",value:"access"}}),o(s,{attrs:{label:"错误日志",value:"error"}})],1)],1):r._e(),o(l,{attrs:{label:"清理范围"}},[o(t,{model:{value:p.clearDayValue,callback:function(e){p.clearDayValue=e},expression:"clearDayValue"}},r._l(p.clearOptions,(function(e,a){return o(s,{key:a,attrs:{label:e.title,value:e.key}})})),1)],1)],1)],1)}),[],!1,null,null,null,null).exports;export{m as default};

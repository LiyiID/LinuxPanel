import{n as s,D as e}from"./main.js?v=1714377894636";import{e as t,c as a,b as o,j as r}from"./vue-lib.js?v=1714377894636";import{g as l}from"./soft.store.js?v=1714377894636";import{d as i,s as n}from"./soft.api.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./element-lib.js?v=1714377894636";const m=s(t({__name:"UnInstallDialog",props:{compData:{default:()=>({})}},setup(s,{expose:e}){const t=s,{proxy:m}=r(),{softData:c}=t.compData,{getSoftTableList:p}=l(),f=a((()=>{const s=c.name;return"total"===s||"rsync"===s||"syssafe"===s||"tamper_proof"===s})),u=o(!1),v=async(s,e)=>{const t=await i({sName:s,version:e});t.status?(m.$message.success(t.msg),m.$emit("close"),c.callback?c.callback():p()):m.$message.error(t.msg)},d=async()=>{let s=c.version;for(var e=0;e<c.versions.length;e++)if(c.versions[e].setup&&c.version.includes(c.versions[e].m_version)){s=c.versions[e].m_version,s.indexOf(".")<0&&(s+="."+c.versions[e].version);break}const t=c.name;if(f)if(u.value){const e=await n({soft_name:t});e.status?v(t,s):m.$message.error(e.msg)}else v(t,s);else v(t,s)};return e({onConfirm:d}),{__sfc:!0,vm:m,props:t,softData:c,getSoftTableList:p,isSpecial:f,checked:u,unInstall:v,onConfirm:d}}}),(function(){var s=this,t=s._self._c,a=s._self._setupProxy;return t("div",{staticClass:"w-full p-[2rem]"},[t("div",{staticClass:"flex items-center"},[t("i",{class:"el-icon-warning text-[4rem] text-[#f5cd1e]"}),t("div",{staticClass:"message flex-1 ml-4 py-[.3rem] leading-[2.4rem] text-[1.3rem]"},[t("div",{staticClass:"text text-2xl leading-[2.5rem]"},[s._v(" "+s._s("您真的要删除卸载【".concat(a.softData.title,"】吗？"))+" ")])])]),a.isSpecial?t(e,{staticClass:"mt-[2.5rem] ml-[1rem]",model:{value:a.checked,callback:function(s){a.checked=s},expression:"checked"}},[s._v("保存配置文件")]):s._e()],1)}),[],!1,null,"796ea0e9",null,null).exports;export{m as default};

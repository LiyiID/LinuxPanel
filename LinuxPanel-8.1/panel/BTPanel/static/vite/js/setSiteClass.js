import{q as t,s}from"./element-lib.js?v=1714377894636";import{n as e}from"./main.js?v=1714377894636";import{e as a,b as i,h as o,j as l}from"./vue-lib.js?v=1714377894636";import{g as p,an as r,c as m,ao as c,ap as n}from"./site.store.js?v=1714377894636";import{r as u}from"./site.popup.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./check.js?v=1714377894636";import"./index38.js?v=1714377894636";import"./index45.js?v=1714377894636";import"./element-ui.common.js?v=1714377894636";import"./date-util.js?v=1714377894636";import"./vdom.js?v=1714377894636";import"./index62.js?v=1714377894636";import"./cascader-panel.js?v=1714377894636";const d=e(a({__name:"setSiteClass",props:{compData:{default:()=>({rowList:[]})}},setup(t,{expose:s}){const e=t,{refs:{},getPhpModulesList:a,getModulesList:d}=p(),{proxy:f}=l(),j=i(),y=i([]),_=async t=>{let s=f.$load("正在设置分类，请稍后...");try{let i,o=[],l=[];e.compData.rowList.forEach((t=>{o.push(t.id)})),i=e.compData.type?await r({site_ids:JSON.stringify(o),type_id:j.value},e.compData.type):await m({site_ids:JSON.stringify(o),id:j.value}),i.status&&await e.compData.rowList.forEach((t=>{l.push({name:t.name,status:!0})})),await u({resultData:l,resultTitle:"设置分类结果"}),t(),s.close(),!e.compData.type&&a(),e.compData.type&&d(e.compData.type)}catch(i){}finally{s.close()}},x=async()=>{try{let t;t=e.compData.type?await c(e.compData.type):await n(),y.value=t.data,j.value=t.data[0].id}catch(t){}};return s({onConfirm:_}),o((()=>{x()})),{__sfc:!0,props:e,getPhpModulesList:a,getModulesList:d,vm:f,selectValue:j,classList:y,onConfirm:_,getSiteTypeList:x}}}),(function(){var e=this,a=e._self._c,i=e._self._setupProxy;return a("div",{staticClass:"p-20x flex justify-center flex-col"},[a("div",{staticClass:"flex items-center"},[e._v(" 站点分类 "),a(t,{staticClass:"w-[20rem] ml-12x",model:{value:i.selectValue,callback:function(t){i.selectValue=t},expression:"selectValue"}},e._l(i.classList,(function(t){return a(s,{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)])}),[],!1,null,"89f0833c",null,null).exports;export{d as default};

import{_ as s}from"./index44.js?v=1714377894636";import{a9 as t}from"./element-lib.js?v=1714377894636";import{f as e,n as a}from"./main.js?v=1714377894636";import{e as o,b as i,c as l,h as r,I as c,j as n}from"./vue-lib.js?v=1714377894636";import{g as p,br as m}from"./site.store.js?v=1714377894636";import{$ as u}from"./site.popup.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./check.js?v=1714377894636";import"./index38.js?v=1714377894636";import"./index45.js?v=1714377894636";import"./element-ui.common.js?v=1714377894636";import"./date-util.js?v=1714377894636";import"./vdom.js?v=1714377894636";import"./index62.js?v=1714377894636";import"./cascader-panel.js?v=1714377894636";const d=a(o({__name:"PayBusSsl",props:{compData:{default:{oid:0,wxcode:"",alicode:"",qq:"",orderInfo:{},productInfo:{}}}},setup(s){const t=s,{refs:{isRefreshSSL:a}}=p(),{proxy:o}=n(),d=i(t.compData.productInfo),f=i(t.compData.orderInfo),v=i(d.value.totalPrice>5e3),y=i(v.value?"alicode":"wxcode"),x=i(0),_=i(!1),j=l((()=>t.compData[y.value])),b=async()=>{await C(),_.value?(x.value&&clearTimeout(x.value),x.value=setTimeout((()=>{b()}),3e3)):I()},C=async()=>{try{const{data:s}=await m({oid:f.value.oid});_.value=!s}catch(s){}},I=()=>{u({productInfo:d.value,orderInfo:f.value}),a.value=!0,o.$emit("close")};return r((()=>{b()})),c((()=>{_.value=!1,x.value&&clearTimeout(x.value)})),{__sfc:!0,isRefreshSSL:a,props:t,vm:o,productInfo:d,orderInfo:f,isCheckWechatPayLimit:v,tabActive:y,pollingTimer:x,polling:_,tabsList:[{name:"微信支付",label:"wxcode"},{name:"支付宝支付",label:"alicode"}],qrcodeUrl:j,cutPayType:s=>{v.value&&"wxcode"===s&&(s="alicode",o.$message.error("微信支付单笔限额5000元，请使用支付宝支付")),y.value=s},pollingMonitorPayStatus:b,monitorPayStatus:C,openBusPaySuccessDialog:I,formatTime:e}}}),(function(){var e=this,a=e._self._c,o=e._self._setupProxy;return a("div",{staticClass:"px-[3rem] py-[2rem]"},[a(t,{attrs:{type:"error",closable:!1},scopedSlots:e._u([{key:"title",fn:function(){return[a("span",{staticClass:"text-[1.2rem]"},[a("i",{attrs:{calss:"el-icon-warning-outline text-[1.2rem]"}}),a("span",[e._v(" 禁止含有诈骗、赌博、色情、木马、病毒等违法违规业务信息的站点申请SSL证书，如有违反，撤销申请，停用账号。 ")])])]},proxy:!0}])}),a("div",{staticClass:"ssl-pay-type"},e._l(o.tabsList,(function(s){return a("span",{class:"ssl-pay-tab-item ".concat(s.label===o.tabActive?"isActive":""),on:{click:function(t){return o.cutPayType(s.label)}}},[a("span",{class:"pay-icon ".concat(s.label)}),a("span",[e._v(e._s(s.name))])])})),0),a("div",{staticClass:"p-32x flex flex-col justify-center items-center mt-16x"},[a(s,{attrs:{value:o.qrcodeUrl,size:160}}),a("span",{staticClass:"mt-20x text-[1.4rem] font-bold flex items-center"},[a("span",[e._v("总计")]),a("span",{staticClass:"text-[2.5rem] ml-8x text-orange"},[e._v(" "+e._s(o.productInfo.totalPrice.toFixed(2))+" 元 ")])])],1),a("div",{staticClass:"ssl-pay-info"},[a("div",{staticClass:"ssl-pay-info-line"},[a("span",{staticClass:"w-[5rem]"},[e._v("商品名称")]),a("span",[e._v(" "+e._s("".concat(o.productInfo.productName+o.productInfo.years,"年").concat(o.productInfo.install?"(包含部署服务)":""))+" ")])]),a("div",{staticClass:"ssl-pay-info-line"},[a("span",{staticClass:"w-[5rem]"},[e._v("下单时间")]),a("span",[e._v(e._s(o.formatTime(o.orderInfo.addtime,"yyyy-MM-dd hh:mm:ss")))])])]),a("div",{staticClass:"mt-16x flex items-center justify-center"},[a("span",{staticClass:"scan-icon"}),a("span",[e._v(e._s("wxcode"===o.tabActive?"微信扫一扫支付":"支付扫一扫支付"))])])],1)}),[],!1,null,"fa5c7f3c",null,null).exports;export{d as default};

import{a3 as a,L as t,H as e,m as s,g as i,j as n,a4 as o}from"./main.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import{d as c}from"./config.js?v=1714377894636";const l=({$refs:a,loading:t,confirm:e,request:s,message:i,complete:n,fail:o})=>{const c=a.$root;a.validate((async a=>{a&&await r({confirm:e,loading:t,request:s,message:i,complete:n,fail:o,popup:c})}))},r=async({confirm:i,loading:n,request:o,message:c,complete:l,fail:r,popup:g})=>{const m=a(n),f=a(i);let u=null,w={};try{if("undefined"!==f&&(w=i,"string"===f&&(w={message:i}),await t.confirm({icon:"warning",title:"提示",message:i,...w})),"string"===m&&(u=e.load(n)),"object"===m)if(g){const a=n;if("value"in a)u=g.loading(a,"提交中...");else{const t=a.text||"修改中...";u=g.loading(a.disable,t)}}else u=n,u.value=!0;const a=await o();a&&((s(c,"undefined")||c)&&e.request(a),a.status&&l&&await l(a),a.status&&g&&g.close(),!a.status&&r&&await r(a))}catch(d){r&&await r(d)}finally{u&&(("string"===m||g)&&u.close(),"object"===m&&(u.value=!1))}},g=async({confirm:a,request:i,loadingText:n,refresh:o})=>{let c=null;try{s(a,"object")?await t.confirm(a):a&&s(a,"string")&&await a(),c=e.load(n);const l=await i();e.request(l),l.status&&o&&await o()}catch(l){o&&await o()}finally{c&&c.close()}},m=async()=>{try{await t.confirm({icon:"warning",title:"解绑宝塔账号",width:"35rem",message:"解绑宝塔账号绑定，继续操作！"});const a=await c();e.request(a),a.status&&setTimeout((async()=>{const{getPublicConfigInfo:a}=i();await a(),n("/bind")}),2e3)}catch(a){}},f=async()=>{try{await t.confirm({icon:"warning",title:"退出登录",message:"退出面板登录，是否继续？"}),o.replace({path:"/",replace:!0}),o.go(0),window.location.href="/login?dologin=True"}catch(a){}};export{r as a,g as b,f as d,l as o,m as u};

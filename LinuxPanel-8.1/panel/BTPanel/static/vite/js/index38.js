import{e as t,b as e,w as s,c as a,H as o}from"./vue-lib.js?v=1714377894636";import{n as l,a as r,Z as n,$ as i,i as p,g as c,s as u,j as d,F as m,H as f,a0 as v,c as h}from"./main.js?v=1714377894636";import{i as b}from"./locales-lib.js?v=1714377894636";import{_ as x}from"./index45.js?v=1714377894636";import{N as w,O as _,M as y}from"./element-lib.js?v=1714377894636";const k=l(t({__name:"index",props:{data:{default:()=>["未启动","运行中"]},status:{type:[Boolean,Number],default:!0},textShow:{type:Boolean,default:!0}},setup:t=>({__sfc:!0})}),(function(){var t=this,e=t._self._c;return t._self._setupProxy,e(r,t._g({attrs:{type:t.status?"primary":"danger"}},t.$listeners),[e("span",{staticClass:"flex items-center"},[e("span",[t._v(t._s(t.data[Number(t.status)]))]),e("span",{class:"icon-"+(t.status?"start":"stop")+" iconfont"})])])}),[],!1,null,"3c31a68a",null,null).exports;const C=l(t({__name:"index",props:{value:{default:""}},setup(t){const o=t,l=n("copy",16),r=e(!1),p=e(!0);s((()=>{o.value?p.value=!0:p.value=!1}));const c=a((()=>r.value?"icon-eye-close":"icon-browse"));return{__sfc:!0,props:o,id:l,show:r,isPassword:p,showPwdClass:c,copyPaw:function(t){i({value:t})}}}}),(function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",[s.isPassword?e("div",{staticClass:"flex items-center"},[s.show?e("span",{staticClass:"block truncate max-w-[14rem]"},[t._v(t._s(t.value))]):e("span",[t._v("**********")]),e("i",{staticClass:"mx-4 iconfont cursor-pointer text-[#333] text-[1.5rem]",class:s.showPwdClass,attrs:{title:"显示密码"},on:{click:function(t){s.show=!s.show}}}),e("i",{staticClass:"el-icon-document-copy cursor-pointer text-[#333] text-[1.5rem] copy",attrs:{id:s.id,"data-clipboard-text":{value:t.value},title:"复制密码"},on:{click:function(e){return s.copyPaw(t.value)}}})]):e("div",[t._m(0)])])}),[function(){var t=this,e=t._self._c;return t._self._setupProxy,e("span",{staticClass:"text-[#999]"},[t._v("无法获取密码，请点击"),e("span",{staticClass:"text-[#ef0808]"},[t._v("改密")]),t._v("重置密码!")])}],!1,null,null,null,null).exports,g=()=>({type:"selection",width:36}),P=(t,e)=>({width:26,type:"toping",label:t.label||"",subtitle:"置顶",render:s=>{e||(e="sort");const a=t.param||e||"",l=Boolean(s[a])&&"0"!==s[a];return o("div",{on:{click:()=>t.event(s,l?"untop":"top")}},[o(m,{attrs:{name:"icon-top",size:"1.6"},style:l?"":"filter: grayscale(80%);",class:l?" cursor-pointer":"table-no-top cursor-pointer"})])}}),z=t=>({label:b.t("Ps"),prop:t.prop?t.prop:"ps",minWidth:120,isCustom:!0,showOverflowTooltip:!1,render:e=>{var s;const a=t.prop?t.prop:"ps",l={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"',"#x27":"'"};return e[a]=null==(s=e[a])?void 0:s.replace(/&(lt|gt|nbsp|amp|quot|#x27);/gi,(function(t,e){return l[e]})),t.fail&&t.fail(e)?t.fail(e):o("input",{attrs:{type:"text",placeholder:"".concat(b.t("ClickEditPs"))},domProps:{value:e[a]},class:"bt-table-input w-full !whitespace-pre-line",on:{blur:s=>e[a]!==s.target.value&&(e[a]=s.target.value,t.editEvent?(t.editEvent(e,s.target.value),!1):void(async({id:t,ps:e},s)=>{const a=f.load("正在修改备注信息，请稍后...");try{const{data:a}=await v({id:t,table:s,ps:e});f.request(a)}catch(o){}finally{a.close()}})(e,t.table)),keydown:t=>{13===t.keyCode&&t.target.blur()}}})}}),N=t=>{const{refs:{jumpFilePath:e}}=c();e.value=t.path,u("Path",t.path),d("/files")},j=(t={prop:"path",labelClassName:""})=>({label:t.label||b.t("RootDirectory"),prop:t.prop,showOverflowTooltip:!1,minWidth:t.minWidth||220,labelClassName:t.labelClassName,width:t.width,isCustom:!0,render:e=>{const s=e[t.prop];return o("span",{class:"w-full flex"},[o(r,{class:"flex justify-start whitespace-pre-line",on:{click:()=>N(e)},attrs:{title:b.t("ClickOpenPath")}},[o("span",[o("span",{class:"full-path"},[s])])])])}}),q=t=>(p(t.prop)&&(t.prop="status"),p(t.data)&&(t.data=["未启动","运行中"]),{label:b.t("State"),prop:t.prop,width:t.width||70,minWidth:70,isCustom:!0,sortable:t.sortable||!1,render:e=>t.function?t.function(e):"running"===e[t.prop]||"start"===e[t.prop]?o(k,{attrs:{status:1,data:t.data},on:{click:()=>t.event(e)}}):"exited"===e[t.prop]||"stop"===e[t.prop]||"created"===e[t.prop]?o(k,{attrs:{status:0,data:t.data},on:{click:()=>t.event(e)}}):o(k,{attrs:{status:Number(e[t.prop]),data:t.data},on:{click:()=>t.event(e)}})}),H=(t={prop:"password"})=>({label:b.t("Password"),prop:t.prop,minWidth:130,isCustom:!0,render:e=>o(C,{attrs:{value:e[t.prop]}})}),W=t=>{var e;return{label:b.t("Capacity"),isLtd:!0,renderHeader:()=>o("div",{class:"flex items-center"},[o("span",{class:"mr-2"},["容量"]),o(m,{attrs:{name:"icon-ltd",size:"1.6"},class:"mr-4x"})]),width:86,minWidth:80,isCustom:null!=(e=null==t?void 0:t.isCustom)&&e,render:e=>{var s;let a=!1;const{quota:l}=e,n=!(null==l?void 0:l.size)&&!(null==(s=null==l?void 0:l.quota_storage)?void 0:s.size);if(n)return o(r,{on:{click:()=>{t.event(e,n)}}},[b.t("NotConfig")]);const i=1024*(l.size||l.quota_storage.size)*1024,p=Number((l.used/i*100).toFixed(2))||0,c=(l.used/1024/1024).toFixed(2)||0;return(l.size||l.quota_storage.size)>0&&l.used>=i&&(a=!0),a?o(r,{attrs:{type:"danger"},on:{click:()=>{t.event(e,n)}}},[b.t("CapacityFull")]):o(r,{class:p>80?"el-link--danger":"el-link--primary",on:{click:()=>{t.event(e,n)}}},[c," / ",l.size||l.quota_storage.size," MB"])}}},O=(t,e)=>{const s=t.reduce(((t,e)=>t+(e.width||40)+(e.isMore&&!e.width?20:0)),0)+20;return{label:b.t("Operation"),align:"right",fixed:e&&"boolean"==typeof e.fixed?e.fixed:"right",showOverflowTooltip:!1,width:s,render:(e,s)=>{const a=[];return null==t||t.forEach(((l,n)=>{const i="function"==typeof l.isHide?l.isHide(e):l.isHide||!1;if(l.text)return a.push(o("span",{class:i?"hidden":""},[l.text]));if(l.render)return a.push(l.render(e,s));if(l.isMore){const t=l.menu.filter((t=>!t.isHide));return a.push(o(y,{on:{command:t=>l.onClick(t,e)}},[o("span",{class:"text-[#20a53a] text-[1.2rem]"},["更多",o("span",{class:"el-icon-arrow-down font-bold"})]),o(w,{slot:"dropdown"},t.map((t=>o(_,{props:{command:t.key}},t.title))))])),o("div",a)}i||(a.push(o(r,{on:{click:()=>l.onClick(e,s)},attrs:{title:l.title}},[l.title])),t.length-1!==n&&a.push(o(x)))})),o("div",a)}}},B=t=>({...t,isCustom:!0,render:e=>o(r,{on:{click:()=>t.event?t.event(e):null},attrs:{title:t.title}},[t.text])}),F=t=>({label:"备份",prop:t.prop,minWidth:180,isCustom:!0,render:e=>o("div",{class:"flex items-center"},[o("span",{class:e.backup_count>0?"text-[#20a53a] cursor-pointer":"text-[#f0ad4e] cursor-pointer",on:{click:()=>t.event?t.event(e,"back"):null}},[e.backup_count>0?"有备份(".concat(e.backup_count,")"):"点击备份"]),o("span",{class:"mx-4x"},["|"]),o(r,{on:{click:()=>t.event?t.event(e,"import"):null}},["导入"])])}),E=t=>({label:"大小",prop:t.prop,render:t=>(null==t?void 0:t.size)?h(Number(t.size),!0):"获取失败"});export{k as B,q as a,j as b,W as c,z as d,O as e,E as f,g,H as h,B as i,P as j,F as k,N as o};

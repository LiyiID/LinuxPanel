import{_ as s}from"./index85.js?v=1714377894636";import{w as e,x as a}from"./element-lib.js?v=1714377894636";import{n as r}from"./main.js?v=1714377894636";import{e as t,v as o,b as i,j as m}from"./vue-lib.js?v=1714377894636";import{ej as l,ek as p}from"./site.store.js?v=1714377894636";import{o as n,a as d}from"./confirm.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./check.js?v=1714377894636";import"./config.js?v=1714377894636";const c=r(t({__name:"PassLimitForm",props:{compData:{default:()=>({})}},setup(s,{expose:e}){const a=s,{proxy:r}=m(),t=o({site_dir:a.compData.site_dir||"",name:a.compData.name||"",username:a.compData.username||"",password:a.compData.password||""}),c=i(!1),u=i(),f=o({site_dir:[{required:!0,message:"请输入需要加密访问的目录",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:3,message:"名称必须大于三位",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,message:"用户名必须大于三位",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,message:"密码必须大于三位",trigger:"blur"}]}),b=async()=>{n({$refs:u.value,loading:{disable:c,text:"提交中，请稍候..."},request:async()=>{if(a.compData.name)return await l({id:a.compData.id,...t});const{data:s}=await p({id:a.compData.id,...t});return void 0!==s.tip?(d({confirm:{title:"添加须知",message:s.tip,icon:"warning"},loading:"正在添加，请稍后...",request:async()=>await p({id:a.compData.id,...t,force:!0}),async complete(){r.$emit("close"),a.compData.refresh()}}),null):s},async complete(){a.compData.refresh()}})};return e({onConfirm:b}),{__sfc:!0,vm:r,props:a,passForm:t,formDisabled:c,passwordSiteForm:u,passRules:f,savePassConfig:b}}}),(function(){var r=this,t=r._self._c,o=r._self._setupProxy;return t("div",{staticClass:"p-20x"},[t(e,{ref:"passwordSiteForm",attrs:{rules:o.passRules,model:o.passForm,disabled:o.formDisabled}},[t(a,{attrs:{label:"加密访问",prop:"site_dir"}},[t(s,{attrs:{disabled:r.compData.name,placeholder:"输入需要加密访问的目录，如：/text/"},model:{value:o.passForm.site_dir,callback:function(s){r.$set(o.passForm,"site_dir",s)},expression:"passForm.site_dir"}})],1),t(a,{attrs:{label:"名称",prop:"name"}},[t(s,{attrs:{disabled:r.compData.name},model:{value:o.passForm.name,callback:function(s){r.$set(o.passForm,"name",s)},expression:"passForm.name"}})],1),t(a,{attrs:{label:"用户名",prop:"username"}},[t(s,{attrs:{placeholder:"请输入大于三位的用户名"},model:{value:o.passForm.username,callback:function(s){r.$set(o.passForm,"username",s)},expression:"passForm.username"}})],1),t(a,{attrs:{label:"密码",prop:"password"}},[t(s,{attrs:{type:"password",placeholder:"请输入大于三位的密码"},model:{value:o.passForm.password,callback:function(s){r.$set(o.passForm,"password",s)},expression:"passForm.password"}})],1),t("ul",{staticClass:"ml-6 mt-8 list-disc leading-10"},[t("li",{staticClass:"text-medium"},[r._v("目录设置加密访问后，会导致目录及子目录下的“反向代理”失效")]),t("li",{staticClass:"text-medium"},[r._v("目录设置加密访问后，访问时需要输入账号密码才能访问")]),t("li",{staticClass:"text-medium"},[r._v(" 例如我设置了加密访问 /test/ ,那我访问 http://aaa.com/test/ 时就要输入账号密码才能访问 ")])])],1)],1)}),[],!1,null,"17dea6ae",null,null).exports;export{c as default};

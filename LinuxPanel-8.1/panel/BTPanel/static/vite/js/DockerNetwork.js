import{_ as e}from"./index52.js?v=1714377894636";import{_ as t}from"./index53.js?v=1714377894636";import{_ as a}from"./index39.js?v=1714377894636";import{_ as n}from"./index54.js?v=1714377894636";import{_ as r}from"./index58.js?v=1714377894636";import{_ as s}from"./index59.js?v=1714377894636";import{e as i,b as o,v as l,L as c,h as m,j as p,H as u}from"./vue-lib.js?v=1714377894636";import{g as d,P as g,n as f}from"./main.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import{d as h}from"./docker.table.js?v=1714377894636";import{t as b,N as j}from"./docker.popup.js?v=1714377894636";import{k as v,l as y}from"./docker.api.js?v=1714377894636";import{g as x}from"./docker.store.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./element-lib.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./index45.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./index38.js?v=1714377894636";import"./element-ui.common.js?v=1714377894636";import"./date-util.js?v=1714377894636";import"./vdom.js?v=1714377894636";import"./index62.js?v=1714377894636";import"./cascader-panel.js?v=1714377894636";import"./check.js?v=1714377894636";const D=f(i({__name:"DockerNetwork",setup(e){var t;const{proxy:a}=p(),n=o(),r=o(JSON.parse(null!=(t=localStorage.getItem("dockerNetColumn"))?t:"[]")||[]),{refs:{netTableData:s},getNList:i}=x(),{refs:{mainHeight:f}}=d(),D=l({selectList:[]}),k=o("");c("ftpRowData",(()=>s.value.rowData)),c("selectList",(()=>D.selectList));const _=o([{label:"批量删除",value:"delete",event:()=>{}}]),C=o([{active:!0,content:a.$t("Docker.addNet"),event:()=>{b()}},{active:!1,content:a.$t("Docker.clearNet"),event:async()=>{try{await a.$confirm({type:"calc",title:"清理网络",width:"35rem",message:"您真的要清理未使用的网络吗？"}),s.value.loading=!0;const e=await v();e.status?i():s.value.loading=!1,a.$message.request(e)}catch(e){}}}]);let T=[],w=!1,N=0;const L=l({isRecurrence:!1,describe:{title:"",th:"",message:"",propsValue:"name"},tableDisplayConfig:{label:"状态",prop:"status",render:e=>u("span",{class:0!==T.length||w?T.includes(e.id)?"text-primary":"text-danger":"text-warning"},(()=>{if(0!==T.length||w){let t=T.includes(e.id)?"执行成功":"执行失败";return N++,t}return"等待执行"})())}}),P=async e=>{await a.$confirm({type:"calc",title:"删除网络【".concat(e.name,"】"),width:"35rem",message:"您真的要删除网络【".concat(e.name,"】吗？")});const t={id:e.id},n=await y({data:JSON.stringify(t)});n.status?(i(),a.$message.success(n.msg)):a.$message.error(n.msg)},S=async({id:e})=>{try{const t={id:e},{data:a}=await y({data:JSON.stringify(t)});return a.status?(T.push(e),a):Promise.reject(!1)}catch(t){return Promise.reject(!1)}},$=h({deleteDataEvent:P});return m((async()=>{i(),$.value=g(r.value,$.value)})),{__sfc:!0,vm:a,Table:n,ftpTbaleColumnLocal:r,netTableData:s,getNList:i,mainHeight:f,select:D,batchType:k,tableBatchData:_,tableBtnGroup:C,list:T,isComplete:w,index:N,batchConfig:L,batchEvent:(e,t,a)=>{if("delete"===e)return S(t)},handleBathComplete:e=>{w=!0,i()},changePageLimit:e=>{s.value.limit=e,s.value.p=1,i()},changePageSize:e=>{s.value.p=e,i()},deleteDataEvent:P,batchDeleteData:S,handleBatch:e=>{w=!1,T=[],N=0;let t=[];if("delete"===e)t=["删除"];k.value=e,L.isRecurrence=!0,L.describe.th="网络名",L.describe.title="批量".concat(t[0],"网络"),L.describe.message="批量".concat(t[0],"已选的网络，是否继续操作?")},handleSelectionChange:e=>{D.selectList=e},tableColumn:$,NPSDialog:j}}}),(function(){var i=this,o=i._self._c,l=i._self._setupProxy;return o("div",{staticClass:"relative .container-table-tab"},[o(s,{scopedSlots:i._u([{key:"header-left",fn:function(){return[o("div",{staticClass:"flex items-center"},[o(r,{attrs:{group:l.tableBtnGroup}}),o("a",{staticClass:"cursor-pointer ml-[1rem] text-[#20a53a] hover:text-[#1d9534]",on:{click:function(e){return l.NPSDialog()}}},[i._v("需求反馈")])],1)]},proxy:!0},{key:"header-right",fn:function(){return[o(n,{attrs:{name:"dockerNetColumn",column:l.tableColumn}})]},proxy:!0},{key:"content",fn:function(){return[o(a,{directives:[{name:"loading",rawName:"v-loading",value:l.netTableData.loading,expression:"netTableData.loading"}],key:"netTable",ref:"Table",attrs:{column:l.tableColumn,"max-height":l.mainHeight-220,data:l.netTableData.showList,description:"网络列表为空","element-loading-text":"正在加载网络列表，请稍后..."},on:{"selection-change":l.handleSelectionChange}})]},proxy:!0},{key:"footer-left",fn:function(){return[o(t,{attrs:{data:l.tableBatchData,config:l.batchConfig,"batch-fn":l.batchEvent},on:{"handle-batch":l.handleBatch,"handle-complete":l.handleBathComplete}})]},proxy:!0},{key:"footer-right",fn:function(){return[o(e,{attrs:{total:l.netTableData.total,"current-page":l.netTableData.p,"page-size":l.netTableData.limit},on:{"update:currentPage":function(e){return i.$set(l.netTableData,"p",e)},"update:current-page":function(e){return i.$set(l.netTableData,"p",e)},"size-change":l.changePageLimit,"current-change":l.changePageSize}})]},proxy:!0},{key:"popup",fn:function(){},proxy:!0}])})],1)}),[],!1,null,"1211d27e",null,null).exports;export{D as default};

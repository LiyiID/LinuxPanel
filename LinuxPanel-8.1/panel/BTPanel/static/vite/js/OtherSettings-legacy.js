!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(t,r,n){var o;return o=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"),(r="symbol"==e(o)?o:String(o))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return r};var t,r={},n=Object.prototype,a=n.hasOwnProperty,s=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},i=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,r){return e[t]=r}}function m(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new $(n||[]);return s(a,"_invoke",{value:L(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=m;var v="suspendedStart",d="suspendedYield",h="executing",y="completed",g={};function b(){}function w(){}function x(){}var _={};p(_,i,(function(){return this}));var k=Object.getPrototypeOf,j=k&&k(k(D([])));j&&j!==n&&a.call(j,i)&&(_=j);var F=x.prototype=b.prototype=Object.create(_);function C(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(t,r){function n(o,s,c,i){var l=f(t[o],t,s);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==e(p)&&a.call(p,"__await")?r.resolve(p.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):r.resolve(p).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}var o;s(this,"_invoke",{value:function(e,t){function a(){return new r((function(r,o){n(e,t,r,o)}))}return o=o?o.then(a,a):a()}})}function L(e,r,n){var o=v;return function(a,s){if(o===h)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw s;return{value:t,done:!0}}for(n.method=a,n.arg=s;;){var c=n.delegate;if(c){var i=O(c,n);if(i){if(i===g)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===v)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:d,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var s=a.arg;return s?s.done?(r[e.resultName]=s.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function D(r){if(r||""===r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,s=function e(){for(;++o<r.length;)if(a.call(r,o))return e.value=r[o],e.done=!1,e;return e.value=t,e.done=!0,e};return s.next=s}}throw new TypeError(e(r)+" is not iterable")}return w.prototype=x,s(F,"constructor",{value:x,configurable:!0}),s(x,"constructor",{value:w,configurable:!0}),w.displayName=p(x,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,p(e,u,"GeneratorFunction")),e.prototype=Object.create(F),e},r.awrap=function(e){return{__await:e}},C(P.prototype),p(P.prototype,l,(function(){return this})),r.AsyncIterator=P,r.async=function(e,t,n,o,a){void 0===a&&(a=Promise);var s=new P(m(e,t,n,o),a);return r.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},C(F),p(F,u,"Generator"),p(F,i,(function(){return this})),p(F,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=D,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],c=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var i=a.call(s,"catchLoc"),l=a.call(s,"finallyLoc");if(i&&l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(i){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}function a(e,t,r,n,o,a,s){try{var c=e[a](s),i=c.value}catch(l){return void r(l)}c.done?t(i):Promise.resolve(i).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var s=e.apply(t,r);function c(e){a(s,n,o,c,i,"next",e)}function i(e){a(s,n,o,c,i,"throw",e)}c(void 0)}))}}System.register(["./index-legacy85.js?v=1714377894636","./element-lib-legacy.js?v=1714377894636","./main-legacy.js?v=1714377894636","./form-item-legacy.js?v=1714377894636","./checkbox-group-legacy.js?v=1714377894636","./form-legacy.js?v=1714377894636","./index-legacy39.js?v=1714377894636","./index-legacy55.js?v=1714377894636","./index-legacy59.js?v=1714377894636","./tabs-legacy.js?v=1714377894636","./index-legacy46.js?v=1714377894636","./index-legacy60.js?v=1714377894636","./select-legacy.js?v=1714377894636","./index-legacy77.js?v=1714377894636","./vue-lib-legacy.js?v=1714377894636","./confirm-legacy.js?v=1714377894636","./check-legacy.js?v=1714377894636","./locales-lib-legacy.js?v=1714377894636","./software-legacy2.js?v=1714377894636","./index-legacy38.js?v=1714377894636","./site.store-legacy.js?v=1714377894636","./__commonjsHelpers__-legacy.js?v=1714377894636","./public-lib-legacy.js?v=1714377894636","./modulepreload-polyfill-legacy.js?v=1714377894636","./preload-helper-legacy.js?v=1714377894636","./request-lib-legacy.js?v=1714377894636","./empty-legacy.js?v=1714377894636","./switch-legacy.js?v=1714377894636","./index.vue_vue_type_style_index_0_lang-legacy.js?v=1714377894636","./index-legacy42.js?v=1714377894636","./config-legacy.js?v=1714377894636","./index-legacy45.js?v=1714377894636"],(function(e,t){"use strict";var n,a,c,i,l,u,p,m,f,v,d,h,y,g,b,w,x,_,k,j,F,C,P,L,O,E,S,$,D,T,N,q,H,G,V,A,I,M,R,z,J,U,Y,Q;return{setters:[function(e){n=e._},function(e){a=e.u,c=e.w,i=e.x,l=e.q,u=e.s,p=e.Q},function(e){m=e.g,f=e.o,v=e.aS,d=e.n,h=e.q,y=e.a,g=e.b,b=e.D},null,null,null,function(e){w=e._},function(e){x=e._},function(e){_=e._},null,function(e){k=e._},function(e){j=e._},null,function(e){F=e._},function(e){C=e.e,P=e.b,L=e.v,O=e.h,E=e.i,S=e.j},function(e){$=e.a},function(e){D=e.c},null,function(e){T=e.o},function(e){N=e.e},function(e){q=e.dm,H=e.dn,G=e.dp,V=e.dq,A=e.dr,I=e.ds,M=e.dt,R=e.du,z=e.dv,J=e.dw,U=e.bC,Y=e.dx,Q=e.i},null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t=C({__name:"OtherSettings",props:{compData:{default:{}}},setup:function(e){var t=e,n=S().proxy,a=m().refs.webServerType,c=P("composer"),i=L({tomcat:!1}),l=P(!1),u=P(!1),p=P(!1),d=P({path:t.compData.path,user:"www",php:"auto",otherCommand:"",mirror:"https://mirrors.aliyun.com/composer/",command:"install",composerVersion:"install",version:"",help_tips:"",comp_json:"",comp_lock:"",phpVersion:[],commandOptions:[{label:"install",value:"install"},{label:"update",value:"update"},{label:"require",value:"require"},{label:"create-project",value:"create-project"},{label:"自定义",value:""}]}),h=P("正在执行..."),y=P(!1),g=P(),b=P(""),w=P([{help:"阻止浏览器上下文中执行恶意JavaScript代码",value:!1,field:"x_xss_protection"},{help:"阻止浏览器的内容嗅探",value:!1,field:"x_content_type_options"},{help:"让浏览器跳转时不携带referrer",value:!1,field:"referrer_policy"},{help:"让浏览器加载内容时只加载自己网站的内容",value:!1,field:"content_security_policy"},{help:"防止浏览器进行用户行为跟踪",value:!1,field:"permissions_policy"}]),x=P([]),_=P(!1),k=P(!1),j=P({allowed_origins:"",allowed_methods:[],allowed_headers:"",exposed_headers:"",max_age:""}),F=function(){var e=s(o().mark((function e(r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.value=!0,e.prev=1,e.next=4,q({path:r||t.compData.path});case 4:(a=e.sent).data.status?(u.value=!1,d.value.version=a.data.msg,d.value.phpVersion=a.data.php_versions.filter((function(e){return"00"!==e.version})),d.value.phpVersion.unshift({name:"自动选择",version:"auto"}),d.value.comp_json=!1,d.value.comp_lock=!1,"string"==typeof a.data.comp_json&&(d.value.comp_json=a.data.comp_json),"string"==typeof a.data.comp_lock&&(d.value.comp_lock=a.data.comp_lock)):(u.value=!0,n.$message.request(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:return e.prev=11,l.value=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=s(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.value=!0,e.next=4,H({siteName:t.compData.name});case 4:r=e.sent,i.tomcat=r.data.tomcat>0,r.data.tomcatversion?p.value=!1:p.value=!0,b.value=r.data.tomcatversion,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0);case 13:return e.prev=13,l.value=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=s(o().mark((function e(){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.$load("正在设置，请稍后..."),e.prev=1,e.next=4,G({siteName:t.compData.name});case 4:a=e.sent,n.$message.request(a),C(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1);case 12:return e.prev=12,r.close(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=s(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.value=!0,e.next=4,V({site_name:t.compData.name});case 4:r=e.sent,w.value.forEach((function(e){r.data[e.field]&&(e.value=r.data[e.field])})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0);case 13:return e.prev=13,l.value=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=s(o().mark((function e(){var r,a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.$load("正在设置，请稍后..."),e.prev=1,a={},w.value.forEach((function(e){a[e.field]=e.value})),s={site_name:t.compData.name,security_info:JSON.stringify(a)},e.next=7,A(s);case 7:c=e.sent,n.$message.request(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1);case 14:return e.prev=14,r.close(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=s(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_.value=!0,e.next=4,I({path:"/www/server/panel/vhost/".concat(a.value,"/").concat(t.compData.name,".conf")});case 4:r=e.sent,x.value=r.data.value,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:return e.prev=12,_.value=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=s(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$({confirm:{icon:"warning",title:"删除【"+r.allowed_origins+"】",message:"删除跨域配置后，该网站将无法进行跨域访问，是否继续操作？"},loading:"正在删除，请稍后...",request:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({path:"/www/server/panel/vhost/".concat(a.value,"/").concat(t.compData.name,".conf"),encoding:"utf-8"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),complete:X});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=s(o().mark((function e(){var s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.$load("正在设置，请稍后..."),e.prev=1,e.next=4,R(r(r({},j.value),{},{encoding:"utf-8",allow_methods:j.value.allowed_methods.join(", "),path:"/www/server/panel/vhost/".concat(a.value,"/").concat(t.compData.name,".conf")}));case 4:c=e.sent,n.$message.request(c),X(),k.value=!1,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1);case 13:return e.prev=13,s.close(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),te=function(e){if(k.value=!0,null!=e&&e.allowed_origins){j.value=e;var t=D(e.allowed_methods,"string","");j.value.allowed_methods=t.split(", ")}else j.value={allowed_origins:"",allowed_methods:[],allowed_headers:"",exposed_headers:"",max_age:""}},re=function(){var e=s(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.$load("正在升级，请稍后..."),e.prev=1,e.next=4,z({repo:d.value.mirror});case 4:r=e.sent,n.$message.request(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:return e.prev=11,t.close(),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=s(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.$load("正在删除，请稍后..."),e.prev=1,e.next=4,J({path:d.value.path+"/composer.lock"});case 4:r=e.sent,n.$message.request(r),F(d.value.path),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1);case 12:return e.prev=12,t.close(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.value=setInterval(s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U({filename:"/tmp/composer.log",num:30});case 3:t=e.sent,h.value=t.data.msg+"\n"+h.value,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),clearInterval(g.value);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),2e3);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={php_version:d.value.php,composer_args:d.value.command,composer_cmd:d.value.otherCommand,repo:d.value.mirror,path:d.value.path,user:d.value.user},$({confirm:{icon:"warning",title:"执行composer命令",message:"即将执行设定的composer命令，继续吗？"},loading:"正在执行，请稍后...",request:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),complete:function(){return s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.value=!0,oe();case 2:case"end":return e.stop()}}),e)})))()}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=s(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q({sName:"tomcat"});case 3:return t=e.sent,r=t.data,e.next=7,T({name:"tomcat",softData:r});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ce=P([{label:"来源",prop:"allowed_origins"},{label:"请求方法",prop:"allowed_methods"},{label:"请求头",prop:"allowed_headers"},{label:"响应头",prop:"exposed_headers"},{label:"缓存时间",prop:"max_age"},N([{onClick:te,title:"编辑"},{onClick:Z,title:"删除"}])]);return O((function(){F()})),E((function(){clearInterval(g.value)})),{__sfc:!0,props:t,vm:n,webServerType:a,tabActive:c,formData:i,viewLoading:l,maskLayer:u,maskLayer_tomcat:p,composerForm:d,cmdMsg:h,cmdPopup:y,cmdTimer:g,tomcatVersion:b,nginxForm:w,tableData:x,tableLoading:_,corsPopup:k,corsForm:j,handleClickTab:function(e){"tomcat"===e.name?C():"nginx"===e.name?K():"cors"===e.name?X():F()},getComposer:F,getMessage:C,setTomcat:B,getHeader:K,setHeader:W,getCors:X,deleteCors:Z,addCors:ee,openAddCors:te,handleUpdateComposer:re,onPathChange:function(){v({type:"dir",path:d.value.path,change:function(e){d.value.path=e,F(d.value.path)}})},deleteComposer:ne,getLine:oe,execComposerEvent:ae,cancelCmdPopup:function(){clearInterval(g.value),y.value=!1,h.value=""},openPlugin:se,tableColumns:ce,isRelease:f}}});e("default",d(t,(function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("div",[t(F,{attrs:{type:"navtwo"},on:{"tab-click":r.handleClickTab},model:{value:r.tabActive,callback:function(e){r.tabActive=e},expression:"tabActive"}},[t(a,{directives:[{name:"loading",rawName:"v-loading",value:r.viewLoading,expression:"viewLoading"}],attrs:{name:"composer",label:"Composer"}},[t(j,{attrs:{visible:r.maskLayer,width:"28rem"}},[e._v(" 没有找到可用的composer版本")]),t("div",{staticClass:"p-20x"},[t(c,{attrs:{model:r.composerForm}},[t(i,{attrs:{label:"Composer版本"}},[t("div",{staticClass:"flex items-center"},[t(n,{attrs:{disabled:""},model:{value:r.composerForm.version,callback:function(t){e.$set(r.composerForm,"version",t)},expression:"composerForm.version"}}),t(h,{staticClass:"!ml-8x",attrs:{type:"default"},on:{click:r.handleUpdateComposer}},[e._v(e._s(r.composerForm.version?"升级Composer":"安装Composer"))])],1)]),t(i,{attrs:{label:"PHP版本"}},[t(l,{model:{value:r.composerForm.php,callback:function(t){e.$set(r.composerForm,"php",t)},expression:"composerForm.php"}},e._l(r.composerForm.phpVersion,(function(e,r){return t(u,{key:r,attrs:{label:e.name,value:e.version}})})),1)],1),t(i,{attrs:{label:"执行参数"}},[t(l,{model:{value:r.composerForm.command,callback:function(t){e.$set(r.composerForm,"command",t)},expression:"composerForm.command"}},e._l(r.composerForm.commandOptions,(function(e,r){return t(u,{key:r,attrs:{label:e.label,value:e.value}})})),1)],1),t(i,{attrs:{label:"补充命令"}},[t(n,{attrs:{placeholder:"请输入补充命令"},model:{value:r.composerForm.otherCommand,callback:function(t){e.$set(r.composerForm,"otherCommand",t)},expression:"composerForm.otherCommand"}})],1),t(i,{attrs:{label:"镜像源"}},[t(l,{staticClass:"w-[24rem]",model:{value:r.composerForm.mirror,callback:function(t){e.$set(r.composerForm,"mirror",t)},expression:"composerForm.mirror"}},[t(u,{attrs:{label:"阿里源(mirrors.aliyun.com)",value:"https://mirrors.aliyun.com/composer/"}}),t(u,{attrs:{label:"官方源(packagist.org)",value:"repos.packagist"}}),t(u,{attrs:{label:"腾讯源(mirrors.cloud.tencent.com)",value:"https://mirrors.cloud.tencent.com/composer/"}})],1)],1),t(i,{attrs:{label:"执行用户",prop:"command"}},[t(l,{model:{value:r.composerForm.user,callback:function(t){e.$set(r.composerForm,"user",t)},expression:"composerForm.user"}},[t(u,{attrs:{label:"www(推荐)",value:"www"}}),t(u,{attrs:{label:"root(不推荐)",value:"root"}})],1)],1),t(i,{attrs:{label:"执行目录",prop:"composerVersion"}},[t(n,{attrs:{width:"32rem","icon-type":"folder"},on:{folder:r.onPathChange},model:{value:r.composerForm.path,callback:function(t){e.$set(r.composerForm,"path",t)},expression:"composerForm.path"}})],1),t(i,{attrs:{label:" ",prop:"composerVersion"}},[t("div",[r.composerForm.comp_lock?t("span",{staticClass:"text-danger"},[e._v(e._s(r.composerForm.comp_lock)+" "),t(y,{on:{click:r.deleteComposer}},[e._v("[点击删除]")])],1):e._e(),r.composerForm.comp_json?t("span",{staticClass:"text-danger text-[1.2rem]"},[e._v(e._s(r.composerForm.comp_json))]):e._e()])]),t(i,{attrs:{label:" "}},[t(h,{attrs:{disabled:!!("boolean"!=typeof r.composerForm.comp_json&&r.composerForm.comp_json||"boolean"!=typeof r.composerForm.comp_lock&&r.composerForm.comp_lock)},on:{click:r.execComposerEvent}},[e._v("执行")])],1)],1),t("ul",{staticClass:"mt-8x leading-8 text-[1.2rem] list-disc ml-20x"},[t("li",[e._v(" Composer是PHP主流依赖包管理器，若您的项目使用Composer管理依赖包，可在此处对依赖进行升级或安装 ")]),t("li",[e._v("执行目录：默认为当前网站根目录")]),t("li",[e._v(" 执行用户：默认为www用户，除非您的网站以root权限运行，否则不建议使用root用户执行composer ")]),t("li",[e._v(" 镜像源：提供【阿里源】和【官方源】，建议国内服务器使用【阿里源】，海外服务器使用【官方源】 ")]),t("li",[e._v("执行参数：按需选择执行参数,可配合补充命令使用")]),t("li",[e._v(" 补充命令：若此处为空，则按composer.json中的配置执行，此处支持填写完整composer命令 ")]),t("li",[e._v(" PHP版本：用于执行composer的PHP版本，无特殊要求，默认即可，如安装出错，可尝试选择其它PHP版本 ")]),t("li",[e._v(" Composer版本：当前安装的Composer版本，可点击右侧的【升级Composer】将Composer升级到最新稳定版 ")])])],1),t(g,{attrs:{title:"请执行完毕确认结果无误后关闭此窗口",visible:r.cmdPopup,area:[50,42]},on:{cancel:r.cancelCmdPopup,"update:visible":function(e){r.cmdPopup=e}}},[t("div",{staticClass:"p-12x bg-[#333] text-white h-full overflow-auto"},[t("pre",{domProps:{innerHTML:e._s(r.cmdMsg)}})])])],1),t(a,{directives:[{name:"loading",rawName:"v-loading",value:r.viewLoading,expression:"viewLoading"}],attrs:{name:"tomcat",label:"Tomcat"}},[t(j,{attrs:{visible:r.maskLayer_tomcat,width:"28rem"}},[e._v(" 请先安装tomcat，"),t(y,{staticClass:"!text-[1.4rem]",on:{click:r.openPlugin}},[e._v("立即安装")])],1),t("div",{staticClass:"p-20x relative"},[t(b,{on:{change:r.setTomcat},model:{value:r.formData.tomcat,callback:function(t){e.$set(r.formData,"tomcat",t)},expression:"formData.tomcat"}},[e._v("启用Tomcat")]),t("ul",{staticClass:"mt-8x leading-8 text-[1.2rem] list-disc ml-20x"},[t("li",[e._v(" 当前版本为Tomcat"+e._s(r.tomcatVersion)+" ,若您需要其它版本,请到软件商店- 所有软件 中切换； ")]),t("li",[e._v("部署顺序: 安装Tomcat >> 创建站点 >> 上传并配置项目 >> 启用Tomcat")]),t("li",[e._v("若您的tomcat应用中有php脚本,访问时请添加.php扩展名")]),t("li",[e._v("开启成功后,大概需要1-5分钟时间生效!")])])],1)],1),r.isRelease?e._e():t(a,{directives:[{name:"loading",rawName:"v-loading",value:r.viewLoading,expression:"viewLoading"}],attrs:{name:"nginx",label:"Nginx安全请求头"}},[t("div",{staticClass:"flex flex-col p-20x"},e._l(r.nginxForm,(function(n,o){return t("div",{staticClass:"flex items-center mb-12x"},[t(k,{on:{change:r.setHeader},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"item.value"}}),t("span",{staticClass:"ml-8x"},[e._v(e._s(n.help))])],1)})),0)]),r.isRelease?e._e():t(a,{attrs:{name:"cors",label:"跨域访问CORS配置"}},[t(_,{staticClass:"py-20x",scopedSlots:e._u([{key:"header-left",fn:function(){var n;return[null!==(n=r.tableData)&&void 0!==n&&n.length?e._e():t(h,{on:{click:r.openAddCors}},[e._v("添加跨域")])]},proxy:!0},{key:"header-right",fn:function(){return[t(x,{attrs:{refresh:r.getCors}})]},proxy:!0},{key:"content",fn:function(){return[t(w,{directives:[{name:"loading",rawName:"v-loading",value:r.tableLoading,expression:"tableLoading"}],attrs:{column:r.tableColumns,data:r.tableData}})]},proxy:!0},{key:"popup",fn:function(){return[t(g,{attrs:{title:"跨域配置",visible:r.corsPopup,area:50,showFooter:""},on:{"update:visible":function(e){r.corsPopup=e},confirm:r.addCors}},[t("div",{staticClass:"p-20x"},[t(c,{attrs:{"label-width":"130px","label-position":"right",model:r.corsForm}},[t(i,{attrs:{label:"来源（Origins）"}},[t(n,{attrs:{type:"textarea",resize:"none",rows:4},model:{value:r.corsForm.allowed_origins,callback:function(t){e.$set(r.corsForm,"allowed_origins",t)},expression:"corsForm.allowed_origins"}})],1),t(i,{attrs:{label:"请求方法（Methods）"}},[t(p,{model:{value:r.corsForm.allowed_methods,callback:function(t){e.$set(r.corsForm,"allowed_methods",t)},expression:"corsForm.allowed_methods"}},[t(b,{attrs:{label:"GET"}}),t(b,{attrs:{label:"POST"}}),t(b,{attrs:{label:"OPTIONS"}})],1)],1),t(i,{attrs:{label:"请求头（Headers）"}},[t(n,{attrs:{type:"textarea",resize:"none",rows:4},model:{value:r.corsForm.allowed_headers,callback:function(t){e.$set(r.corsForm,"allowed_headers",t)},expression:"corsForm.allowed_headers"}})],1),t(i,{attrs:{label:"响应头（Headers）"}},[t(n,{attrs:{type:"textarea",resize:"none",rows:4},model:{value:r.corsForm.exposed_headers,callback:function(t){e.$set(r.corsForm,"exposed_headers",t)},expression:"corsForm.exposed_headers"}})],1),t(i,{attrs:{label:"缓存时间（Seconds）"}},[t(n,{model:{value:r.corsForm.max_age,callback:function(t){e.$set(r.corsForm,"max_age",t)},expression:"corsForm.max_age"}})],1)],1)],1)])]},proxy:!0}],null,!1,368967780)})],1)],1)],1)}),[],!1,null,"2ac7efb2",null,null).exports)}}}))}();

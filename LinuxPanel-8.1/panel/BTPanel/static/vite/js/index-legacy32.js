!function(){function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?t(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function n(t,e,n){var r;return r=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==o(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return e};var t,e={},n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(t){p=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),s=new N(r||[]);return i(o,"_invoke",{value:k(t,n,s)}),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var v="suspendedStart",m="suspendedYield",y="executing",_="completed",g={};function h(){}function x(){}function b(){}var w={};p(w,u,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(P([])));O&&O!==n&&a.call(O,u)&&(w=O);var C=b.prototype=h.prototype=Object.create(w);function T(t){["next","throw","return"].forEach((function(e){p(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function n(r,i,s,u){var c=f(t[r],t,i);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==o(p)&&a.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(p).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var r;i(this,"_invoke",{value:function(t,a){function i(){return new e((function(e,r){n(t,a,e,r)}))}return r=r?r.then(i,i):i()}})}function k(e,n,r){var a=v;return function(i,o){if(a===y)throw new Error("Generator is already running");if(a===_){if("throw"===i)throw o;return{value:t,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var u=D(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===v)throw a=_,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=y;var c=f(e,n,r);if("normal"===c.type){if(a=r.done?_:m,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=_,r.method="throw",r.arg=c.arg)}}}function D(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,D(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(a.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(o(e)+" is not iterable")}return x.prototype=b,i(C,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:x,configurable:!0}),x.displayName=p(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,p(t,l,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},T(j.prototype),p(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new j(d(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},T(C),p(C,l,"Generator"),p(C,u,(function(){return this})),p(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function a(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,a)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,u,"next",t)}function u(t){a(o,r,i,s,u,"throw",t)}s(void 0)}))}}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}System.register(["./main-legacy.js?v=1714377894636","./__commonjsHelpers__-legacy.js?v=1714377894636","./element-lib-legacy.js?v=1714377894636","./index-legacy51.js?v=1714377894636","./index-legacy43.js?v=1714377894636","./index-legacy41.js?v=1714377894636","./row-legacy.js?v=1714377894636","./index-legacy77.js?v=1714377894636","./preload-helper-legacy.js?v=1714377894636","./vue-lib-legacy.js?v=1714377894636"],(function(t,n){"use strict";var a,s,u,c,l,p,d,f,v,m,y,_,g,h,x,b,w,S,O,C,T,j;return{setters:[function(t){a=t.I,s=t.G,u=t.y,c=t.a2,l=t.e,p=t.n,d=t.q},function(t){f=t.g},function(t){v=t.c,m=t.v},function(t){y=t._},function(t){_=t._},function(t){g=t._},null,function(t){h=t._},function(t){x=t._},function(t){b=t.z,w=t.b,S=t.v,O=t.A,C=t.e,T=t.I,j=t.j}],execute:function(){var k={exports:{}};!function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===o(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=110)}({0:function(t,e,n){function r(t,e,n,r,a,i,o,s){var u,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=u):a&&(u=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,u):[u]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},110:function(t,e,n){n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-step",class:[!t.isSimple&&"is-"+t.$parent.direction,t.isSimple&&"is-simple",t.isLast&&!t.space&&!t.isCenter&&"is-flex",t.isCenter&&!t.isVertical&&!t.isSimple&&"is-center"],style:t.style},[n("div",{staticClass:"el-step__head",class:"is-"+t.currentStatus},[n("div",{staticClass:"el-step__line",style:t.isLast?"":{marginRight:t.$parent.stepOffset+"px"}},[n("i",{staticClass:"el-step__line-inner",style:t.lineStyle})]),n("div",{staticClass:"el-step__icon",class:"is-"+(t.icon?"icon":"text")},["success"!==t.currentStatus&&"error"!==t.currentStatus?t._t("icon",[t.icon?n("i",{staticClass:"el-step__icon-inner",class:[t.icon]}):t._e(),t.icon||t.isSimple?t._e():n("div",{staticClass:"el-step__icon-inner"},[t._v(t._s(t.index+1))])]):n("i",{staticClass:"el-step__icon-inner is-status",class:["el-icon-"+("success"===t.currentStatus?"check":"close")]})],2)]),n("div",{staticClass:"el-step__main"},[n("div",{ref:"title",staticClass:"el-step__title",class:["is-"+t.currentStatus]},[t._t("title",[t._v(t._s(t.title))])],2),t.isSimple?n("div",{staticClass:"el-step__arrow"}):n("div",{staticClass:"el-step__description",class:["is-"+t.currentStatus]},[t._t("description",[t._v(t._s(t.description))])],2)])])};r._withStripped=!0;var a={name:"ElStep",props:{title:String,icon:String,description:String,status:String},data:function(){return{index:-1,lineStyle:{},internalStatus:""}},beforeCreate:function(){this.$parent.steps.push(this)},beforeDestroy:function(){var t=this.$parent.steps,e=t.indexOf(this);e>=0&&t.splice(e,1)},computed:{currentStatus:function(){return this.status||this.internalStatus},prevStatus:function(){var t=this.$parent.steps[this.index-1];return t?t.currentStatus:"wait"},isCenter:function(){return this.$parent.alignCenter},isVertical:function(){return"vertical"===this.$parent.direction},isSimple:function(){return this.$parent.simple},isLast:function(){var t=this.$parent;return t.steps[t.steps.length-1]===this},stepsCount:function(){return this.$parent.steps.length},space:function(){var t=this.isSimple,e=this.$parent.space;return t?"":e},style:function(){var t={},e=this.$parent.steps.length,n="number"==typeof this.space?this.space+"px":this.space?this.space:100/(e-(this.isCenter?0:1))+"%";return t.flexBasis=n,this.isVertical||(this.isLast?t.maxWidth=100/this.stepsCount+"%":t.marginRight=-this.$parent.stepOffset+"px"),t}},methods:{updateStatus:function(t){var e=this.$parent.$children[this.index-1];t>this.index?this.internalStatus=this.$parent.finishStatus:t===this.index&&"error"!==this.prevStatus?this.internalStatus=this.$parent.processStatus:this.internalStatus="wait",e&&e.calcProgress(this.internalStatus)},calcProgress:function(t){var e=100,n={};n.transitionDelay=150*this.index+"ms",t===this.$parent.processStatus?(this.currentStatus,e=0):"wait"===t&&(e=0,n.transitionDelay=-150*this.index+"ms"),n.borderWidth=e&&!this.isSimple?"1px":0,"vertical"===this.$parent.direction?n.height=e+"%":n.width=e+"%",this.lineStyle=n}},mounted:function(){var t=this,e=this.$watch("index",(function(n){t.$watch("$parent.active",t.updateStatus,{immediate:!0}),t.$watch("$parent.processStatus",(function(){var e=t.$parent.active;t.updateStatus(e)}),{immediate:!0}),e()}))}},i=a,o=n(0),s=Object(o.a)(i,r,[],!1,null,null,null);s.options.__file="packages/steps/src/step.vue";var u=s.exports;u.install=function(t){t.component(u.name,u)},e.default=u}})}(k);var D=f(k.exports),E={exports:{}};!function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===o(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=109)}({0:function(t,e,n){function r(t,e,n,r,a,i,o,s){var u,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=u):a&&(u=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,u):[u]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},109:function(t,e,n){n.r(e);var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-steps",class:[!t.simple&&"el-steps--"+t.direction,t.simple&&"el-steps--simple"]},[t._t("default")],2)};r._withStripped=!0;var a=n(11),i={name:"ElSteps",mixins:[n.n(a).a],props:{space:[Number,String],active:Number,direction:{type:String,default:"horizontal"},alignCenter:Boolean,simple:Boolean,finishStatus:{type:String,default:"finish"},processStatus:{type:String,default:"process"}},data:function(){return{steps:[],stepOffset:0}},methods:{getMigratingConfig:function(){return{props:{center:"center is removed."}}}},watch:{active:function(t,e){this.$emit("change",t,e)},steps:function(t){t.forEach((function(t,e){t.index=e}))}}},o=i,s=n(0),u=Object(s.a)(o,r,[],!1,null,null,null);u.options.__file="packages/steps/src/steps.vue";var c=u.exports;c.install=function(t){t.component(c.name,c)},e.default=c},11:function(t,e){t.exports=v()}})}(E);var L=f(E.exports),N="/plugin?action=a&name=total&s=",P=function(t){return a.post("".concat(N,"get_visitor_trend_data"),{data:{pdata:JSON.stringify({mod_name:"SiteLogs",data:t})},customType:"model"})},q=function(t){return a.post("".concat(N,"get_status_code_statistics"),{data:{pdata:JSON.stringify({mod_name:"SiteLogs",data:t})},customType:"model"})},$=function(t){return a.post("".concat(N,"get_spider_sum_trend"),{data:{pdata:JSON.stringify({mod_name:"Spider",data:t})},customType:"model"})},I=function(t){return a.post("".concat(N,"get_spider_trend"),{data:{pdata:JSON.stringify({mod_name:"Spider",data:t})},customType:"model"})},R=function(t){return a.post("".concat(N,"get_spider_default_fetch_uri_data"),{data:{pdata:JSON.stringify({mod_name:"Spider",data:t})},customType:"model"})},A=function(t){return a.post("".concat(N,"get_spider_details"),{data:{pdata:JSON.stringify({mod_name:"Spider",data:t})},customType:"model"})},M=b("TOTAL-OVERVIEW",(function(){var t=w(""),n=S({loading:!1,today:{},yesterday:{}}),o=S({query_time:"today",realtime_request:0,realtime_traffic:0}),s=S({loading:!1,query_time:"today",target:"pv",list:[]}),u=S({loading:!1,query_time:"today",status_code:"all",spider_type:"all",code_list:[]}),c=S({loading:!1,query_time:"today",spider_type:"all",spider_list:[]}),l=S({loading:!1,query_time:"today",area_type:"",spider_type:"all",list:[],topList:[]}),p=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){t.loading=!0}))},d=function(){var e=i(r().mark((function e(){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loading=!0,e.next=3,r={site_name:t.value},a.post("".concat(N,"get_total_overview_data"),{data:{pdata:JSON.stringify({mod_name:"SiteLogs",data:r})},customType:"model"});case 3:i=e.sent,n.today=i.data.today,n.yesterday=i.data.yesterday,n.loading=!1;case 7:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=i(r().mark((function e(){var n,i,s,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r={site_name:t.value,query_time:o.query_time},a.post("".concat(N,"get_total_overview_realtime_data"),{data:{pdata:JSON.stringify({mod_name:"SiteLogs",data:r})},customType:"model"});case 2:n=e.sent,i=n.data,s=i.realtime_request,u=i.realtime_traffic,o.realtime_request=s,o.realtime_traffic=u;case 8:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=i(r().mark((function e(){var n,a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.loading=!0,e.next=3,P({site_name:t.value,query_time:s.query_time,target:s.target});case 3:n=e.sent,a=n.data,i=a.query_date,o=a.data,u=g(i.split("-"),o,s.query_time,[s.target]),s.list=u,s.loading=!1;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=i(r().mark((function e(){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.loading=!0,e.next=3,q({site_name:t.value,query_time:u.query_time,status_code:u.status_code});case 3:n=e.sent,a=n.data.data,i=a.reduce((function(t,e){var n=e.status_code,r=t.find((function(t){return t.status_code===n}));return r||(r={status_code:n,request:0,fake_spider:0},t.push(r)),r.request+=e.request,r.fake_spider+=e.fake_spider,t}),[]),u.code_list=i,u.loading=!1;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=i(r().mark((function e(){var n,a,i,o,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.loading=!0,e.next=3,$({site_name:t.value,query_time:c.query_time,spider_type:c.spider_type});case 3:n=e.sent,a=n.data,i=a.query_date,o=a.data,s=g(i.split("-"),o,c.query_time,["sum"]),c.spider_list=s,c.loading=!1;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=i(r().mark((function e(){var n,i,o,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.loading=!0,e.next=3,r={site_name:t.value,query_time:l.query_time,area_type:l.area_type,spider_type:l.spider_type},a.post("".concat(N,"get_ip_location"),{data:{pdata:JSON.stringify({mod_name:"Ip",data:r})},customType:"model"});case 3:n=e.sent,i=n.data,o=i.locations,s=i.pv_sum,l.list=o,l.topList=s,l.loading=!1;case 10:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=h(t[0]),o=h(t[1],":59:59"),s=Math.ceil((o-i)/864e5),u=[],c={};c[a[0]]=0;for(var l=0;l<a.length;l++)c[a[l]]=0;for(var p=0;p<s;p++){var d=new Date(i+1*p*24*60*60*1e3),f=d.getMonth()+1,v=(null==d?void 0:d.getFullYear().toString())+(f>=10?f:"0".concat(f))+(d.getDate()>=10?d.getDate():"0".concat(d.getDate())).toString();if("today"===r||"yesterday"===r)for(var m=0;m<24;m++){var y=m>=10?m:"0".concat(m),_={time:Number("".concat(v+y))};u.push(e(e({},_),c))}else{var g={time:Number("".concat(v))};u.push(e(e({},g),c))}}for(var x=0;x<n.length;x++)for(var b=0;b<u.length;b++)n[x].time===u[b].time&&(u[b]=n[x]);return u},h=function(t,e){e=e||":00:00";for(var n=t,r=[],a=0;a<3;a++)r.unshift(n.substr(n.length-2,n.length)),n=n.substr(0,n.length-2);r.unshift(n);for(var i="",o=0;o<3;o++)i+="".concat(r[o],2===o?" ":"-");return i+=r[r.length-1]+e,new Date(i).getTime()},x=w(0),b=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p([n,s,u,c,l]),t.next=3,Promise.all([d(),f(),v(),m(),y(),_()]);case 3:x.value=Date.now();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{initData:b,setAllLoading:p,filterDataMerge:function(t){var e={};return t.forEach((function(t){Object.keys(t).length&&Object.keys(t).forEach((function(n){Object.keys(t[n]).forEach((function(r){e[r]?e[r]+=t[n][r]:e[r]=t[n][r]}))}))})),Object.keys(e).map((function(t){return{type:t,frequency:e[t]}}))},resetApiFormat:g,getRealTimeData:f,getVisitorList:v,getStatusCodeList:m,getOverViewSpider:y,getRegionMapList:_,domian:t,realTime:null,overviewData:n,realTimeData:o,visitorTrend:s,codeTrend:u,spiderTrend:c,regionMap:l,timestamp:x}})),F=b("TOTAL-SPIDER",(function(){var t=M(),e=t.resetApiFormat,n=t.filterDataMerge,o=O(t).domian,s=S({loading:!1,today:{sum:0,overview_data:{}},yesterday:{sum:0,overview_data:{}},spiderTop6Todey:[]}),u=S({loading:!1,trend_compare_data:[],trend_data_list:[]}),c=S({loading:!1,uriType:"baidu",urlCycleType:"today",urlData:[]}),l=S({loading:!1,dirType:"baidu",dirCycleType:"today",directoryData:[],is_hide:!1}),p=S({loading:!1,codeType:"baidu",codeCycleType:"today",codeData:{},is_hide:!1}),d=S({query_time:"today",loading:!1,page:1,page_size:10,total:0,list:[]}),f=S({loading:!1,query_time:"today",spider_type:"all",countData:[]}),v=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){t.loading=!0}))},m=function(){var t=i(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.loading=!0,t.next=4,r={site_name:o.value},a.post("".concat(N,"get_spider_overview"),{data:{pdata:JSON.stringify({mod_name:"Spider",data:r})},customType:"model"});case 4:e=t.sent,s.today=e.data.today,s.yesterday=e.data.yesterday,s.loading=!1,n=function(t){var e=Object.entries(t);return e.sort((function(t,e){return e[1]-t[1]})),e.slice(0,6)},s.spiderTop6Todey=n(e.data.today.overview_data),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0);case 15:case"end":return t.stop()}var r}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=i(r().mark((function t(){var n,a,i,s,c;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.loading=!0,t.next=4,I({site_name:o.value,query_time:"today"});case 4:n=t.sent,a=n.data,i=a.data.trend_data_list,s=a.query_date,u.loading=!1,c=e(s.split("-"),i,"today",["bytes","soso","yahoo","sogou","google","baidu","qh360","youdao","yandex","dnspod","yisou","mpcrawler","duckduckgo","fake_spider","other"]),u.trend_data_list=c,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=i(r().mark((function t(){var e,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.loading=!0,e=[],t.next=4,R({site_name:o.value,query_time:c.urlCycleType,spider_type:c.uriType,dir_level:"0",uri_type:"url"});case 4:a=t.sent,c.loading=!1,e=n(a.data),c.urlData=e;case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=i(r().mark((function t(){var e,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.loading=!0,e=[],t.next=4,R({site_name:o.value,query_time:l.dirCycleType,spider_type:l.dirType,dir_level:"0",uri_type:"dir"});case 4:a=t.sent,l.loading=!1,e=n(a.data),l.is_hide=!(e.length>0),l.directoryData=e;case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=i(r().mark((function t(){var e,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.loading=!0,e=[],t.next=4,r={site_name:o.value,query_time:p.codeCycleType,spider_type:p.codeType,status_code:"all",compare:"true",compare_time:"lw"},a.post("".concat(N,"get_spider_status_code_data"),{data:{pdata:JSON.stringify({mod_name:"Spider",data:r})},customType:"model"});case 4:i=t.sent,p.loading=!1,e=n(i.data),p.is_hide=!(e.length>0),p.codeData=e;case 9:case"end":return t.stop()}var r}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.loading=!0,t.next=3,n={site_name:o.value,spider_type:"all",status_code:"all",query_time:d.query_time,page:d.page,page_size:d.page_size},a.post("".concat(N,"get_spider_logs_info"),{data:{pdata:JSON.stringify({mod_name:"Spider",data:n})},customType:"model"});case 3:e=t.sent,d.loading=!1,d.list=e.data;case 6:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=i(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n={site_name:o.value,spider_type:"all",status_code:"all",query_time:d.query_time},a.post("".concat(N,"get_spider_logs_row"),{data:{pdata:JSON.stringify({mod_name:"Spider",data:n})},customType:"model"});case 2:e=t.sent,d.total=e.data;case 4:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=i(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.loading=!0,t.next=3,A({site_name:o.value,spider_type:"all",query_time:f.query_time});case 3:e=t.sent,n=e.data.data,f.countData=n,f.loading=!1;case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=w(0),j=function(){var t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v([s,u,c,l,p]),t.next=3,Promise.all([m(),y(),_(),g(),h()]);case 3:T.value=Date.now();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{initData:j,setAllLoading:v,getSpiderTop6:m,getTrendChartData:y,getUrlData:_,getDirData:g,getCodeData:h,getDetailData:x,getDetailTotal:b,getSpiderDetailsList:C,spiderTop6Data:s,trendChartData:u,urlRef:c,dirRef:l,codeRef:p,detailData:d,spiderCount:f,timestamp:T}})),V=t("g",(function(){var t=M();return e({refs:O(t)},t)})),J=t("a",(function(){var t=F();return e({refs:O(t)},t)})),G=C({__name:"index",setup:function(t){var e=j().proxy,o=V(),p=J(),d=V().refs,f=d.domian,v=d.realTime,m=w("overview"),y=S({total_status:!1,buy_status:!1,nginx_status:!1}),_=S({imgSrc:"/soft_ico/ico-total.png",title:"监控大屏-功能介绍",ps:"实时分析网站运行、用户访问状况，精确统计网站流量、IP、UV、PV、请求、蜘蛛等数据，网站SEO优化利器",source:200,desc:["仅支持Nginx","访客趋势","访客地图","蜘蛛抓取分析"],tabImgs:[{title:"概览",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/total_module/1.png"},{title:"蜘蛛分析",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/total_module/2.png"}],isInstall:!1}),g=w([]),h=w([{title:e.$t("tabs.overview"),type:"overview",component:function(){return x((function(){return n.import("./index-legacy102.js?v=1714377894636")}),void 0,n.meta.url)}},{title:e.$t("tabs.spider"),type:"spider",component:function(){return x((function(){return n.import("./index-legacy103.js?v=1714377894636")}),void 0,n.meta.url)}}]),b={overview:o.initData,spider:p.initData},O=function(){var t=i(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s({version:-1,product_type:15});case 2:e=t.sent,n=e.data,u({name:"网站监控大屏",type:15,id:n.value[0].id,description:n.value[0].question});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){v.value=setInterval((function(){o.getRealTimeData()}),3e3)},k=function(){var t=i(r().mark((function t(e){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c({sName:e});case 2:return n=t.sent,t.next=5,l({name:n.data.name,type:"i",pluginInfo:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=i(r().mark((function t(){var e,n,i,o,s,u,c,l,p;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.post("/site?action=check_total_install_info",{customType:"model"});case 3:if(e=t.sent,n=e.data,i=n.buy_status,o=n.nginx_status,s=n.total_status,y.buy_status=i,y.nginx_status=o,y.total_status=s,s&&i&&o){t.next=11;break}return t.abrupt("return",!1);case 11:return t.next=13,a.post("".concat("/plugin?action=a&name=total&s=","get_site_lists"),{customType:"model"});case 13:if(u=t.sent,c=u.data,l=(c||{}).data){t.next=18;break}return t.abrupt("return");case 18:if(g.value=l.map((function(t){return{title:t,key:t}})),0!==(null==l?void 0:l.length)){t.next=21;break}return t.abrupt("return");case 21:if(f.value?f.value=f.value:(p=sessionStorage.getItem("TOTAL-DOMIAN"),f.value=p&&g.value.some((function(t){return t.title===p}))?p:g.value[0].title),sessionStorage.setItem("TOTAL-DOMIAN",f.value),b[m.value](),"overview"!=m.value){t.next=27;break}return t.next=27,C();case 27:t.next=32;break;case 29:t.prev=29,t.t0=t.catch(0);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})));return function(){return t.apply(this,arguments)}}();return D(),T((function(){clearInterval(v.value)})),{__sfc:!0,vm:e,OVStore:o,SPStore:p,domian:f,realTime:v,active:m,pluginInfo:y,productData:_,tabAvtiveTitle:{overview:"网站概览数据",spider:"蜘蛛分析数据"},siteList:g,tabComponent:h,changeSite:function(t){f.value=t,sessionStorage.setItem("TOTAL-DOMIAN",f.value),b[m.value]()},map:b,onCutTabs:function(t){m.value=t.name,b[t.name](),"overview"!==t.name?clearInterval(v.value):C()},openNps:O,openRealTime:C,installPlugin:k,init:D}}}),z=p(G,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"h-full relative"},[n.pluginInfo.total_status&&n.pluginInfo.buy_status&&n.pluginInfo.nginx_status?e("div",{staticClass:"flex flex-col"},[e("section",{staticClass:"total_view"},[e(h,{attrs:{type:"nav",config:n.tabComponent},on:{"tab-click":n.onCutTabs},model:{value:n.active,callback:function(t){n.active=t},expression:"active"}},[e(m,{staticClass:"mb-1rem bg-[#fff] p-[1.6rem] flex items-center"},[e("h3",{staticClass:"inline-block text-[1.4rem] mr-4"},[t._v("网站")]),e(g,{staticClass:"site-total--option",attrs:{filterable:"",options:n.siteList,change:n.changeSite},model:{value:n.domian,callback:function(t){n.domian=t},expression:"domian"}}),e(_,{staticClass:"ml-[1rem]",attrs:{icon:"demand",iconClass:"text-1.6rem",content:"需求反馈"},on:{click:n.openNps}})],1)],1)],1)]):n.pluginInfo.buy_status?e("div",[e("div",{staticClass:"main-content pb55",staticStyle:{"min-height":"525px"}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"site_table_view bgw mtb15 pd15"},[e("div",{staticStyle:{padding:"40px",background:"#f8f8f8","vertical-align":"middle"}},[e("div",{},[e("h3",{staticStyle:{"font-size":"37px"}},[e("i",{staticClass:"el-icon-warning-outline"}),!n.pluginInfo.nginx_status&&n.pluginInfo.total_status?e("span",[t._v(" 很抱歉，当前Nginx 版本【不兼容】。")]):!n.pluginInfo.total_status&&n.pluginInfo.nginx_status?e("span",[t._v(" 很抱歉，当前监控报表 版本【不兼容】或【未安装】。")]):e("span",[t._v(" 很抱歉，您似乎缺少一些必要的运行环境。请按照下方的指示手动安装所需的环境。")])]),e("div",{staticClass:"tip-border-color border p-[4rem] flex flex-col justify-center mt-[2rem]"},[e("p",{staticClass:"font-bold text-[2rem]"},[t._v("解决方案如下:")]),e("div",{staticClass:"h-[20rem] my-[3rem] mb-[0]"},[e(L,{attrs:{direction:"vertical"}},[e(D,{attrs:{title:"安装【Nginx1.18】以上的版本",status:n.pluginInfo.nginx_status?"success":""},scopedSlots:t._u([n.pluginInfo.nginx_status?null:{key:"icon",fn:function(){return[e("i",{staticClass:"el-icon-warning-outline text-[2.7rem] text-[#F0AD4E]"})]},proxy:!0},{key:"title",fn:function(){return[n.pluginInfo.nginx_status?e("div",[e("span",[t._v("Nginx已安装")])]):e("div",[e("span",{staticClass:"text-[#F0AD4E]"},[t._v("更新Nginx版本，切换至【Nginx1.18】以上的版本")]),e(d,{staticClass:"ml-[2rem]",staticStyle:{"margin-left":"2rem"},on:{click:function(t){return n.installPlugin("nginx")}}},[t._v("立即更新Nginx")])],1)]},proxy:!0},{key:"description",fn:function(){return[n.pluginInfo.nginx_status?t._e():e("div",{staticClass:"mt-[2.2rem] text-[1.5rem] ml-[0.2rem]"},[e("p",{staticStyle:{color:"#666666",margin:"10px 0px"}},[t._v(" 1. 请使用编译安装的【Nginx1.22、1.20、1.18】 版本，如需更改 "),e("a",{staticClass:"btlink",attrs:{href:"https://www.bt.cn/bbs/thread-67498-1-1.html",target:"_blank"}},[t._v(" >>查看教程")])]),e("p",{staticStyle:{color:"#666666",margin:"10px 0px"}},[t._v(" 2. 更换Nginx时,网站会暂时无法打开,切换完成后即可打开。 ")])])]},proxy:!0}],null,!0)}),e(D,{attrs:{title:"步骤 2",status:n.pluginInfo.total_status?"success":""},scopedSlots:t._u([n.pluginInfo.total_status?null:{key:"icon",fn:function(){return[e("i",{staticClass:"el-icon-warning-outline text-[2.7rem] text-[#F0AD4E]"})]},proxy:!0},{key:"title",fn:function(){return[n.pluginInfo.total_status?e("div",[e("span",{},[t._v("监控报表已安装")])]):e("div",[e("span",{staticClass:"text-[#F0AD4E]"},[t._v("卸载重新安装【监控报表】插件")]),e(d,{staticClass:"ml-[2rem]",staticStyle:{"margin-left":"2rem"},on:{click:function(t){return n.installPlugin("total")}}},[t._v("安装监控报表")]),e("span",{staticClass:"text-[#999999] ml-[0.5rem]"})],1)]},proxy:!0},{key:"description",fn:function(){return[n.pluginInfo.total_status?t._e():e("div",{staticClass:"mt-[2.2rem] text-[1.5rem] ml-[0.2rem]"},[e("p",{staticStyle:{color:"#666666",margin:"10px 0px"}},[t._v(" 1. 请安装监控报表【7.6.0】以上的版本。 ")])])]},proxy:!0}],null,!0)})],1)],1)])])])])])])]):e(y,{staticClass:"px-[20%] my-[8rem]",attrs:{data:n.productData}})],1)}),[],!1,null,"61835c0a",null,null).exports,U=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));t("i",U)}}}))}();

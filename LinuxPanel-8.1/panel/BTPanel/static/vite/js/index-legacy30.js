!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function a(e,a,n){var r;return r=function(e,a){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,a||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"),(a="symbol"==t(r)?r:String(r))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function n(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */n=function(){return a};var e,a={},r=Object.prototype,o=r.hasOwnProperty,i=Object.defineProperty||function(t,e,a){t[e]=a.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function p(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(e){p=function(t,e,a){return t[e]=a}}function d(t,e,a,n){var r=e&&e.prototype instanceof b?e:b,o=Object.create(r.prototype),s=new V(n||[]);return i(o,"_invoke",{value:I(t,a,s)}),o}function f(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}a.wrap=d;var m="suspendedStart",h="suspendedYield",v="executing",y="completed",g={};function b(){}function x(){}function w(){}var k={};p(k,c,(function(){return this}));var _=Object.getPrototypeOf,D=_&&_(_(L([])));D&&D!==r&&o.call(D,c)&&(k=D);var C=w.prototype=b.prototype=Object.create(k);function T(t){["next","throw","return"].forEach((function(e){p(t,e,(function(t){return this._invoke(e,t)}))}))}function S(e,a){function n(r,i,s,c){var l=f(e[r],e,i);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==t(p)&&o.call(p,"__await")?a.resolve(p.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):a.resolve(p).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,c)}))}c(l.arg)}var r;i(this,"_invoke",{value:function(t,e){function o(){return new a((function(a,r){n(t,e,a,r)}))}return r=r?r.then(o,o):o()}})}function I(t,a,n){var r=m;return function(o,i){if(r===v)throw new Error("Generator is already running");if(r===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=O(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===m)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=v;var l=f(t,a,n);if("normal"===l.type){if(r=n.done?y:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=y,n.method="throw",n.arg=l.arg)}}}function O(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,O(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,g;var i=o.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function V(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function L(a){if(a||""===a){var n=a[c];if(n)return n.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var r=-1,i=function t(){for(;++r<a.length;)if(o.call(a,r))return t.value=a[r],t.done=!1,t;return t.value=e,t.done=!0,t};return i.next=i}}throw new TypeError(t(a)+" is not iterable")}return x.prototype=w,i(C,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=p(w,u,"GeneratorFunction"),a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,p(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},a.awrap=function(t){return{__await:t}},T(S.prototype),p(S.prototype,l,(function(){return this})),a.AsyncIterator=S,a.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var i=new S(d(t,e,n,r),o);return a.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},T(C),p(C,u,"Generator"),p(C,c,(function(){return this})),p(C,"toString",(function(){return"[object Generator]"})),a.keys=function(t){var e=Object(t),a=[];for(var n in e)a.push(n);return a.reverse(),function t(){for(;a.length;){var n=a.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},a.values=L,V.prototype={constructor:V,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var a in this)"t"===a.charAt(0)&&o.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function n(n,r){return s.type="throw",s.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=t,i.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),P(a),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var r=n.arg;P(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:L(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},a}function r(t,e,a,n,r,o,i){try{var s=t[o](i),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(n,r)}function o(t){return function(){var e=this,a=arguments;return new Promise((function(n,o){var i=t.apply(e,a);function s(t){r(i,n,o,s,c,"next",t)}function c(t){r(i,n,o,s,c,"throw",t)}s(void 0)}))}}System.register(["./index-legacy77.js?v=1714377894636","./preload-helper-legacy.js?v=1714377894636","./vue-lib-legacy.js?v=1714377894636","./index-legacy91.js?v=1714377894636","./main-legacy.js?v=1714377894636","./element-lib-legacy.js?v=1714377894636","./empty-legacy.js?v=1714377894636","./date-picker-legacy.js?v=1714377894636","./select-legacy.js?v=1714377894636","./card-legacy.js?v=1714377894636","./locales-lib-legacy.js?v=1714377894636","./col-legacy.js?v=1714377894636","./row-legacy.js?v=1714377894636","./index-legacy85.js?v=1714377894636","./index-legacy46.js?v=1714377894636"],(function(r,i){"use strict";var s,c,l,u,p,d,f,m,h,v,y,g,b,x,w,k,_,D,C,T,S,I,O,A,P,V,L,j,N,E,z,M,B;return{setters:[function(t){s=t._},function(t){c=t._},function(t){l=t.e,u=t.b,p=t.h,d=t.z,f=t.A,m=t.v,h=t.M,v=t.f,y=t.l,g=t.c,b=t.j},function(t){x=t._},function(t){w=t.n,k=t.I,_=t.q,D=t.l,C=t.a,T=t.c,S=t.aj,I=t.f},function(t){O=t.aa,A=t.q,P=t.s,V=t.p,L=t.j,j=t.P,N=t.v,E=t.A},null,function(t){z=t._},null,null,null,null,null,function(t){M=t._},function(t){B=t._}],execute:function(){var F=l({__name:"PercentageData",props:{unitVisible:{type:Boolean,default:!1}},setup:function(t,e){var a=e.expose,n=t,r=u(),o=function(t){var e;r.value&&(null===(e=r.value)||void 0===e||e.setOption(t))},i=function(){var t;r.value&&"function"==typeof r.value.resize&&(null===(t=r.value)||void 0===t||t.resize())};return p((function(){var t;null===(t=r.value)||void 0===t||t.resize()})),a({setConfig:o,echartResize:i}),{__sfc:!0,props:n,echartRef:r,setConfig:o,echartResize:i}}}),G=w(F,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"percentage w-full",staticStyle:{position:"relative"}},[e(x,t._g({ref:"echartRef"},t.$listeners)),a.props.unitVisible?e("div",{staticClass:"show"},[t._v(" 单位： "),t._m(0)]):t._e()],1)}),[function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"bt-crontab-select-button"},[e("div",{staticClass:"bt-select-full only-one disk-unit"},[e("div",{staticClass:"select-picker-search"},[e("span",{staticClass:"picker-text-list"},[t._v("KB/s")]),e("span",{staticClass:"down-select-full"})]),e("div",{staticClass:"select-list-item",staticStyle:{display:"none"}},[e("ul",{staticClass:"active",staticStyle:{width:"auto","max-height":"auto"}},[e("li",{staticClass:"active",attrs:{"data-attr":"KB/s"}},[e("span",{staticClass:"select-name-full active"},[t._v("KB/s")])]),e("li",{attrs:{"data-attr":"MB/s"}},[e("span",{staticClass:"select-name-full"},[t._v("MB/s")])]),e("li",{staticStyle:{display:"none"},attrs:{"data-attr":"GB/s"}},[e("span",{staticClass:"select-name-full"},[t._v("GB/s")])])])])])])}],!1,null,"223518fa",null,null).exports,R=function(t){return k.post("config/SetControl",{data:t,check:"msg"})},q=function(t){return k.post("ajax/GetCpuIo",{data:t})},U=function(t){return k.post("ajax/GetDiskIo",{data:t})},$=function(t){return k.post("ajax/GetNetWorkIo",{data:t})},W=function(t){return k.post("ajax/get_load_average",{data:t})},K=(r("a",(function(t){return k.post("daily/get_daily_data",{data:t})})),r("b",(function(){return k.post("daily/get_daily_list")})),r("S",(function(t){return k.post("monitor/soft/sever_admin",{data:t,customType:"model"})})),r("G",(function(t){return k.post("monitor/soft/get_status",{data:t,customType:"model"})})),function(t){return k.post("ajax/GetNetWorkIoByDay",{data:t})}),Y=d("CONTROL-STORE",{state:function(){return{diskUnitType:"KB/s",networkUnitType:"KB/s",networkIoKey:"",networkParams:{loading:!1,list:[]},days:7}},actions:{getNetWorkIoByDay:function(t){var e=this;return o(n().mark((function a(){var r,o;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.networkParams.loading=!0,a.next=4,K({day:t});case 4:r=a.sent,o=r.data,e.networkParams.list=o,a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0);case 12:return a.prev=12,e.networkParams.loading=!1,a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])})))()}}}),H=r("g",(function(){var t=Y();return function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({refs:f(t)},t)})),J=function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"time flex"},[e(O,{staticClass:"control-btn"},t._l(a.btnGroup,(function(n,r){return e(_,{attrs:{type:a.btnActive===r?"primary":""},on:{click:n.event}},[t._v(" "+t._s(n.content)+" ")])})),1),e(z,{ref:"player",staticClass:"!absolute right-0 top-0 opacity-0 !w-0 !h-0",attrs:{align:"right",type:"daterange","range-separator":"","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":a.pickerOptions},on:{change:a.selectTime},model:{value:a.customTime,callback:function(t){a.customTime=t},expression:"customTime"}})],1)},Z=w(l({__name:"ControlDay",emits:["cut-day","cut-day-click"],setup:function(t,e){var a=e.emit,n=H().refs.days,r=u(""),o=u(1),i=u(),s=u([{content:"昨天",active:!1,event:function(){o.value=0,a("cut-day",1)}},{content:"今天",active:!0,event:function(t){o.value=1,a("cut-day",0)}},{content:"最近七天",active:!1,event:function(t){o.value=2,r.value="最近七天",a("cut-day",7)}},{content:"自定义时间",active:!1,event:function(){o.value=3,i.value.focus(),p()}}]),c=u(""),l=m({disabledDate:function(t){var e=new Date;e.setHours(23,59,59,999);var a=e.getTime(),r=new Date(e.getTime()-24*n.value*3600*1e3);return t.getTime()<r.getTime()||t.getTime()>a}}),p=function(){a("cut-day-click")};return{__sfc:!0,days:n,emits:a,status:r,btnActive:o,player:i,btnGroup:s,customTime:c,pickerOptions:l,cutDayClick:p,selectTime:function(t){r.value="自定义时间",a("cut-day",t)}}}}),J,[],!1,null,"5bed03ff",null,null).exports,Q=l({__name:"ControlTitle",props:{title:null,active:{type:Boolean},selectList:null},emits:["cut-select","cut-click"],setup:function(t,e){var a=e.emit,n=t,r=H().refs.networkIoKey,o=u(r.value);return{__sfc:!0,networkIoKey:r,props:n,emits:a,selectVal:o,onselectionchange:function(){a("cut-select",o.value)},onCLick:function(){a("cut-click")}}}}),X=function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",[e("span",[t._v(t._s(t.title))]),e(A,{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"2xl:w-[10rem] <2xl:w-[6rem] <lg:w-[10rem]",attrs:{size:"mini",placeholder:t.$t("HomeMonitor.Placeholder")},on:{change:a.onselectionchange},nativeOn:{click:function(t){return a.onCLick.apply(null,arguments)}},model:{value:a.selectVal,callback:function(t){a.selectVal=t},expression:"selectVal"}},t._l(a.props.selectList,(function(t){return e(P,{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)},tt=w(Q,X,[],!1,null,"a4691115",null,null).exports,et=function(){return D({isAsync:!0,title:"网络IO总流量统计",area:[70,50],component:function(){return c((function(){return i.import("./NetworkDayDialog-legacy.js?v=1714377894636")}),void 0,i.meta.url)}})},at=l({__name:"ControlData",props:{title:{default:"默认"},active:{type:Boolean,default:!1},compData:{default:function(){}},controlValue:{type:Boolean,default:!1},type:{default:""}},emits:["cut-day","accept-echarts-id","cut-select","refresh","update:controlValue"],setup:function(t,e){var a=e.emit,r=t,i=h(),s=u(),c=u(),l=u(!1),d=u("34rem"),f=function(){var t=34;l.value&&(t=(window.screen.height-60)/10);return"".concat(t,"rem")};v(l,(function(t){t?d.value=f():(d.value="34rem",y((function(){c.value.echartResize()})))}));var m=function(){var t=!!document.fullscreenElement;return null==t&&(t=!1),t},b=g((function(){return Object.keys(r.compData).includes("series")&&void 0===r.compData.series[0].data}));return v((function(){return r.compData}),(function(){try{c.value.setConfig(r.compData),c.value.echartResize()}catch(t){}})),p((function(){try{y((function(){c.value.setConfig(r.compData)})),window.addEventListener("fullscreenchange",(function(){var t;m()||(l.value=!1,document.fullscreenElement&&(null===(t=document.exitFullscreen())||void 0===t||t.catch(console.error)))}))}catch(t){}})),{__sfc:!0,attrs:i,emits:a,chartModulesRef:s,dataRef:c,props:r,isFullScreen:l,fullHeight:d,setFullHeight:f,updateEvent:function(){a("update:controlValue",!0)},refresh:function(){a("refresh",r.type)},setFullScreen:function(){l.value=!0,y((function(){var t,e;null!==(t=s.value.$el)&&void 0!==t&&t.requestFullscreen&&(null===(e=s.value.$el)||void 0===e||e.requestFullscreen())}))},setExitScreen:function(){var t;l.value=!1,null===(t=document)||void 0===t||t.exitFullscreen()},checkFull:m,showElement:function(){m()&&y(o(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.querySelector(".el-select-dropdown.el-popper")&&y((function(){s.value.$el.appendChild(document.querySelector(".el-select-dropdown.el-popper"))})),document.querySelector(".el-picker-panel.el-popper")&&s.value.$el.appendChild(document.querySelector(".el-picker-panel"));case 2:case"end":return t.stop()}}),t)}))))},openPopup:function(){m()?y(o(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et();case 2:document.querySelector(".el-dialog")&&(s.value.$el.appendChild(document.querySelector(".el-dialog__wrapper")),s.value.$el.appendChild(document.querySelector(".v-modal")));case 3:case"end":return t.stop()}}),t)})))):et()},isInfo:b}}}),nt=w(at,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",[e(V,{ref:"chartModulesRef",staticClass:"relative module-box",attrs:{shadow:"never","body-style":{padding:0,display:"flex"}}},[e("template",{slot:"header"},[e("div",{staticClass:"flex items-center"},[e(tt,t._g(t._b({attrs:{title:a.props.title,active:a.props.active},on:{"cut-click":a.showElement}},"control-title",t.$attrs,!1),t.$listeners)),a.isFullScreen||a.isInfo?t._e():e("span",{staticClass:"full-icon cursor-pointer",attrs:{title:"全屏展示"},on:{click:a.setFullScreen}})],1),a.isInfo?t._e():e("div",{staticClass:"flex items-center"},["网络IO："===a.props.title?e(_,{staticClass:"<2xl:hidden 2xl:inline-block",attrs:{type:"default"},on:{click:a.openPopup}},[t._v("统计 ")]):t._e(),e(L,{staticClass:"item",attrs:{effect:"dark",content:"网络IO统计",placement:"top-start"}},["网络IO："===a.props.title?e("i",{staticClass:"el-icon-s-data cursor-pointer text-[#666] hover:text-[#20a53a] <2xl:inline-block 2xl:hidden",attrs:{title:"网络IO统计"},on:{click:a.openPopup}}):t._e()]),e("div",{staticClass:"flex items-center ml-[1rem]"},[e(Z,t._g({staticClass:"mr-[1rem]",on:{"cut-day-click":a.showElement}},t.$listeners)),e(L,{staticClass:"item",attrs:{effect:"dark",content:"点击刷新数据",placement:"top-start"}},[e(_,{staticClass:"<2xl:hidden 2xl:inline-block",attrs:{type:"default",icon:"el-icon-refresh"},on:{click:a.refresh}})],1),a.isFullScreen?e("span",{staticClass:"select-none el-icon-close cursor-pointer ml-[.5rem]",attrs:{title:"退出全屏"},on:{click:a.setExitScreen}}):t._e()],1)],1)]),a.isInfo?[a.props.controlValue||void 0!==a.props.compData.series[0].data?e(j,{staticClass:"w-[100%]",attrs:{description:"我们正在努力为您收集数据，请耐心等待1-2分钟后再尝试查看。"}}):[e(j,{staticClass:"w-[100%]",attrs:{description:"未开启监控，暂无数据"}},[e(C,{on:{click:a.updateEvent}},[t._v("点击开启监控 ")])],1)]]:t._e(),e(G,t._g(t._b({directives:[{name:"show",rawName:"v-show",value:!a.isInfo,expression:"!isInfo"}],ref:"dataRef",style:{height:a.fullHeight}},"percentage-data",t.$attrs,!1),t.$listeners))],2)],1)}),[],!1,null,null,null,null).exports,rt=l({__name:"ControlMonitor",setup:function(e){var a=H().refs,r=a.diskUnitType,i=a.networkUnitType,s=a.networkIoKey,c=a.days,l=b().proxy,d=u(!1),f=u(0),h=u(null),v=u([]),y=m({day:0,title:"CPU",active:!1,unitVisible:!1,echartsId:"",echartsPramas:{},echartsOption:{},cpuTopData:{}}),g=m({day:0,title:"内存",active:!1,unitVisible:!1,echartsId:"",echartsPramas:{},echartsOption:{},memTopData:{}}),x=m({day:0,title:"磁盘IO",active:!1,unitVisible:!0,echartsId:"",echartsPramas:{},echartsOption:{},diskTopData:{}}),w=m({day:0,title:"网络IO：",active:!0,unitVisible:!0,echartsId:"",echartsPramas:{},echartsOption:{},networkTopData:{},selectVal:"",selectList:[{label:"全部",value:""}]}),k=m({day:0,title:"平均负载",active:!1,unitVisible:!1,echartsId:"",echartsPramas:{},echartsOption:{},loadCpuTopData:{}}),_=function(){var t=o(n().mark((function t(){var e,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R({type:"-1"});case 3:e=t.sent,a=e.data,d.value=a.status,f.value=a.day,c.value=a.day,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0);case 13:return t.prev=13,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=o(n().mark((function t(){var e,a,r,o,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null,t.prev=1,a=f.value,r=d.value?"1":"0",!(a<1)){t.next=7;break}return l.$message.error("保存天数不合法"),t.abrupt("return");case 7:if(/^-?\d+$/.test(a+"")){t.next=10;break}return l.$message.error("保存天数必须为整数"),t.abrupt("return");case 10:return e=l.$load("正在设置监控状态，请稍后..."),t.next=13,R({type:r,day:a});case 13:return o=t.sent,i=o.data,t.next=17,pt();case 17:i.status?(l.$message.success(i.msg),c.value=a):l.$message.error(i.msg),e&&e.close(),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(1);case 24:return t.prev=24,e&&e.close(),t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[1,21,24,27]])})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=o(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.$confirm({type:"calc",title:"清空记录",width:"35rem",message:"您真的要清空所有监控记录吗？"});case 3:return t.next=5,R({type:"del"});case 5:e=t.sent,l.$message.request(e),window.location.reload(),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),O=function(t){var e=t.time,a=t.legend,n="",r="";void 0===t.data&&(t.data=[]),void 0===t.table&&(t.table=[{title:"PID",width:"40px",index:1},{title:"进程名",index:2},{title:"CPU占用",index:0,unit:"%"},{title:"启动用户",index:4}]);for(var o=0;o<t.data.length;o++){var i=t.data[o];0===o&&(n+="<tr>"),r+="<tr>";for(var s=0;s<t.table.length;s++){var c=t.table[s];0===o&&(n+='<th style="width:'+(c.width||"auto")+'">'+c.title+"</th>");var l=i[c.index];r+="<td >"+("function"==typeof c.unit?c.unit(l):l+(c.unit||""))+"</td>"}0===o&&(n+="</tr>"),r+="</tr>"}return'<div class="echarts-tooltip" style="width:'+(t.width||"40rem")+'">        <div class="formatter-header">          <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAgBJREFUWIXtWN1xgzAMlkQ3YoCaYaJji8AWPjJM3AEYCasPNT3XZ2xBk17b43uCiy190b8AOHHixN8GPkpQ3/cmfrfWukfIPUyw73vjvTci8oqIJndGRBwivk3TNPwoQWYeAOC689p4hOgugsFq971KYhBRt8f9pD3IzEOOnIg4ABiJqCOibpomBIARAMbw2xd47+/BAyqoLJiznIi4pmnGmjW2rK615IuGYEbBeLvdBs3dQALTuA0yqwZqageCYBOTOxLs8zy7tm0xltW2Lc7z7Er3qv+AmSV+DzF2GJfL5R6XpZqri0mSBjMRdd8hBwDQNM0Yv3vvTel8kaCIvEbPTpMQaUdJYa11cXbHOnIoJknsCkR8KxFbluW6WoOZi64LskyqI4dNC9YsEcN7f08VLcuy2WmIyGl1qQv1VuZuCUfEqrs1UBN8hLIVT2l1JWW5llYisqfVbRJMhZfKQVo6RMTtKUklixazOMxzJjxvloO1na1hUHNhmCE/dZTOFl0clxZN0FtrVbVSW76qBNNyUCodWqSDR62vFwkGa3zGFyKaPQGeInN3zJ2LoWr86cAAByaa3JqgGTxU8yARdYlrrsx81QydaxuEryObevBQj05bi9K6uQF8xNOaSJWNT+2BX780/a+1MwUzD5rFnYiq9fEpBGM869PHiRMn/jreAZxNPtSJHlfLAAAAAElFTkSuQmCC" alt="path" />          <span>日期：'+e+'</span>        </div>          <div class="formatter-body">'+a+'<div class="process-top5 '+(0===t.data.length?"hide":"")+'">            <div class="process-header"></div>            <table>              <thead>              <tr>'+n+"</tr>              </thead>              <tbody>"+r+"</tbody>            </table>          </div>        </div>      </div>"},A=function(t,e){var a,n=e.size.contentSize[0],r=e.size.contentSize[1],o=window.innerWidth,i=window.innerHeight,s=null===(a=document.getElementById(t))||void 0===a?void 0:a.getBoundingClientRect(),c=e.pos[0]+(null==s?void 0:s.left),l=e.pos[1]+(null==s?void 0:s.top),u=0,p=0;return p=c+n+80<o?e.pos[0]+20:e.pos[0]-n-20,u=l+r+80<i?e.pos[1]+20:e.pos[1]-r-20,l-r<0&&(u=0-(null==s?void 0:s.top)+10),[p,u]},P=function(t,e){return{tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(t){},padding:0,backgroundColor:"rgba(255,255,255,0.95)",borderColor:"#eee"},grid:{bottom:80},xAxis:{type:"time",boundaryGap:["1%","0%"],minInterval:(e-t)/3*1e3,axisLine:{lineStyle:{color:"#666"}},axisLabel:{formatter:function(t){return V(t/1e3)}}},yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{lineStyle:{color:"#ddd"}},axisLine:{lineStyle:{color:"#666"}}},dataZoom:[{type:"inside",start:0,end:100,zoomLock:!0},{bottom:10,start:0,end:100,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{}]}},V=function(t){var e=new Date(1e3*t),a=e.getMonth()+1,n=e.getDate(),r=e.getHours(),o=e.getMinutes();return"".concat(a.toString().padStart(2,"0"),"-").concat(n.toString().padStart(2,"0"),"\n").concat(r.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0"))},L=function(){var t=o(n().mark((function t(e,a){var r,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q({start:e,end:a});case 3:r=t.sent,o=r.data,v.value=o,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0);case 11:return t.prev=11,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e,a){return t.apply(this,arguments)}}(),j=function(){var t=o(n().mark((function t(e,a,r){var o,i,s,c,l,u,p;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=[],t.next=4,L(e,a);case 4:if(0!==(o=v.value).length){t.next=8;break}return"CPU"===r?y.echartsPramas={startTime:0,endTime:0,yData:[]}:g.echartsPramas={startTime:0,endTime:0,zData:[]},t.abrupt("return");case 8:if(dt(o,e,a),Y(o[o.length-1].addtime/1e3,e),"CPU"===r){if(i=[],o.length>0){for(s=0;s<o.length;s++)c=o[s],i.push([c.addtime,c.pro]),void 0===y.cpuTopData&&(y.cpuTopData={}),y.cpuTopData[c.addtime]=c.cpu_top;l=o[0].addtime,u=o[o.length-1].addtime,y.echartsPramas={startTime:l,endTime:u,yData:i}}}else if(p=[],o.length>0){for(s=0;s<o.length;s++)c=o[s],p.push([c.addtime,c.mem]),void 0===g.memTopData&&(g.memTopData={}),g.memTopData[c.addtime]=c.memory_top.map((function(t){return t[0]=T(t[0]),t}));l=o[0].addtime,u=o[o.length-1].addtime,g.echartsPramas={startTime:l,endTime:u,zData:p}}t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.prev=16,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,13,16,19]])})));return function(e,a,n){return t.apply(this,arguments)}}(),N=function(t,e,a){var n=m(P(t,e));return n.tooltip.formatter=function(t){for(var e="",a=0;a<t.length;a++){var n=t[a];e+='<div class="select-data"><span class="status" style="background-color: '+n.color+'"></span><span>'+n.seriesName+"："+(S(n.data[1])?n.data[1].toFixed(2):0)+"%</span></div>"}return O({time:t[0].axisValueLabel,data:y.cpuTopData[t[0].axisValue],legend:e})},n.tooltip.padding=0,n.tooltip.backgroundColor="rgba(255,255,255,0.95)",n.tooltip.borderColor="#eee",n.yAxis.name="百分比",n.yAxis.min=0,n.yAxis.max=100,n.series=[{name:"CPU",type:"line",smooth:!0,symbol:"circle",showSymbol:!1,itemStyle:{normal:{color:"rgb(0, 153, 238)"}},data:a}],n.tooltip.position=function(t,e,a,n,r){return A(y.echartsId,{pos:t,size:r})},n},E=function(t){y.echartsOption=N(t.startTime,t.endTime,t.yData)},z=function(){var t=o(n().mark((function t(e){var a,r,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=mt(e),r=a.b,o=a.e,t.next=3,j(r,o,"CPU");case 3:E(y.echartsPramas);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(){var e=o(n().mark((function e(a){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.day=a,"object"!==t(a)){e.next=7;break}return e.next=4,j(a[0].getTime()/1e3,a[1].getTime()/1e3,"CPU");case 4:E(y.echartsPramas),e.next=9;break;case 7:return e.next=9,z(y.day);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(t,e,a){var n=m(P(t,e));return n.tooltip.formatter=function(t){for(var e="",a=0;a<t.length;a++){var n=t[a];e+='<div class="select-data"><span class="status" style="background-color: '+n.color+'"></span><span>'+n.seriesName+"："+(S(n.data[1])?n.data[1].toFixed(2):0)+"%</span></div>"}return O({time:t[0].axisValueLabel,data:g.memTopData[t[0].axisValue],table:[{title:"PID",width:"40px",index:1},{title:"进程名",width:"50px",index:2},{title:"内存占用",index:0},{title:"启动用户",index:4}],legend:e})},n.tooltip.className="mem-tooltip",n.tooltip.padding=0,n.tooltip.backgroundColor="rgba(255,255,255,0.95)",n.tooltip.borderColor="#eee",n.tooltip.position=function(t,e,a,n,r){return A(g.echartsId,{pos:t,size:r})},n.yAxis.name="百分比",n.yAxis.min=0,n.yAxis.max=100,n.series=[{name:"内存",type:"line",smooth:!0,symbol:"circle",showSymbol:!1,itemStyle:{normal:{color:"rgb(0, 153, 238)"}},data:a}],n},F=function(t){g.echartsOption=B(t.startTime,t.endTime,t.zData)},G=function(){var t=o(n().mark((function t(e){var a,r,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=mt(e),r=a.b,o=a.e,t.next=3,j(r,o,"内存");case 3:F(g.echartsPramas);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){var e=o(n().mark((function e(a){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.day=a,"object"!==t(a)){e.next=7;break}return e.next=4,j(a[0].getTime()/1e3,a[1].getTime()/1e3,"内存");case 4:F(g.echartsPramas),e.next=9;break;case 7:return e.next=9,G(g.day);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(t,e){return V(t).slice(0,5)!==V(e).slice(0,5)},J=function(){var t=o(n().mark((function t(e,a){var o,i,s,c,l,u,p,d,f,m,h,v,y,g,b,w,k,_,D;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U({start:e,end:a});case 3:if(o=t.sent,0!==(i=o.data).length){t.next=8;break}return x.echartsPramas={_unit:r.value,startTime:0,endTime:0,rData:[],wData:[],zData:[],yData:[]},t.abrupt("return");case 8:dt(i,e,a),Y(i[i.length-1].addtime/1e3,e),s=[],c=[],l=[],u=[],p=1,d=r.value,t.t0=d,t.next="MB/s"===t.t0?19:"GB/s"===t.t0?21:23;break;case 19:return p=1024,t.abrupt("break",25);case 21:return p=1048576,t.abrupt("break",25);case 23:return p=1,t.abrupt("break",25);case 25:for(f=!1,m=!1,h=0;h<i.length;h++)v=i[h],y=(v.read_bytes/1024).toFixed(3),g=(v.write_bytes/1024).toFixed(3),s.push([v.addtime,y/p]),c.push([v.addtime,g/p]),u.push([v.addtime,v.read_count+v.write_count]),l.push([v.addtime,v.read_time+v.write_time]),void 0===x.diskTopData&&(x.diskTopData={}),x.diskTopData[v.addtime]=v.disk_top,w=g/1024,((b=y/1024)>=1||w>=1)&&!f&&(f=!0),f&&(k=w/1024,(b/1024>=1||k>=1)&&!m&&(m=!0));i.length>0&&(_=i[0].addtime/1e3,D=i[i.length-1].addtime/1e3,x.echartsPramas={_unit:d,startTime:_,endTime:D,rData:s,wData:c,zData:l,yData:u}),t.next=34;break;case 31:t.prev=31,t.t1=t.catch(0);case 34:return t.prev=34,t.finish(34);case 37:case"end":return t.stop()}}),t,null,[[0,31,34,37]])})));return function(e,a){return t.apply(this,arguments)}}(),Z=function(t,e,a,n,r,o,i){var s=m(P(e,a));return s.tooltip.formatter=function(e){for(var a="",n=0;n<e.length;n++){var r=e[n],o="";"读写次数"===r.seriesName&&(o="次/s"),"读写延迟"===r.seriesName&&(o="ms"),"读取"!==r.seriesName&&"写入"!==r.seriesName||(o=t),a+='<div class="select-data"><span class="status" style="background-color: '+r.color+'"></span><span>'+r.seriesName+"："+(S(r.data[1])?r.data[1].toFixed(2):0)+" "+o+"</span></div>"}return O({time:e[0].axisValueLabel,data:x.diskTopData[e[0].axisValue],width:"470px",table:[{title:"PID",width:"40px",index:3},{title:"进程名",width:"50px",index:4},{title:"磁盘占用",index:0,unit:function(t){return T(t)}},{title:"读取",index:1,unit:function(t){return T(t)}},{title:"写入",index:2,unit:function(t){return T(t)}},{title:"启动用户",index:6}],legend:a})},s.tooltip.padding=0,s.tooltip.backgroundColor="rgba(255,255,255,0.95)",s.tooltip.borderColor="#eee",s.tooltip.position=function(t,e,a,n,r){return A(x.echartsId,{pos:t,size:r})},s.legend={top:"18px",data:["读取","写入","读写次数","读写延迟"]},s.series=[{name:"读取",type:"line",smooth:!0,symbol:"circle",showSymbol:!1,itemStyle:{normal:{color:"rgb(255, 70, 131)"}},data:n},{name:"写入",type:"line",smooth:!0,symbol:"circle",showSymbol:!1,itemStyle:{normal:{color:"rgba(46, 165, 186, .7)"}},data:r},{name:"读写次数",type:"line",smooth:!0,symbol:"circle",showSymbol:!1,itemStyle:{normal:{color:"rgba(30, 144, 255)"}},data:i},{name:"读写延迟",type:"line",smooth:!0,symbol:"circle",showSymbol:!1,itemStyle:{normal:{color:"rgba(255, 140, 0)"}},data:o}],s},Q=function(t){x.echartsOption=Z(t._unit,t.startTime,t.endTime,t.rData,t.wData,t.zData,t.yData)},X=function(){var t=o(n().mark((function t(e){var a,r,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=mt(e),r=a.b,o=a.e,t.next=3,J(r,o);case 3:Q(x.echartsPramas);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),tt=function(){var e=o(n().mark((function e(a){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.day=a,"object"!==t(a)){e.next=7;break}return e.next=4,J(a[0].getTime()/1e3,a[1].getTime()/1e3);case 4:Q(x.echartsPramas),e.next=8;break;case 7:X(x.day);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=o(n().mark((function e(a,r){var o,c,l,u,p,d,f,m,h,v,y,g,b,x,k,_,D;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$({start:a,end:r});case 3:if(o=e.sent,0!==(c=o.data).length){e.next=8;break}return w.echartsPramas={_unit:i.value,startTime:0,endTime:0,yData:[],zData:[]},e.abrupt("return");case 8:1===w.selectList.length&&Object.keys(c[0].down_packets).forEach((function(t){w.selectList.push({title:t,value:t})})),dt(c,a,r),Y(c[c.length-1].addtime/1e3,a),l=[],u=[],p=1,d=i.value,f=0,m=s.value||"",e.t0=d,e.next="MB/s"===e.t0?15:"GB/s"===e.t0?17:19;break;case 15:return p=1024,e.abrupt("break",21);case 17:return p=1048576,e.abrupt("break",21);case 19:return p=1,e.abrupt("break",21);case 21:for(h=!1,v=!1,y=0;y<c.length;y++)g=c[y],f<1&&"object"===t(g.down_packets)&&(void 0!==m&&""!=m?"object"===t(g.down_packets)?u.push([g.addtime,g.down_packets[m]/p]):u.push([g.addtime,0]):u.push([g.addtime,g.down/p]),void 0!==m&&""!=m?"object"===t(g.up_packets)?l.push([g.addtime,g.up_packets[m]/p]):l.push([g.addtime,0]):l.push([g.addtime,g.up/p]),b=g.up/1024,x=g.down/1024,(b>=1||x>=1)&&!h&&(h=!0),h&&(k=x/1024,(b/1024>=1||k>=1)&&!v&&(v=!0))),c.length>0&&(_=c[0].addtime/1e3,D=c[c.length-1].addtime/1e3,w.echartsPramas={_unit:d,startTime:_,endTime:D,yData:l,zData:u});e.next=29;break;case 26:e.prev=26,e.t1=e.catch(0);case 29:return e.prev=29,e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[0,26,29,32]])})));return function(t,a){return e.apply(this,arguments)}}(),at=function(t,e,a,n,r){var o=m(P(e,a));return o.tooltip.formatter=function(e){var a=e[0].data[0];I(a/1e3);for(var n="",r=0;r<e.length;r++){var o=e[r];n+='<div class="select-data"><span class="status" style="background-color: '+o.color+'"></span><span>'+o.seriesName+"："+(S(o.data[1])?o.data[1].toFixed(3):0)+" "+t+"</span></div>"}return O({width:"280px",time:e[0].axisValueLabel,legend:n})},o.tooltip.padding=0,o.tooltip.backgroundColor="rgba(255,255,255,0.95)",o.tooltip.borderColor="#eee",o.tooltip.position=function(t,e,a,n,r){return A(w.echartsId,{pos:t,size:r})},o.legend={top:"18px",data:["上行","下行"]},o.series=[{name:"上行",type:"line",smooth:!0,symbol:"circle",showSymbol:!1,itemStyle:{normal:{color:"rgb(255, 70, 131)"}},data:n},{name:"下行",type:"line",smooth:!0,symbol:"circle",showSymbol:!1,itemStyle:{normal:{color:"rgba(46, 165, 186, .7)"}},data:r}],o},nt=function(t){w.echartsOption=at(t._unit,t.startTime,t.endTime,t.yData,t.zData)},rt=function(){var t=o(n().mark((function t(e){var a,r,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=mt(e),r=a.b,o=a.e,t.next=3,et(r,o);case 3:nt(w.echartsPramas);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ot=function(){var e=o(n().mark((function e(a){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.day=a,"object"!==t(a)){e.next=7;break}return e.next=4,et(a[0].getTime()/1e3,a[1].getTime()/1e3);case 4:nt(w.echartsPramas),e.next=8;break;case 7:rt(w.day);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var t=o(n().mark((function t(e,a){var r,o,i,s,c,l,u,p,d;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W({start:e,end:a});case 3:if(r=t.sent,0!==(o=r.data).length){t.next=8;break}return k.echartsPramas={startTime:0,endTime:0,yData:[],zData:[],aData:[],bData:[]},t.abrupt("return");case 8:if(dt(o,e,a),Y(o[o.length-1].addtime/1e3,e),i=[],s=[],c=[],l=[],void 0!==o){t.next=16;break}return t.abrupt("return");case 16:for(u=0;u<o.length;u++)l.push([o[u].addtime,o[u].one]),c.push([o[u].addtime,o[u].pro]),i.push([o[u].addtime,o[u].five]),s.push([o[u].addtime,o[u].fifteen]),void 0===k.loadCpuTopData&&(k.loadCpuTopData={}),k.loadCpuTopData[o[u].addtime]=o[u].cpu_top;o.length>0&&(p=o[0].addtime/1e3,d=o[o.length-1].addtime/1e3,k.echartsPramas={startTime:p,endTime:d,yData:c,zData:l,aData:i,bData:s}),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0);case 23:return t.prev=23,t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[0,20,23,26]])})));return function(e,a){return t.apply(this,arguments)}}(),st=function(t,e,a,n,r,o){var i=m(P(t,e)),s=(e-t)/3*1e3;return i.tooltip.formatter=function(t){for(var e="",a="",n=0;n<t.length;n++){var r=t[n];switch(r.seriesName){case"1分钟":case"5分钟":case"15分钟":e+='<div class="select-data"><span class="status" style="background-color: '+r.color+'"></span><span>'+r.seriesName+"："+(S(r.data[1])?r.data[1].toFixed(2):0)+"%</span></div>";break;case"资源使用率":a=S(r.data[1])?r.data[1].toFixed(2):"0"}}return O({time:t[0].axisValueLabel,data:k.loadCpuTopData[t[0].axisValue],legend:'<div class="select-data"><span class="status"></span><span>资源使用率：'+a+'%</span></div><div class="'+("资源使用率"===t[0].seriesName?"hide":"")+'">'+e+"</div>"})},i.tooltip.padding=0,i.tooltip.backgroundColor="rgba(255,255,255,0.95)",i.tooltip.borderColor="#eee",i.tooltip.position=function(t,e,a,n,r){return A(k.echartsId,{pos:t,size:r})},i.legend={data:["1分钟","5分钟","15分钟"],right:"16%",top:"10px"},i.axisPointer={link:{xAxisIndex:"all"},lineStyle:{color:"#aaaa",width:1}},i.grid=[{left:"5%",bottom:80,right:"55%",width:"40%",height:"auto"},{bottom:80,left:"55%",width:"40%",height:"auto"}],i.xAxis=[{type:"time",boundaryGap:["1%","0%"],minInterval:s,axisLine:{lineStyle:{color:"#666"}},axisLabel:{formatter:function(t){return V(t/1e3)}}},{type:"time",gridIndex:1,boundaryGap:["1%","0%"],minInterval:s,axisLine:{lineStyle:{color:"#666"}},axisLabel:{formatter:function(t){return V(t/1e3)}}}],i.yAxis=[{scale:!0,name:"资源使用率",min:0,max:function(t){return t.max>=100?Math.ceil(t.max):t.max>=80?100:parseInt((t.max+10).toString().slice(0,1)+"0")},splitLine:{show:!0,lineStyle:{color:"#ddd"}},nameTextStyle:{color:"#666",fontSize:12,align:"left"},axisLine:{lineStyle:{color:"#666"}}},{scale:!0,name:"负载详情",gridIndex:1,splitLine:{show:!0,lineStyle:{color:"#ddd"}},nameTextStyle:{color:"#666",fontSize:12,align:"left"},axisLine:{lineStyle:{color:"#666"}}}],i.dataZoom[0].xAxisIndex=[0,1],i.dataZoom[1].type="slider",i.dataZoom[1].left="5%",i.dataZoom[1].right="5%",i.dataZoom[1].xAxisIndex=[0,1],i.series=[{name:"资源使用率",type:"line",smooth:!0,symbol:"circle",showSymbol:!1,lineStyle:{normal:{width:2,color:"rgb(255, 140, 0)"}},itemStyle:{normal:{color:"rgb(255, 140, 0)"}},data:a},{xAxisIndex:1,yAxisIndex:1,name:"1分钟",type:"line",smooth:!0,symbol:"circle",showSymbol:!1,lineStyle:{normal:{width:2,color:"rgb(30, 144, 255)"}},itemStyle:{normal:{color:"rgb(30, 144, 255)"}},data:n},{xAxisIndex:1,yAxisIndex:1,name:"5分钟",type:"line",smooth:!0,symbol:"circle",showSymbol:!1,lineStyle:{normal:{width:2,color:"rgb(0, 178, 45)"}},itemStyle:{normal:{color:"rgb(0, 178, 45)"}},data:r},{xAxisIndex:1,yAxisIndex:1,name:"15分钟",type:"line",smooth:!0,symbol:"circle",showSymbol:!1,lineStyle:{normal:{width:2,color:"rgb(147, 38, 255)"}},itemStyle:{normal:{color:"rgb(147, 38, 255)"}},data:o}],i.textStyle={color:"#666",fontSize:12},i},ct=function(t){k.echartsOption=st(t.startTime,t.endTime,t.yData,t.zData,t.aData,t.bData)},lt=function(){var t=o(n().mark((function t(e){var a,r,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=mt(e),r=a.b,o=a.e,t.next=3,it(r,o);case 3:ct(k.echartsPramas);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ut=function(){var e=o(n().mark((function e(a){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.day=a,"object"!==t(a)){e.next=7;break}return e.next=4,it(a[0].getTime()/1e3,a[1].getTime()/1e3);case 4:ct(k.echartsPramas),e.next=8;break;case 7:lt(k.day);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var t=o(n().mark((function t(e){var a,r,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e&&"cpu"!==e&&"mem"!==e){t.next=6;break}if(y.day!=g.day){t.next=6;break}return a=mt(y.day),r=a.b,o=a.e,t.next=6,L(r,o);case 6:if(e&&"cpu"!==e){t.next=9;break}return t.next=9,z(y.day);case 9:if(e&&"mem"!==e){t.next=12;break}return t.next=12,G(g.day);case 12:if(e&&"disk"!==e){t.next=15;break}return t.next=15,X(x.day);case 15:if(e&&"network"!==e){t.next=18;break}return t.next=18,rt(w.day);case 18:if(e&&"load"!==e){t.next=21;break}return t.next=21,lt(k.day);case 21:e&&l.$message.success("刷新成功"),t.next=26;break;case 24:t.prev=24,t.t0=t.catch(0);case 26:case"end":return t.stop()}}),t,null,[[0,24]])})));return function(e){return t.apply(this,arguments)}}(),dt=function(t,e,a){if(void 0!==t&&t.length>0)for(var n,r=0;r<t.length;r++)"number"!=typeof t[r].addtime&&(n=ft(t[r].addtime,t[t.length-1].addtime),t[r].addtime=n)},ft=function(t,e){var a=e.split(" ")[0].split("/");a=parseInt(a);var n=new Date,r=t.split(" "),o=r[0].split("/"),i=r[1].split(":"),s=parseInt(o[0]),c=n.getFullYear();return(s>n.getMonth()+1||12==s&&s==a)&&(c-=1),new Date(c,s-1,o[1],i[0],i[1]).getTime()},mt=function(t){var e=0,a=Math.floor((new Date).getTime()/1e3);return 0==t?e=new Date(ht()+" 00:00:00").getTime()/1e3:1==t?(e=new Date(vt(t)+" 00:00:00").getTime()/1e3,a=new Date(vt(t)+" 23:59:59").getTime()/1e3):e=new Date(vt(t-1)+" 00:00:00").getTime()/1e3,{b:e=Math.floor(e),e:a=Math.floor(a)}},ht=function(){return I((new Date).getTime()/1e3,"yyyy/MM/dd")},vt=function(t){var e=new Date(ht()).getTime();return I((e-24*t*3600*1e3)/1e3,"yyyy/MM/dd")};return p(o(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:return t.next=4,pt();case 4:case"end":return t.stop()}}),t)})))),{__sfc:!0,diskUnitType:r,networkUnitType:i,networkIoKey:s,days:c,vm:l,controlValue:d,dayAll:f,setDayRef:h,cpuAndMemData:v,cpu:y,mem:g,disk:x,network:w,load:k,GetStatus:_,SetControl:D,CloseControl:C,echartsFormatter:O,echartsPositon:A,getDefaultOption:P,formatTime_up:V,acceptCpuId:function(t){y.echartsId=t},getCpuAndMenData:L,getCpuAndMemInfo:j,getCpuOption:N,generateCpuOption:E,setCpuData:z,changeCpuDay:M,acceptMemId:function(t){g.echartsId=t},getMemOption:B,generateMemOption:F,setMemData:G,changeMemDay:K,acceptDiskId:function(t){x.echartsId=t},timeCompare:Y,getDiskControlInfo:J,getDsikOption:Z,generateDiskOption:Q,setDiskData:X,changeDiskDay:tt,acceptNetworkId:function(t){w.echartsId=t},getNetworkControlInfo:et,getNetworkOption:at,generateNetworkOption:nt,setNetworkData:rt,changeNetworkDay:ot,changeNetworkUnit:function(t){s.value=t,rt(w.day)},acceptLoadId:function(t){k.echartsId=t},getLoadControlInfo:it,getLoadOption:st,generateLoadOption:ct,setLoadData:lt,changeLoadDay:ut,initAllData:pt,SetData:dt,GetTime:ft,getData:mt,getToday:ht,getBeforeData:vt}}}),ot=w(rt,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("section",[e(N,{staticClass:"set_top",attrs:{span:24}},[e(E,{staticClass:"flex",attrs:{span:24}},[e("div",{staticClass:"top_all"},[e("div",{staticClass:"monitor"},[e("em",{staticClass:"open_monitor",staticStyle:{"vertical-align":"middle"}},[t._v("开启监控")]),e(B,{attrs:{checked:""},on:{change:function(t){return a.SetControl()}},model:{value:a.controlValue,callback:function(t){a.controlValue=t},expression:"controlValue"}})],1),e("div",{staticClass:"day"},[e("div",{staticClass:"save_day"},[e("em",[t._v("保存天数：")]),e(M,{attrs:{"controls-position":"right",size:"small",type:"number"},model:{value:a.dayAll,callback:function(t){a.dayAll=t},expression:"dayAll"}}),e("div",{staticClass:"set"},[e(_,{ref:"setDayRef",staticClass:"btn-sm",attrs:{type:""},on:{click:function(t){return a.SetControl()}}},[t._v("更改")])],1)],1)]),e("div",{staticClass:"parting_line"}),e("div",{staticClass:"clear"},[e(_,{attrs:{type:""},on:{click:function(t){return a.CloseControl()}}},[t._v("清空记录")])],1)])])],1),[e(N,[e(E,{attrs:{span:24}},[e(nt,{attrs:{controlValue:a.controlValue,title:a.load.title,active:a.load.active,compData:a.load.echartsOption,unitVisible:a.load.unitVisible,type:"load"},on:{"update:controlValue":function(t){a.controlValue=t},"update:control-value":function(t){a.controlValue=t},refresh:a.initAllData,"cut-day":a.changeLoadDay,"accept-echarts-id":a.acceptLoadId}})],1)],1),e(N,{attrs:{gutter:15,span:24,"mt-10":""}},[e(E,{attrs:{md:12,sm:24,span:12,xs:24}},[e(nt,{attrs:{controlValue:a.controlValue,title:a.cpu.title,active:a.cpu.active,compData:a.cpu.echartsOption,unitVisible:a.cpu.unitVisible,type:"cpu"},on:{"update:controlValue":function(t){a.controlValue=t},"update:control-value":function(t){a.controlValue=t},"cut-day":a.changeCpuDay,refresh:a.initAllData,"accept-echarts-id":a.acceptCpuId}})],1),e(E,{attrs:{md:12,sm:24,span:12,xs:24}},[e(nt,{attrs:{controlValue:a.controlValue,title:a.mem.title,active:a.mem.active,compData:a.mem.echartsOption,unitVisible:a.mem.unitVisible,type:"mem"},on:{"update:controlValue":function(t){a.controlValue=t},"update:control-value":function(t){a.controlValue=t},"cut-day":a.changeMemDay,refresh:a.initAllData,"accept-echarts-id":a.acceptMemId}})],1)],1),e(N,{attrs:{gutter:15,span:24,"mt-10":""}},[e(E,{attrs:{md:24,sm:24,lg:12,span:12,xs:24}},[e(nt,{attrs:{controlValue:a.controlValue,title:a.disk.title,active:a.disk.active,compData:a.disk.echartsOption,unitVisible:a.disk.unitVisible,type:"disk"},on:{"update:controlValue":function(t){a.controlValue=t},"update:control-value":function(t){a.controlValue=t},"cut-day":a.changeDiskDay,refresh:a.initAllData,"accept-echarts-id":a.acceptDiskId}})],1),e(E,{attrs:{md:24,lg:12,sm:24,span:12,xs:24}},[e(nt,{attrs:{controlValue:a.controlValue,title:a.network.title,active:a.network.active,compData:a.network.echartsOption,unitVisible:a.network.unitVisible,selectList:a.network.selectList,type:"network"},on:{"update:controlValue":function(t){a.controlValue=t},"update:control-value":function(t){a.controlValue=t},"cut-day":a.changeNetworkDay,"cut-select":a.changeNetworkUnit,refresh:a.initAllData,"accept-echarts-id":a.acceptNetworkId}})],1)],1)]],2)}),[],!1,null,null,null,null).exports,it=w(l({__name:"index",setup:function(t){return{__sfc:!0,vm:b().proxy,tabActive:u("Monitor"),tabComponent:u([{title:"系统监控",type:"Monitor",component:ot},{title:"面板日报",type:"PanelReport",component:function(){return c((function(){return i.import("./RapidDeployment-legacy.js?v=1714377894636")}),void 0,i.meta.url)}}])}}}),(function(){var t=this._self._c,e=this._self._setupProxy;return t("section",{staticClass:"top"},[t(s,{attrs:{type:"nav2",config:e.tabComponent},model:{value:e.tabActive,callback:function(t){e.tabActive=t},expression:"tabActive"}})],1)}),[],!1,null,"a0e685d8",null,null).exports,st=Object.freeze(Object.defineProperty({__proto__:null,default:it},Symbol.toStringTag,{value:"Module"}));r("i",st)}}}))}();

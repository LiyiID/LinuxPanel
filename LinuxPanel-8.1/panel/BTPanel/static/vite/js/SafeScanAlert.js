import{g as s,d4 as e,d5 as a,n as t,a as o}from"./main.js?v=1714377894636";import{_ as r}from"./index40.js?v=1714377894636";import{w as l,x as n}from"./element-lib.js?v=1714377894636";import{_ as m}from"./index85.js?v=1714377894636";import{_ as i}from"./index46.js?v=1714377894636";import{e as c,v as p,b as u,h as f,j as g}from"./vue-lib.js?v=1714377894636";import{o as d}from"./confirm.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./config.js?v=1714377894636";import"./index.vue_vue_type_style_index_0_lang.js?v=1714377894636";const _=t(c({__name:"SafeScanAlert",setup(t,{expose:o}){const{refs:{authType:r}}=s(),{proxy:l}=g(),n=p({cycle:0,channel:[],status:!1}),m=u(),i=u(!1),c=async(s=!1)=>{const{data:a}=await e();n.cycle=a.cycle,n.channel=a.channel.split(","),n.status=!!a.status,s&&l.$message.success("刷新成功")},_=async()=>{if("ltd"!==r.value)return l.$message.error("抱歉！该功能为企业版专享功能！");n.channel=n.channel.filter((s=>s)),n.channel.join(",")||!n.status?d({$refs:m.value,loading:i,request:async()=>await a({day:n.cycle,channel:n.channel.join(","),status:n.status?1:0}),complete:c}):l.$message.error("请选择告警方式")};return o({onConfirm:_}),f((()=>{c()})),{__sfc:!0,authType:r,vm:l,msgForm:n,safeScanForm:m,giveFormDisabled:i,getSafeScanConfig:c,onConfirm:_}}}),(function(){var s=this,e=s._self._c,a=s._self._setupProxy;return e("div",{staticClass:"p-20x"},[e(l,{ref:"safeScanForm",attrs:{model:a.msgForm,disabled:a.giveFormDisabled}},[e(n,{attrs:{label:"自动扫描"}},[e(i,{model:{value:a.msgForm.status,callback:function(e){s.$set(a.msgForm,"status",e)},expression:"msgForm.status"}})],1),e(n,{attrs:{label:"周期",prop:"cycle"}},[e(m,{staticClass:"!w-[14rem]",attrs:{min:0,type:"number",textType:"天"},model:{value:a.msgForm.cycle,callback:function(e){s.$set(a.msgForm,"cycle",e)},expression:"msgForm.cycle"}})],1),e(n,{attrs:{label:"告警方式",prop:"give"}},[e(r,{model:{value:a.msgForm.channel,callback:function(e){s.$set(a.msgForm,"channel",e)},expression:"msgForm.channel"}})],1)],1),e("div",{staticClass:"tip"},[e("ul",[e("li",[s._v(" 点击配置后状态未更新，尝试点击【 "),e(o,{on:{click:function(s){return a.getSafeScanConfig(!0)}}},[s._v("手动刷新")]),s._v(" 】 ")],1)])])],1)}),[],!1,null,"90b5c4ba",null,null).exports;export{_ as default};

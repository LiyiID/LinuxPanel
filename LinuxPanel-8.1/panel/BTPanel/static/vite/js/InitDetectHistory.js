import{_ as t}from"./index52.js?v=1714377894636";import{_ as e}from"./index39.js?v=1714377894636";import{_ as a}from"./index59.js?v=1714377894636";import{e as o,b as i,v as r,h as s,j as p}from"./vue-lib.js?v=1714377894636";import{g as l,cM as n,cN as m,J as u,n as c}from"./main.js?v=1714377894636";import{getFirewallStore as d}from"./firewall.store.js?v=1714377894636";import{c as g}from"./check.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import{j as f}from"./firewall.table.js?v=1714377894636";import{b as j}from"./firewall.popup.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./element-lib.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./index46.js?v=1714377894636";import"./index.vue_vue_type_style_index_0_lang.js?v=1714377894636";import"./index38.js?v=1714377894636";import"./index45.js?v=1714377894636";const _=c(o({__name:"InitDetectHistory",props:{compData:{default:()=>{}}},setup(t){const e=t,{proxy:a}=p(),{refs:{loading:o}}=d(),{refs:{mainHeight:c}}=l(),_=i(),h=i(1),y=i(0),x=r({p:1,limit:20}),v=t=>{j(t)},b=t=>{window.open("/project/content/report/html?id="+t.testing_id)},w=f({showHistoryDetails:v,openHistoryReport:b}),D=async(t=1)=>{try{let a;o.value=!0,a=e.compData.isPopup?await n({site_name:e.compData.name,...x,p:t}):await m({...x,p:t}),_.value=g(a.data.data,"array",[]),y.value=u(a.data.page)}catch(a){}finally{o.value=!1}};return s((()=>{D()})),{__sfc:!0,vm:a,props:e,loading:o,mainHeight:c,getData:_,currentPage:h,completedTotal:y,tableParam:x,showHistoryDetails:v,openHistoryReport:b,tableColumn:w,pageChange:t=>{x.limit=t,D()},currentListPage:D}}}),(function(){var o,i=this,r=i._self._c,s=i._self._setupProxy;return r(a,{class:{"p-20x":null==(o=i.compData)?void 0:o.isPopup},scopedSlots:i._u([{key:"content",fn:function(){var t;return[r(e,{directives:[{name:"loading",rawName:"v-loading",value:s.loading,expression:"loading"}],ref:"table",attrs:{column:s.tableColumn,data:s.getData,height:(null==(t=i.compData)?void 0:t.isPopup)?500:"auto","max-height":s.mainHeight-224,description:"检测历史列表为空","element-loading-text":"正在加载检测历史列表，请稍后..."}})]},proxy:!0},{key:"footer-right",fn:function(){return[r(t,{attrs:{total:s.completedTotal,"current-page":s.currentPage,"page-size":s.tableParam.limit},on:{"size-change":s.pageChange,"current-change":s.currentListPage}})]},proxy:!0},{key:"popup",fn:function(){},proxy:!0}])})}),[],!1,null,null,null,null).exports;export{_ as default};

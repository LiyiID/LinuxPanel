import{z as a,b as t,v as s,c as e}from"./vue-lib.js?v=1714377894636";import{I as c,o,ae as d,af as m,J as p,ag as l,ah as b}from"./main.js?v=1714377894636";import{c as r}from"./check.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";const g=a=>c.post("database/add_database_types",{data:a,check:"msg"}),n=a=>c.post("database/delete_database_types",{data:a,check:"msg"}),h=a=>c.post("database/update_database_types",{data:a,check:"msg"}),i=a=>c.post("database/set_database_type_by_name",{data:a,check:"msg"}),k=a=>c.post("database/AddDatabase",{data:a,check:"msg"}),y=a=>c.post("database/SetupPassword",{data:a,check:"msg"}),u=a=>c.post("database/GetDatabaseAccess",{data:a,check:"msg"}),_=(a,t)=>c.post("database/".concat(t,"/GetDatabaseAccess"),{data:a,check:"msg",customType:"model"}),T=a=>c.post("database/SetDatabaseAccess",{data:a,check:"msg"}),S=a=>c.post("/database/pgsql/modify_pgsql_listen_ip",{data:a,check:"msg",customType:"model"}),q=(a,t)=>c.post("database/".concat(t,"/SetDatabaseAccess"),{data:a,check:"msg",customType:"model"}),D=a=>c.post("database/GetInfo",{data:a,check:"ignore"}),v=a=>c.post("database/ReTable",{data:a,check:"msg"}),f=a=>c.post("database/OpTable",{data:a,check:"msg"}),j=a=>c.post("database/AlTable",{data:a,check:"msg"}),w=a=>c.post("database/ResDatabasePassword",{data:a,check:"msg"}),A=a=>c.post("database/check_del_data",{data:a,check:"ignore"}),C=a=>c.post("database/ToBackup",{data:a,check:"msg"}),G=a=>c.post("database/DelBackup",{data:a,check:"msg"}),L=(a,t)=>c.post("database/SyncToDatabases&type=".concat(t),{data:a,check:"msg"}),B=a=>c.post("database/SyncGetDatabases",{data:a,check:"msg"}),I=(a,t)=>t?c.post("database/".concat(t,"/DeleteDatabase"),{data:a,check:"msg",customType:"model"}):c.post("database/DeleteDatabase",{data:a,check:"msg"}),P=a=>c.post("database/InputSql",{data:a,check:"msg"}),x=a=>c.post("/database/mongodb/InputSql",{data:a,check:"msg",customType:"model"}),M=a=>c.post("/database/pgsql/InputSql",{data:a,check:"msg",customType:"model"}),R=()=>c.post("project/binlog/get_binlog_status",{customType:"model",check:"ignore"}),O=a=>c.post("project/binlog/get_backup",{data:a,customType:"model",check:"ignore"}),z=a=>c.post("project/binlog/export_time_database",{data:a,customType:"model",check:"ignore"}),F=a=>c.post("crontab/StartTask",{data:a,check:"msg"}),E=a=>c.post("project/binlog/restore_time_database",{data:a,customType:"model",check:"ignore"}),H=a=>c.post("crontab/GetLogs",{data:a,check:"msg"}),J=a=>c.post("project/binlog/get_increment_crontab",{data:a,check:"ignore",customType:"model"}),N=a=>c.post("crontab/DelCrontab",{data:a,check:"msg"}),K=a=>c.post("data/getKey",{data:a,check:"string"}),Q=a=>c.post("database/AddCloudServer",{data:a,check:"msg"}),V=a=>c.post("database/RemoveCloudServer",{data:a,check:"msg"}),Y=a=>c.post("database/ModifyCloudServer",{data:a,check:"msg"}),U=()=>c.post("project/binlog/get_databases",{customType:"model",check:"ignore"}),W=(a,t)=>c.post("database/".concat(t,"/GetCloudServer"),{customType:"model",data:a}),X=(a,t)=>c.post("database/".concat(t,"/get_list"),{customType:"model",data:a,check:"ignore"}),Z=(a,t)=>c.post("database/".concat(t,"/GetInfo"),{customType:"model",data:a,check:"ignore"}),$=a=>c.post("database/ModifyTableComment",{data:a,check:"msg"}),aa=a=>c.post("database/export_table_structure",{data:a,check:"msg"}),ta=(a,t)=>c.post("database/".concat(t,"/SyncToDatabases"),{customType:"model",data:a,check:"msg"}),sa=(a,t)=>c.post("database/".concat(t,"/ResDatabasePassword"),{customType:"model",data:a,check:"msg"}),ea=(a,t)=>c.post("database/".concat(t,"/AddDatabase"),{customType:"model",data:{data:JSON.stringify(a)},check:"msg"}),ca=(a,t)=>c.post("database/".concat(t,"/check_del_data"),{data:a,customType:"model",check:"ignore"}),oa=(a,t)=>c.post("database/".concat(t,"/SyncGetDatabases"),{customType:"model",data:a,check:"msg"}),da=a=>c.post("database/".concat(a,"/get_root_pwd"),{customType:"model",check:"msg"}),ma=(a,t)=>c.post("database/".concat(t,"/set_root_pwd"),{customType:"model",data:a,check:"msg"}),pa=(a,t)=>c.post("database/".concat(t,"/AddCloudServer"),{customType:"model",data:a,check:"msg"}),la=(a,t)=>c.post("database/".concat(t,"/RemoveCloudServer"),{customType:"model",data:a,check:"msg"}),ba=(a,t)=>c.post("database/".concat(t,"/ModifyCloudServer"),{customType:"model",data:a,check:"msg"}),ra=()=>c.post("database/mongodb/get_root_pwd",{customType:"model"}),ga=a=>c.post("database/mongodb/set_auth_status",{customType:"model",data:a,check:"msg"}),na=a=>c.post("database/CheckDatabaseStatus",{data:a,check:"msg"}),ha=(a,t)=>c.post("database/".concat(t,"/CheckDatabaseStatus"),{customType:"model",data:a,check:"msg"}),ia=(a,t)=>c.post("database/".concat(t,"/ToBackup"),{customType:"model",data:a,check:"msg"}),ka=()=>c.post("site/GetPHPVersion"),ya=()=>c.post("ajax/get_phpmyadmin_ssl",{check:"ignore"}),ua=a=>c.post("ajax/set_phpmyadmin_ssl",{data:a,check:"msg"}),_a=a=>c.post("ajax/change_phpmyadmin_ssl_port",{data:a,check:"msg"}),Ta=a=>c.post("ajax/setPHPMyAdmin",{data:a,check:"msg"}),Sa=a=>c.post("database/sqlite/get_backup_list",{data:a,customType:"model",check:"msg"}),qa=a=>c.post("database/sqlite/ToBackup",{data:a,customType:"model",check:"msg"}),Da=a=>c.post("database/sqlite/DelBackup",{data:a,customType:"model",check:"msg"}),va=a=>c.post("database/sqlite/get_table_list",{data:a,customType:"model",check:"msg"}),fa=a=>c.post("database/sqlite/get_table_info",{data:a,customType:"model",check:"msg"}),ja=a=>c.post("database/sqlite/get_keys_bytable",{data:a,customType:"model",check:"msg"}),wa=a=>c.post("database/sqlite/create_table_data",{data:a,customType:"model",check:"msg"}),Aa=a=>c.post("database/sqlite/update_table_info",{data:a,customType:"model",check:"msg"}),Ca=a=>c.post("database/sqlite/delete_table_data",{data:a,customType:"model",check:"msg"}),Ga=a=>c.post("database/sqlite/query_sql",{data:a,customType:"model",check:"msg"}),La=a=>c.post("database/InputSqlAll",{data:a,check:"msg"}),Ba=a=>c.post("files/DeleteFile",{data:a,check:"msg"}),Ia=a=>c.post("database/ToBackupAll",{data:a,check:"msg"}),Pa=a=>c.post("database/GetAllBackup",{data:a,check:"ignore"}),xa=a=>c.post("database/GetBackupDatabase",{data:a,check:"ignore"}),Ma=a=>c.post("database/GetBackupInfo",{data:a,check:"ignore"}),Ra=a=>c.post("plugin/get_soft_find",{data:a,check:"string"}),Oa=a=>c.post("project/quota/modify_database_quota",{data:{data:a},customType:"model",check:"msg"}),za=a=>c.post("project/quota/recover_database_insert_accept",{customType:"model",data:a,check:"msg"}),Fa=a=>c.post("system/ServiceAdmin",{data:a,check:"msg"}),Ea=a=>c.post("project/binlog/add_mysql_increment_crontab",{data:a,customType:"model",check:"msg"}),Ha=a=>c.post("project/binlog/modify_mysql_increment_crontab",{data:a,customType:"model",check:"msg"}),Ja=a=>c.post("crontab/cloud_backup_download",{data:a}),Na=a=>c.post("data/getData",{data:a}),Ka=a=>c.post("crontab/DelLogs",{data:a,check:"msg"}),Qa=(a,t)=>c.post("database/".concat(t,"/InputSql"),{data:a,check:"msg",customType:"model"}),Va=()=>c.post("database/get_mysql_status",{check:"msg"}),Ya=a("MYSQL-STORE",(()=>{const a=t(!1),g="databases",n=s({search:"",total:0,limit:10,order:"",serverList:[],databaseList:[],historySearch:[],typeList:[]}),h=t([]),i=t(""),k=s({type:"day",week:"1",hour:"1",minute:"30",where1:"1"}),y=s({notice:0,notice_channel:"all"}),u=async(a=1)=>{try{let t={p:a,limit:n.limit,table:g,search:n.search,order:n.order};"number"==typeof i.value?t.sid=i.value:delete t.sid;const{data:s}=o?await d(t):await m(t);n.databaseList=s.data,n.total=p(s.page),n.historySearch=s.search_history.map((({val:a})=>({label:a,value:a})))}catch(t){}},_=async a=>{try{const s=await(t={db_type:a},c.post("database/view_database_types",{data:t,check:"ignore"}));n.typeList=r(s.msg,"array",[])}catch(s){}var t},T=async()=>{try{const a=await l();n.serverList=r(a,"array",[])}catch(a){}},S=e((()=>{var a;const t=[];return n.serverList.length&&(null==(a=n.serverList)||a.forEach((a=>{""===a.id?t.all=a.db_host:t[a.id]="127.0.0.1"===a.db_host?"本地数据库":a.db_host}))),t}));return{mysqlSetup:a,tableName:g,mysqlData:n,getDatabaseType:_,initMysql:()=>{Promise.all([_("mysql"),T(),u()])},getDatabase:u,getServerList:T,mysqlServerType:S,sid:i,timeForm:k,noticeForm:y,msgData:h,getMsgConfig:async()=>{try{const a=await b();let t=[];for(const s in a.data)t.push(a.data[s]);t.unshift({name:"all",title:"全部",data:{name:"all"}}),h.value=t}catch(a){}}}}),{persist:{storage:sessionStorage,paths:["mysqlData"]}}),Ua=Object.freeze(Object.defineProperty({__proto__:null,mysqlStore:Ya},Symbol.toStringTag,{value:"Module"}));export{Fa as $,la as A,C as B,T as C,I as D,u as E,A as F,ea as G,Da as H,Sa as I,Ca as J,fa as K,va as L,da as M,ja as N,Ga as O,Aa as P,wa as Q,w as R,L as S,k as T,na as U,ha as V,y as W,ka as X,Ta as Y,ya as Z,_a as _,W as a,ua as a0,Q as a1,pa as a2,Y as a3,ba as a4,xa as a5,Ma as a6,Ba as a7,La as a8,Pa as a9,h as aA,Ua as aB,Ia as aa,B as ab,oa as ac,x as ad,M as ae,P as af,Qa as ag,Ja as ah,G as ai,Na as aj,Ka as ak,H as al,E as am,z as an,F as ao,N as ap,O as aq,R as ar,U as as,J as at,Oa as au,za as av,Ha as aw,Ea as ax,n as ay,g as az,Ra as b,Va as c,K as d,ta as e,ia as f,X as g,ma as h,ca as i,sa as j,_ as k,q as l,Ya as m,ga as n,ra as o,f as p,j as q,v as r,i as s,D as t,Z as u,$ as v,aa as w,S as x,qa as y,V as z};

import{n as e,q as r}from"./main.js?v=1714377894636";import{_ as o}from"./index85.js?v=1714377894636";import{w as t,x as s}from"./element-lib.js?v=1714377894636";import{e as a,v as m,b as l,j as i}from"./vue-lib.js?v=1714377894636";import{g as c}from"./docker.store.js?v=1714377894636";import{a1 as p}from"./docker.api.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./check.js?v=1714377894636";const d=e(a({__name:"AddStorageDialog",setup(e,{expose:r}){const{proxy:o}=i(),t=o.$root,{getSList:s}=c(),a=m({name:"",driver:"local",driver_opts:"",labels:"",remark:""}),d=l(!1),n=l(),u=l(!1),f={name:[{validator:(e,r,o)=>{""===r?o(new Error("请输入卷名")):o()},trigger:["blur"]}]},b=async()=>{let e=null;try{await o.$refs.cmdFormRef.validate((async r=>{if(r){e=t.loading(u,"正在添加,请稍候...");const r=await p({data:JSON.stringify(a)});r.status?(o.$emit("close"),s(),o.$message.success(r.msg)):(e.close(),o.$message.error(r.msg))}}))}catch(r){e.close&&e.close()}};return r({onConfirm:b}),{__sfc:!0,vm:o,popupVm:t,getSList:s,cmdForm:a,more:d,cmdFormRef:n,formDisabled:u,cmdRules:f,onConfirm:b}}}),(function(){var e=this,a=e._self._c,m=e._self._setupProxy;return a("div",{staticClass:"flex flex-col p-16x lib-box"},[a(t,{ref:"cmdFormRef",staticClass:"relative w-full",attrs:{size:"small",model:m.cmdForm,rules:m.cmdRules,disabled:m.formDisabled,"label-position":"right"},nativeOn:{submit:function(e){e.preventDefault()}}},[a(s,{staticStyle:{"margin-bottom":"1.5rem"},attrs:{prop:"name",label:"卷名"}},[a(o,{attrs:{width:"35rem",placeholder:"请输入卷名"},model:{value:m.cmdForm.name,callback:function(r){e.$set(m.cmdForm,"name",r)},expression:"cmdForm.name"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:m.more,expression:"more"}]},[a(s,{attrs:{prop:"path",label:"选项"}},[a(o,{attrs:{type:"textarea",width:"35rem",placeholder:"选项"},model:{value:m.cmdForm.driver_opts,callback:function(r){e.$set(m.cmdForm,"driver_opts",r)},expression:"cmdForm.driver_opts"}})],1),a(s,{attrs:{prop:"path",label:"标签"}},[a(o,{attrs:{type:"textarea",width:"35rem",placeholder:"存储券标签，一行一个，例：key=value"},model:{value:m.cmdForm.labels,callback:function(r){e.$set(m.cmdForm,"labels",r)},expression:"cmdForm.labels"}})],1)],1),a(s,{attrs:{prop:"path",label:"备注"}},[a(o,{attrs:{type:"textarea",width:"35rem",placeholder:"备注"},model:{value:m.cmdForm.remark,callback:function(r){e.$set(m.cmdForm,"remark",r)},expression:"cmdForm.remark"}})],1),a(r,{staticClass:"!mt-[1rem] !ml-[8.6rem]",attrs:{title:"更多设置",type:"text"},on:{click:function(e){m.more=!m.more}}},[a("i",{class:m.more?"el-icon-arrow-up":"el-icon-arrow-down"}),e._v(" "+e._s(m.more?"收回更多":"更多设置")+" ")])],1)],1)}),[],!1,null,"38994dee",null,null).exports;export{d as default};

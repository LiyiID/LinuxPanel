import{w as s,x as a,q as e,s as r}from"./element-lib.js?v=1714377894636";import{n as t}from"./main.js?v=1714377894636";import{e as l,b as o,v as i,w as m,j as p}from"./vue-lib.js?v=1714377894636";import{m as u,ab as n,ac as d}from"./mysql.store.js?v=1714377894636";import{o as c}from"./confirm.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import{g as f}from"./index28.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./check.js?v=1714377894636";import"./config.js?v=1714377894636";import"./index77.js?v=1714377894636";import"./index42.js?v=1714377894636";const v=t(l({__name:"AcquireToServer",props:{compData:{type:Array,default:()=>[]}},setup(s,{expose:a}){const e=s,{getDatabase:r}=u(),{refs:{tabActive:t,tableParam:l},getDatabase:v}=f(),{proxy:b}=p(),j=o(!1),y=o(),_=o(0),x=i({}),g=o(),q=async()=>{c({$refs:g.value,loading:j,request:async()=>"mysql"==t.value?await n({sid:String(_.value)}):await d({data:JSON.stringify({sid:Number(_.value)})},t.value),async complete(){"mysql"==t.value?await r():await v()}})};return m((()=>{var s;y.value="mysql"==t.value?e.compData:l.value.serverList||[],y.value=y.value.filter((s=>""!==s.id)),_.value=null==(s=y.value[0])?void 0:s.id})),a({onConfirm:q}),{__sfc:!0,getDatabase:r,tabActive:t,tableParam:l,getModulesDatabase:v,props:e,vm:b,formDisabled:j,addressOptions:y,addressValue:_,syncForm:x,syncFormRef:g,acquireToServer:q}}}),(function(){var t=this,l=t._self._c,o=t._self._setupProxy;return l("div",{staticClass:"p-16x"},[l(s,{ref:"syncFormRef",attrs:{disabled:o.formDisabled,model:o.syncForm}},[l(a,{attrs:{label:"数据库位置"}},[l(e,{staticClass:"w-[30rem]",model:{value:o.addressValue,callback:function(s){o.addressValue=s},expression:"addressValue"}},t._l(o.addressOptions,(function(s,a){return l(r,{key:a,attrs:{value:s.id,label:s.ps+"（服务器地址："+s.db_host+"）"}})})),1)],1)],1)],1)}),[],!1,null,"84684884",null,null).exports;export{v as default};

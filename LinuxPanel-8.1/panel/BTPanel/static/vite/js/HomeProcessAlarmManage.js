import{_ as e}from"./index39.js?v=1714377894636";import{bZ as t,b_ as a,l as s,b$ as i,n,q as o}from"./main.js?v=1714377894636";import{_ as l}from"./index59.js?v=1714377894636";import{_ as r}from"./preload-helper.js?v=1714377894636";import{b as m,e as c,v as p,h as d,j as u}from"./vue-lib.js?v=1714377894636";import{a as _,e as g}from"./index38.js?v=1714377894636";import{i as f}from"./locales-lib.js?v=1714377894636";import{a as b}from"./confirm.js?v=1714377894636";import"./element-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./index45.js?v=1714377894636";import"./config.js?v=1714377894636";const h=new Map([["wx_account","微信公众号"],["feishu","飞书"],["mail","邮箱"],["sms","短信通知"],["dingding","钉钉"],["weixin","企业微信"]]),y=e=>e.module.split(",").map((e=>h.get(e))).join(",");const j=n(c({__name:"HomeProcessAlarmManage",setup(e){const{proxy:n}=u(),o=e=>{w(!0,e)},l=async e=>{await n.$confirm({title:"删除告警任务",useHtml:!0,icon:"warning",iconColor:"#fc6d26",message:"删除后将不再告警此条任务，是否继续？"});let a=n.$load(n.$t("正在删除告警任务，请稍后..."));try{const{data:a}=await t({id:e.id,name:e.module_type});n.$message.request(a),await x()}catch(s){}finally{a.close()}},c=async e=>{const t=e.status,s=e.title;await b({confirm:{icon:"warning",title:(t?"停用":"启用")+"告警任务【"+s+"】",width:"35rem",message:"".concat(t?"停用":"启用","选中的告警任务后，该告警任务将").concat(t?"停止":"开启","告警，是否继续操作？")},loading:"正在设置告警状态，请稍后...",request:async()=>await a({name:e.module_type,id:e.id,status:t?0:1})}),await x()},h=(({changeStatusEvent:e,edit:t,deleteRow:a})=>m([{label:"标题",prop:"title"},_({event:e,width:80,data:[f.t("Deactivated"),f.t("Enabled")]}),{label:"告警方式",width:80,render:e=>""==y(e)?e.module:y(e)},{label:"告警条件",render:e=>{const t=e.view_msg.match(/<span>(.*?)<\/span>/);return t?t[1]:""}},g([{title:"编辑",onClick:t},{title:"删除",onClick:a}])]))({edit:o,deleteRow:l,changeStatusEvent:c}),j=p({loading:!0,list:[],total:0}),w=(e,t)=>{let a={isAsync:!0,title:"进程告警",area:["80"],btn:["保存","取消"],component:()=>r((()=>import("./index115.js?v=1714377894636")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]),import.meta.url),compData:{isEdit:e,row:t||{},diyProcessTemplate:!0,diyProcessTemplateTid:["task_manager_push@0","task_manager_push@1","task_manager_push@2"],getList:async()=>{await x()}}};if(e)s(a);else{let{btn:e,...t}=a;s(t)}},x=async()=>{const{data:e}=await i();if(j.list=[],Object.keys(e).includes("task_manager_push")&&"object"==typeof e.task_manager_push&&Object.keys(e.task_manager_push).length>0){for(const t in e.task_manager_push)e.task_manager_push[t].id=t,j.list.push(e.task_manager_push[t]);j.loading=!1}else w(!1),j.loading=!1};return d((async()=>{await x()})),{__sfc:!0,vm:n,edit:o,deleteRow:l,changeStatusEvent:c,tableColumn:h,processTableData:j,openProcessAlarm:w,init:x}}}),(function(){var t=this,a=t._self._c,s=t._self._setupProxy;return a("div",{staticClass:"p-[2rem]"},[a(l,{scopedSlots:t._u([{key:"header-left",fn:function(){return[a("div",{staticClass:"flex items-center"},[a(o,{on:{click:function(e){return s.openProcessAlarm(!1)}}},[t._v("添加进程告警")])],1)]},proxy:!0},{key:"content",fn:function(){return[a(e,{directives:[{name:"loading",rawName:"v-loading",value:s.processTableData.loading,expression:"processTableData.loading"}],ref:"ftpTable",attrs:{column:s.tableColumn,data:s.processTableData.list,description:"告警列表为空","max-height":"400","element-loading-text":"正在加载告警列表，请稍后..."},on:{"selection-change":function(e){}}})]},proxy:!0}])})],1)}),[],!1,null,"6d08b4c5",null,null).exports;export{j as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index115.js?v=1714377894636","./element-lib.js?v=1714377894636","./__commonjsHelpers__.js?v=1714377894636","./vue-lib.js?v=1714377894636","./public-lib.js?v=1714377894636","./main.js?v=1714377894636","./modulepreload-polyfill.js?v=1714377894636","./preload-helper.js?v=1714377894636","./request-lib.js?v=1714377894636","./locales-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./index40.js?v=1714377894636","./element-lib.js?v=1714377894636","./config.js?v=1714377894636","./element-lib.js?v=1714377894636","./index117.js?v=1714377894636","./radio-button.js?v=1714377894636","./element-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./cascader.js?v=1714377894636","./cascader-panel.js?v=1714377894636","./index62.js?v=1714377894636","./config.store.js?v=1714377894636","./config.api.js?v=1714377894636"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}

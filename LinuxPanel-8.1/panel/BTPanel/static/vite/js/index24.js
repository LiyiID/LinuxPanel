import{_ as e}from"./index52.js?v=1714377894636";import{_ as t}from"./index53.js?v=1714377894636";import{g as a,e as s,n as o,a as l}from"./main.js?v=1714377894636";import{_ as n}from"./index39.js?v=1714377894636";import{_ as i}from"./index54.js?v=1714377894636";import{_ as r}from"./index55.js?v=1714377894636";import{_ as m}from"./index57.js?v=1714377894636";import{L as c,q as u,s as p}from"./element-lib.js?v=1714377894636";import{_ as d}from"./index43.js?v=1714377894636";import{_ as h}from"./index58.js?v=1714377894636";import{_ as f}from"./index59.js?v=1714377894636";import{e as g,b as v,h as b,v as x,j}from"./vue-lib.js?v=1714377894636";import"./index45.js?v=1714377894636";import{_}from"./index60.js?v=1714377894636";import{c as y}from"./check.js?v=1714377894636";import{i as P,g as S}from"./site.store.js?v=1714377894636";import{I as C,J as T,N as k,c as w,g as I,K as L}from"./site.popup.js?v=1714377894636";import{s as N}from"./site.method.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./index38.js?v=1714377894636";import"./element-ui.common.js?v=1714377894636";import"./date-util.js?v=1714377894636";import"./vdom.js?v=1714377894636";import"./index62.js?v=1714377894636";import"./cascader-panel.js?v=1714377894636";import"./confirm.js?v=1714377894636";import"./config.js?v=1714377894636";const O=o(g({__name:"environmentalDetection",setup(e){const{getPublicConfigInfo:t}=a(),o=v(!1),l=async()=>{var e,a;let s=y(null==(e=JSON.parse(sessionStorage.getItem("BT-CONFIG")||"{}"))?void 0:e.web,"object",{});s.hasOwnProperty("setup")&&!s.setup&&(t(),s=null==(a=JSON.parse(sessionStorage.getItem("BT-CONFIG")||"{}"))?void 0:a.web),s.hasOwnProperty("setup")&&!s.setup&&(o.value=!0)};return b((async()=>{l()})),{__sfc:!0,getPublicConfigInfo:t,maskLayer:o,openInstall:async e=>{const{data:t}=await P({sName:e.name});if("-1"===t.task)return vm.$message.error("当前插件正在安装，不可重复安装");s({name:null==t?void 0:t.name,type:null==t?void 0:t.type,pluginInfo:t})},checkInstall:l}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(_,{attrs:{visible:a.maskLayer,width:"38rem"}},[t("div",{staticClass:"flex items-center"},[t("span",[e._v("未安装运行环境，")]),t(l,{staticClass:"!font-bold !text-[1.4rem]",on:{click:function(e){return a.openInstall({name:"nginx"})}}},[e._v("安装Nginx")]),t(c,{attrs:{direction:"vertical"}}),t(l,{staticClass:"!font-bold !text-[1.4rem]",on:{click:function(e){return a.openInstall({name:"apache"})}}},[e._v("安装Apache")])],1)])}),[],!1,null,"c925a620",null,null).exports;const B=o(g({__name:"index",setup(e){const{proxy:t}=j(),{refs:{modulesTableParams:a},getModulesList:s,getModulesTypeList:o}=S(),l=v(!1),n=x({isRecurrence:!1,describe:{title:"",th:"",message:"",propsValue:""}}),i=[{content:"添加HTML项目",active:!0,event:()=>{T()}}],r=v([]),m=v([{label:"设置分类",value:"settingClass",isRefBatch:!0},{label:"删除项目",value:"delHtmlSite",isRefBatch:!0}]),c=C({changeTaskTopEvent:e=>{},changeStatusEvent:e=>{},setQuotaEvent:e=>{},openBackupEvent:e=>{},deleteEvent:e=>{N.delProject(e,{},"html",!1)},openPlugin:e=>{},openTotalFlow:e=>{},openSetting:(e,t)=>{L(e,t)}});return b((async()=>{await s("html"),await o("html")})),{__sfc:!0,vm:t,modulesTableParams:a,getModulesList:s,getModulesTypeList:o,hovering:l,batchConfig:n,tableBtnGroup:i,checkedList:r,batchGroup:m,handleSerach:e=>{a.value.search=e,void 0===e&&(a.value.search=""),s("html")},handleSelectionChange:e=>{r.value=e},handleBatch:e=>{switch(e){case"settingClass":I(r.value,"html");break;case"delHtmlSite":N.delProject({},r.value,"html",!0)}},changePage:e=>{a.value.p=e,s("html")},changeSize:e=>{var t;a.value.limit=e;let o=JSON.parse(null!=(t=localStorage.getItem("siteOtherPageLimit"))?t:"{}");o.html=e,localStorage.setItem("siteOtherPageLimit",JSON.stringify(o)),s("html")},tableColumns:c,EnvironmentalDetection:O,htmlAddSiteDialog:T,NPSDialog:k,classSettingDialog:w}}}),(function(){var a=this,s=a._self._c,o=a._self._setupProxy;return s("div",[s(o.EnvironmentalDetection),s(f,{scopedSlots:a._u([{key:"header-left",fn:function(){return[s("div",{staticClass:"flex items-center"},[s(h,{attrs:{group:o.tableBtnGroup}}),s(d,{staticClass:"ml-12x inline-block",attrs:{icon:"demand",iconClass:"text-1.6rem",content:"需求反馈"},on:{click:function(e){return o.NPSDialog()}}})],1)]},proxy:!0},{key:"header-right",fn:function(){return[s("div",{staticClass:"flex items-center"},[s(u,{staticClass:"mr-8x w-[12rem]",on:{change:function(e){return o.getModulesList("html")}},model:{value:o.modulesTableParams.type_id,callback:function(e){a.$set(o.modulesTableParams,"type_id",e)},expression:"modulesTableParams.type_id"}},[s("div",{staticClass:"max-h-[20rem] overflow-auto",class:{"no-hover":o.hovering}},a._l(o.modulesTableParams.typeList,(function(e,t){return s(p,{key:t,attrs:{label:e.name,value:e.id}})})),1),s("div",{staticClass:"classify-item",on:{click:function(e){return o.classSettingDialog("html")},mouseover:function(e){o.hovering=!0},mouseout:function(e){o.hovering=!1}}},[a._v(" 分类设置 ")])])],1),s("div",{staticClass:"relative"},[s(m,{attrs:{placeholder:a.$t("SitePhpModel.TableSearch"),width:"40rem"},on:{search:o.handleSerach,clear:o.handleSerach},model:{value:o.modulesTableParams.search,callback:function(e){a.$set(o.modulesTableParams,"search",e)},expression:"modulesTableParams.search"}})],1),s(r,{staticClass:"!ml-8x",attrs:{refresh:()=>{o.getModulesList("html")}}}),s(i,{staticClass:"ml-8x",attrs:{name:"siteHtmlTable",column:o.tableColumns}})]},proxy:!0},{key:"content",fn:function(){return[s(n,{directives:[{name:"loading",rawName:"v-loading",value:o.modulesTableParams.loading,expression:"modulesTableParams.loading"}],ref:"siteHtmlTable",attrs:{"element-loading-text":"正在加载中...",data:o.modulesTableParams.list,column:o.tableColumns},on:{"selection-change":o.handleSelectionChange},scopedSlots:a._u([{key:"empty",fn:function(){return[s("div",{staticClass:"flex items-center justify-center"},[a._v(" 您的列表为空，您可以 "),s(l,{on:{click:function(e){return o.htmlAddSiteDialog()}}},[a._v("添加一个项目")])],1)]},proxy:!0}])})]},proxy:!0},{key:"footer-left",fn:function(){return[s(t,{attrs:{data:o.batchGroup,config:o.batchConfig,"batch-fn":()=>{}},on:{"handle-batch":o.handleBatch}})]},proxy:!0},{key:"footer-right",fn:function(){return[s(e,{attrs:{total:o.modulesTableParams.total,"current-page":o.modulesTableParams.p,"page-size":o.modulesTableParams.limit},on:{"current-change":o.changePage,"size-change":o.changeSize}})]},proxy:!0}])})],1)}),[],!1,null,"70489f30",null,null).exports;export{B as default};

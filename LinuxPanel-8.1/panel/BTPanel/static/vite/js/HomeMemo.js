import{bG as e,bH as a,n as t,q as s}from"./main.js?v=1714377894636";import{_ as o}from"./index120.js?v=1714377894636";import{e as i,b as r,h as l,j as m}from"./vue-lib.js?v=1714377894636";import{g as n}from"./home.store.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./element-lib.js?v=1714377894636";const c=t(i({__name:"HomeMemo",setup(t,{expose:s}){const{proxy:o}=m(),{getOverviewData:i}=n(),c=r(),p=r(""),d=r("/www/server/panel/data/memo.txt"),f=r({mode:"ace/mode/nginx",theme:"ace/theme/chrome",wrap:!0,showInvisibles:!1,showFoldWidgets:!1,useSoftTabs:!0,tabSize:2,showPrintMargin:!1,readOnly:!1,fontSize:"12px"}),u=()=>{i()},v=async()=>{try{const e=await a();p.value=e}catch(e){}};return l((()=>{v()})),s({onCancel:u}),{__sfc:!0,vm:o,getOverviewData:i,aceEditor:c,data:p,path:d,config:f,saveFile:async()=>{try{const a=o.$load("正在保存备忘录，请稍后..."),t=await e({path:d.value,data:p.value,encoding:"utf-8"});a.close(),o.$message.request(t),t.status&&i()}catch(a){}},onCancel:u,getMemoData:v}}}),(function(){var e=this,a=e._self._c,t=e._self._setupProxy;return a("div",{staticClass:"flex flex-col p-[2rem] h-[100%]"},[a("div",{staticClass:"text-[#666] h-[2rem] leading-[2rem] mb-[1rem]"},[e._v("提示：Ctrl+S 保存")]),a("div",{staticClass:"flex-1 border-[#eee] border-[0.1rem]"},[a(o,{ref:"aceEditor",attrs:{id:"memo-file",filePath:t.path,config:t.config,isRequest:!1},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}})],1),a("div",{staticClass:"mt-[1rem] flex justify-end"},[a(s,{staticClass:"h-[3.2rem] px-12x",on:{click:t.saveFile}},[e._v("保存")])],1)])}),[],!1,null,"cf83157a",null,null).exports;export{c as default};

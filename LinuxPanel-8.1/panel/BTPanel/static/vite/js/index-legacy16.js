!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function a(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?t(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(t,a,n){var r;return r=function(t,a){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,a||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(a,"string"),(a="symbol"==e(r)?r:String(r))in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return a};var t,a={},n=Object.prototype,s=n.hasOwnProperty,i=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function p(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,a){return e[t]=a}}function f(e,t,a,n){var r=t&&t.prototype instanceof x?t:x,s=Object.create(r.prototype),o=new j(n||[]);return i(s,"_invoke",{value:I(e,a,o)}),s}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}a.wrap=f;var d="suspendedStart",v="suspendedYield",h="executing",g="completed",y={};function x(){}function _(){}function w(){}var b={};p(b,l,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C($([])));k&&k!==n&&s.call(k,l)&&(b=k);var S=w.prototype=x.prototype=Object.create(b);function P(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(t,a){function n(r,i,o,l){var c=m(t[r],t,i);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==e(p)&&s.call(p,"__await")?a.resolve(p.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):a.resolve(p).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}var r;i(this,"_invoke",{value:function(e,t){function s(){return new a((function(a,r){n(e,t,a,r)}))}return r=r?r.then(s,s):s()}})}function I(e,a,n){var r=d;return function(s,i){if(r===h)throw new Error("Generator is already running");if(r===g){if("throw"===s)throw i;return{value:t,done:!0}}for(n.method=s,n.arg=i;;){var o=n.delegate;if(o){var l=H(o,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=m(e,a,n);if("normal"===c.type){if(r=n.done?g:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=g,n.method="throw",n.arg=c.arg)}}}function H(e,a){var n=a.method,r=e.iterator[n];if(r===t)return a.delegate=null,"throw"===n&&e.iterator.return&&(a.method="return",a.arg=t,H(e,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var s=m(r,e.iterator,a.arg);if("throw"===s.type)return a.method="throw",a.arg=s.arg,a.delegate=null,y;var i=s.arg;return i?i.done?(a[e.resultName]=i.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,y):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function $(a){if(a||""===a){var n=a[l];if(n)return n.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var r=-1,i=function e(){for(;++r<a.length;)if(s.call(a,r))return e.value=a[r],e.done=!1,e;return e.value=t,e.done=!0,e};return i.next=i}}throw new TypeError(e(a)+" is not iterable")}return _.prototype=w,i(S,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:_,configurable:!0}),_.displayName=p(w,u,"GeneratorFunction"),a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},a.awrap=function(e){return{__await:e}},P(T.prototype),p(T.prototype,c,(function(){return this})),a.AsyncIterator=T,a.async=function(e,t,n,r,s){void 0===s&&(s=Promise);var i=new T(f(e,t,n,r),s);return a.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},P(S),p(S,u,"Generator"),p(S,l,(function(){return this})),p(S,"toString",(function(){return"[object Generator]"})),a.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},a.values=$,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var a in this)"t"===a.charAt(0)&&s.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function n(n,r){return o.type="throw",o.arg=e,a.next=n,r&&(a.method="next",a.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=s.call(i,"catchLoc"),c=s.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),L(a),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;L(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,a,n){return this.delegate={iterator:$(e),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=t),y}},a}function s(e,t,a,n,r,s,i){try{var o=e[s](i),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(n,r)}function i(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){s(i,n,r,o,l,"next",e)}function l(e){s(i,n,r,o,l,"throw",e)}o(void 0)}))}}System.register(["./main-legacy.js?v=1714377894636","./vue-lib-legacy.js?v=1714377894636","./element-lib-legacy.js?v=1714377894636","./tabs-legacy.js?v=1714377894636","./select-legacy.js?v=1714377894636","./card-legacy.js?v=1714377894636","./preload-helper-legacy.js?v=1714377894636","./home.store-legacy.js?v=1714377894636","./col-legacy.js?v=1714377894636","./row-legacy.js?v=1714377894636","./public-lib-legacy.js?v=1714377894636","./home.popup-legacy.js?v=1714377894636","./index-legacy38.js?v=1714377894636","./home.api-legacy.js?v=1714377894636","./tag-legacy.js?v=1714377894636","./index-legacy39.js?v=1714377894636","./collapse-item-legacy.js?v=1714377894636","./collapse-legacy.js?v=1714377894636","./switch-legacy.js?v=1714377894636","./index-legacy40.js?v=1714377894636","./form-item-legacy.js?v=1714377894636","./index-legacy41.js?v=1714377894636","./radio-legacy.js?v=1714377894636","./radio-group-legacy.js?v=1714377894636","./form-legacy.js?v=1714377894636","./confirm-legacy.js?v=1714377894636","./locales-lib-legacy.js?v=1714377894636","./config-legacy.js?v=1714377894636","./software-legacy2.js?v=1714377894636","./progress-legacy.js?v=1714377894636","./__commonjsHelpers__-legacy.js?v=1714377894636","./badge-legacy.js?v=1714377894636","./index-legacy42.js?v=1714377894636","./index-legacy43.js?v=1714377894636","./index-legacy44.js?v=1714377894636","./index-legacy45.js?v=1714377894636","./vdom-legacy.js?v=1714377894636","./index-legacy46.js?v=1714377894636","./autocomplete-legacy.js?v=1714377894636","./modulepreload-polyfill-legacy.js?v=1714377894636","./request-lib-legacy.js?v=1714377894636","./empty-legacy.js?v=1714377894636","./checkbox-group-legacy.js?v=1714377894636","./index.vue_vue_type_style_index_0_lang-legacy.js?v=1714377894636"],(function(t,n){"use strict";var s,o,l,c,u,p,f,m,d,v,h,g,y,x,_,w,b,C,k,S,P,T,I,H,N,L,j,$,D,M,O,E,R,A,B,F,U,G,V,q,z,K,W,X,Z,J,Q,Y,ee,te,ae,ne,re,se,ie,oe,le,ce,ue,pe,fe,me,de,ve,he,ge,ye,xe,_e,we,be,Ce,ke,Se,Pe,Te,Ie,He,Ne,Le,je,$e,De,Me,Oe,Ee,Re,Ae,Be,Fe,Ue,Ge,Ve,qe,ze,Ke,We,Xe,Ze,Je,Qe,Ye,et,tt,at,nt,rt,st,it,ot,lt,ct,ut,pt,ft;return{setters:[function(e){s=e.g,o=e.f,l=e.p,c=e.n,u=e._,p=e.a,f=e.b,m=e.c,d=e.i,v=e.j,h=e.d,g=e.e,y=e.s,x=e.h,_=e.k,w=e.l,b=e.m,C=e.o,k=e.q,S=e.r,P=e.u,T=e.t,I=e.v,H=e.w,N=e.x,L=e.y,j=e.z,$=e.A,D=e.B},function(e){M=e.e,O=e.b,E=e.h,R=e.E,A=e.v,B=e.f,F=e.j,U=e.l,G=e.c,V=e.H,q=e.I,z=e.r,K=e.J},function(e){W=e.p,X=e.q,Z=e.s,J=e.t,Q=e.u,Y=e._,ee=e.v,te=e.w,ae=e.x,ne=e.o,re=e.y,se=e.z,ie=e.A,oe=e.B,le=e.C,ce=e.D,ue=e.E,pe=e.j,fe=e.F,me=e.g,de=e.G,ve=e.f,he=e.H,ge=e.I,ye=e.J,xe=e.r,_e=e.b,we=e.K},null,null,null,function(e){be=e._},function(e){Ce=e.g},null,null,function(e){ke=e.d},function(e){Se=e.c,Pe=e.h,Te=e.s,Ie=e.a,He=e.t,Ne=e.b,Le=e.r,je=e.u,$e=e.d},function(e){De=e.o},function(e){Me=e.s,Oe=e.k,Ee=e.c,Re=e.g,Ae=e.a,Be=e.b,Fe=e.d,Ue=e.e,Ge=e.f,Ve=e.h,qe=e.u,ze=e.i,Ke=e.j,We=e.r,Xe=e.l,Ze=e.m},null,function(e){Je=e._},null,null,null,function(e){Qe=e._},null,function(e){Ye=e._},null,null,null,function(e){et=e.o,tt=e.u,at=e.d},function(e){nt=e.i},function(e){rt=e.s},function(e){st=e.o},null,function(e){it=e.g},null,function(e){ot=e._},function(e){lt=e._},function(e){ct=e._},function(e){ut=e._},function(e){pt=e.r},function(e){ft=e._},null,null,null,null,null,null],execute:function(){var mt=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.recommendShow?t("div",{staticClass:"h-auto"},["ltd"===a.authType?t("div",{staticClass:"advantage-view relative flex items-center",on:{mouseover:function(e){a.limitTimeShow=!0},mouseleave:function(e){a.limitTimeShow=!1}}},[t("div",{staticClass:"absolute left-0 right-0 flex items-center px-16x"},[t("div",{staticClass:"flex items-center text-[1.3rem] mr-[4rem] w-[26.6rem] flex-shrink-0 cursor-pointer",on:{click:a.openProductPayment}},[t(u,{staticClass:"mt-4x w-[7.0rem] h-2rem",attrs:{src:"/vip/vip-ltd-new.svg"}}),t("span",{staticClass:"ml-8x"},[e._v("到期时间：")]),t("span",{staticClass:"text-[#FC6D26]"},[e._v(e._s(a.formatTime(a.authExpirationTime,"yyyy-MM-dd")))]),t(p,{staticClass:"ml-8x",attrs:{size:1.2}},[e._v("续费")])],1),t("div",{staticClass:"advantage-list"},e._l(a.advantageList,(function(a,n){return t("div",{key:n,staticClass:"advantage-item"},[t("i",{class:"svgtofont-free-".concat(a[0],"-icon text-[1.8rem]  mr-[4px] text-[#9e6700]")}),t("span",{staticClass:"text-[#888] text-[1.3rem]"},[e._v(e._s(a[1]))])])})),0)]),t("div",{directives:[{name:"show",rawName:"v-show",value:a.limitTimeShow,expression:"limitTimeShow"}],staticClass:"day-not-display",on:{click:function(e){return a.setRecommendHide(3)}}},[t("i",{staticClass:"el-icon-close"}),t("span",[e._v("近3天不再显示")])])]):"free"===a.authType?t("div",{staticClass:"advantage-view re-ad-bg relative flex items-center",on:{mouseover:function(e){a.limitTimeShow=!0},mouseleave:function(e){a.limitTimeShow=!1}}},[t("div",{staticClass:"absolute left-0 right-0 flex items-center px-16x"},[t("div",{staticClass:"flex items-center"},[t("div",{staticClass:"relative"},[t("i",{staticClass:"svgtofont-free-recommend absolute text-[3.2rem] text-[#ed0000] -top-[3px] -left-[3px]"}),t("button",{staticClass:"product-payment-btn"},[t("span",{staticClass:"ml-[1.2rem text-[1.4rem] cursor-pointer",on:{click:a.openProductPayment}},[e._v(" 立即升级 ")])])]),t(u,{staticClass:"flex flex-shrink-0 w-[10rem] mx-16x",attrs:{src:"/advantage/ltd-privilege.svg"}})],1),t("div",{staticClass:"advantage-list"},e._l(a.advantageList,(function(a,n){return t("div",{key:n,staticClass:"advantage-item"},[t("i",{class:"svgtofont-free-".concat(a[0],"-icon text-[1.8rem] mr-[4px] text-[#9e6700]")}),t("span",{staticClass:"text-[#888] text-[1.3rem]"},[e._v(e._s(a[1]))])])})),0)]),t("div",{directives:[{name:"show",rawName:"v-show",value:a.limitTimeShow,expression:"limitTimeShow"}],staticClass:"day-not-display",on:{click:function(e){return a.setRecommendHide(1)}}},[t("i",{staticClass:"el-icon-close"}),e._v("近24小时不再显示 ")])]):e._e(),t(f,{attrs:{visible:a.showPrivilege,area:96},on:{"update:visible":function(e){a.showPrivilege=e}}},[t("div",{staticClass:"p-24x flex justify-center flex-col items-center"},[t(u,{attrs:{src:"/advantage/privilege-contrast.png"}}),t("div",{staticClass:"flex items-center mt-20x"},[t("div",{staticClass:"flex-col items-center border border-[rgb(221,221,221)] justify-center w-[22rem]"},[t("p",{staticClass:"text-[2rem] text-[#333] font-bold h-[9.4rem] leading-[9.4rem] text-center"},[e._v(" 功能特权 ")]),t("ul",{staticClass:"flex flex-col text-[1.4rem] text-[#666] function-text"},e._l(a.privilegeList,(function(a,n){return t("li",{key:n,staticClass:"px-24x h-[4rem] leading-[4rem]"},[e._v(" "+e._s(a)+" ")])})),0)]),t("div",{staticClass:"flex-col border border-[#FFEFD0] items-center bg-[#fff8eb] justify-center w-[22rem]"},[t("div",{staticClass:"text-[2rem] text-[#333] font-medium h-[9.4rem] leading-[9.4rem] text-center"},[t("p",[t(u,{staticClass:"mr-8x",attrs:{src:"/advantage/privilege-pro.svg"}}),e._v("专业版")],1)]),t("ul",{staticClass:"flex flex-col text-[1.4rem] text-[#666] pro-text"},e._l(a.proPrivilegeList,(function(a,n){return t("li",{key:n,staticClass:"px-24x h-[4rem] leading-[4rem] text-center"},[a?e._e():t("i",{staticClass:"el-icon-close text-[red] text-3xl font-bold"}),a?t("i",{staticClass:"el-icon-check text-[#feaa04] text-3xl font-bold"}):e._e()])})),0)]),e._l(2,(function(n,r){return t("div",{key:r,staticClass:"w-[22rem] bg-[#272a2c] flex-col relative",class:r?"":"border-2 border-[#787878] h-[64.6rem] shadow"},[0===r?t("span",{staticClass:"recommend-left"}):e._e(),t("div",{staticClass:"text-[2rem] flex flex-col justify-center items-center",class:r?" h-[9.4rem]":" h-[11rem]"},[t("div",{staticClass:"text-[#E5A734] flex justify-center font-bold"},[t(u,{staticClass:"mr-8x",attrs:{src:"/advantage/privilege-diamond.svg"}}),t("span",{class:r?"":"linear"},[e._v(e._s(r?"企业运维托管":"企业版"))])],1),t("button",{staticClass:"px-20x py-4x",class:r?"linear text-border privilege-button font-bold":"button-linear privilege-button",on:{click:a.openProductPayment}},[e._v(" 立即购买 ")])]),t("ul",{staticClass:"flex flex-col text-[1.4rem] text-[#666] ltd-text"},[e._l(a.ltdPrivilegeList,(function(a,n){return 0===r?t("li",{key:n},[a?e._e():t("i",{staticClass:"el-icon-close text-[red] text-3xl font-bold"}),a?t("i",{staticClass:"el-icon-check text-[#feaa04] text-3xl font-bold"}):e._e()]):e._e()})),e._l(a.plusPrivilegeList,(function(a,n){return 0!=r?t("li",{key:n},[a?e._e():t("i",{staticClass:"el-icon-close text-[red] text-3xl font-bold"}),a?t("i",{staticClass:"el-icon-check text-[#feaa04] text-3xl font-bold"}):e._e()]):e._e()}))],2)])}))],2)],1)])],1):e._e()},dt=c(M({__name:"HomeRecommend",setup:function(e){var t=s().refs,a=t.authType,n=t.authExpirationTime,r=O(!1),i=O([["time","5分钟极速响应"],["refund","15天无理由退款"],["plunge","30+款付费插件"],["function","20+企业版专享功能"],["certificate","2张SSL商用证书（年付）"],["message","1000条免费短信（年付）"],["group","专享企业服务群（年付）"]]),c=O(["多对一技术支持","全年5次安全排查","5分钟极速响应","30+款付费插件","20+企业版专享功能","1000条免费短信（年付）","2张SSL商用证书（年付）","专享企业服务群（年付）","WAF防火墙","更换授权IP","客服优先响应","15+款付费插件","15天无理由退款"]),u=O([0,0,0,0,0,0,0,0,1,1,1,1,1]),p=O([0,0,1,1,1,1,1,1,1,1,1,1,1]),f=O([1,1,1,1,1,1,1,1,1,1,1,1,1]),m=O(!1),d=O(!0),v=function(){var e=parseInt(localStorage.getItem("HOME-RECOMMEND-HIDE-TIME")||"0");e&&(d.value=e<(new Date).getTime())};return E((function(){v()})),{__sfc:!0,authType:a,authExpirationTime:n,showPrivilege:r,advantageList:i,privilegeList:c,proPrivilegeList:u,ltdPrivilegeList:p,plusPrivilegeList:f,limitTimeShow:m,recommendShow:d,setRecommendHide:function(e){var t=((new Date).getTime()+864e5*e).toString();localStorage.setItem("HOME-RECOMMEND-HIDE-TIME",t),d.value=!1},checkRecommendHide:v,openProductPayment:function(){l({sourceId:141})},formatTime:o}}}),mt,[],!1,null,"e7b52d88",null,null).exports,vt=c(M({__name:"HomeMonitorDataLoad",setup:function(e){return{__sfc:!0}}}),(function(){var e=this._self._c;return this._self._setupProxy,e("div",{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:!0,expression:"true"},{name:"bt-loading",rawName:"v-bt-loading:title",value:"正在获取服务器流量信息，请稍后...",expression:"'正在获取服务器流量信息，请稍后...'",arg:"title"}],staticClass:"h-41.4rem"})}),[],!1,null,"c2ef9ead",null,null).exports,ht=function(e){return e.Net="net",e.Iostat="iostat",e}(ht||{}),gt=M({__name:"HomeMonitor",setup:function(e){var t=R({loader:function(){return be((function(){return n.import("./HomeMonitorData-legacy.js?v=1714377894636")}),void 0,n.meta.url)},loadingComponent:vt}),a=Ce().refs,r=a.refreshTime,s=a.network,i=a.iostat,l=!0,c=F().proxy,u=O(!1),p=O(),f=O(),v=O("net"),h=O("ALL"),g=O(localStorage.getItem("netUnit")||"KB"),y=A({net:{selectList:[],data:{timeList:[],upList:[],downList:[]},info:{up:{label:c.$t("HomeMonitor.Up"),value:"0 B",bgColor:"#F7B851"},down:{label:c.$t("HomeMonitor.Down"),value:"0 B",bgColor:"#52A9FF"},upTotal:{label:c.$t("HomeMonitor.TotalSend"),value:"0 B"},downTotal:{label:c.$t("HomeMonitor.TotalReception"),value:"0 B"}}},iostat:{selectVal:"",selectList:[],data:{timeList:[],readList:[],writeList:[],tipsList:[]},info:{read:{label:c.$t("HomeMonitor.Read"),value:"0 B",bgColor:"#FF4683"},write:{label:c.$t("HomeMonitor.Write"),value:"0 B",bgColor:"#6CC0CF"},second:{label:c.$t("HomeMonitor.SecondReadWrite"),value:"0 ".concat(c.$t("HomeMonitor.Frequency"))},io:{label:c.$t("HomeMonitor.IoDelay"),value:"0 ms",color:"#20a53a"}}}}),x=O([{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!1},{label:"GB/s",value:"GB",disable:!1},{label:"TB/s",value:"TB",disable:!1}]);B(r,(function(){var e,t,a,n;u.value=!1,_(),"iostat"!==v.value?b(s.value,g.value):k(i.value);var r=I("net","data");p.value&&(null===(e=p.value)||void 0===e||null===(t=e.setConfig)||void 0===t||t.call(e,C(r)));var o=I("iostat","data");f.value&&(null===(a=f.value)||void 0===a||null===(n=a.setConfig)||void 0===n||n.call(a,S(o)))}));var _=function(){var e=function(){var e=H(t),a=y[t],n=a.selectList;n.length=0,Object.keys(e).forEach((function(e){if("ALL"==e)return a.selectVal=e,void n.unshift({label:c.$t("HomeMonitor.All"),value:"ALL"});n.push({label:e,value:e})}))};for(var t in y)e()},w=function(e,t){var a=e.up,n=e.down,r=e.upTotal,s=e.downTotal;return{up:m(1024*a,!1,2,t),down:m(1024*n,!1,2,t),upTotal:m(1024*r,!1,2,t),downTotal:m(1024*s,!1,2,t)}},b=function(e,t){var a=I("net").info,n=e[h.value||"ALL"],r=a.up,s=a.down,i=a.upTotal,o=a.downTotal,l=w(n,t);r.value=m(1024*n.up,!0,2,t),s.value=m(1024*n.down,!0,2,t),i.value=m(n.upTotal),o.value=m(n.downTotal);var c=w(n,"MB");if(100*parseFloat(c.down)==0||100*parseFloat(c.down)==0)x.value=[{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!0},{label:"GB/s",value:"GB",disable:!0},{label:"TB/s",value:"TB",disable:!0}];else{var u=w(n,"GB");if(100*parseFloat(u.down)==0||100*parseFloat(u.down)==0)x.value=[{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!1},{label:"GB/s",value:"GB",disable:!0},{label:"TB/s",value:"TB",disable:!0}];else{var p=w(n,"TB");100*parseFloat(p.down)!=0&&100*parseFloat(p.down)!=0||(x.value=[{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!1},{label:"GB/s",value:"GB",disable:!1},{label:"TB/s",value:"TB",disable:!0}])}}P("net",[{key:"timeList"},{key:"upList",value:l.up},{key:"downList",value:l.down}])},C=function(e){return{dataZoom:[],tData:e.timeList,list:[{name:c.$t("HomeMonitor.Up"),data:e.upList,circle:"circle",itemStyle:{color:"#f7b851"},lineStyle:{width:1,color:"#f7b851"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(255, 140, 0, 1)"},{offset:.8,color:"rgba(255, 140, 0, .4)"}]}}},{name:c.$t("HomeMonitor.Down"),data:e.downList,circle:"circle",itemStyle:{color:"#52a9ff"},lineStyle:{width:1,color:"#52a9ff"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(30, 144, 255, 1)"},{offset:.8,color:"rgba(30, 144, 255, .4)"}]}}}],formatter:function(e){for(var t="",a=0;a<e.length;a++){var n=e[a];if(d(n.data))return!1;t+='<span class="inline-block w-[1rem] h-[1rem] mr-[1rem]" style="border-radius: 50%; background: '.concat(n.color,';"></span>').concat(n.seriesName,"：").concat(parseFloat(n.data).toFixed(2)," ").concat(g.value,"/s ").concat(e.length-1!==a?"<br />":"")}return c.$t("HomeMonitor.Time",{content:"".concat(e[0].axisValue,"<br />").concat(t)})}}},k=function(e){var t=1048576,a=I("iostat").info,n=e[h.value||"ALL"],r=a.read,s=a.write,i=a.second,o=a.io,l=n.read_bytes,u=n.write_bytes,p=n.read_count,f=n.write_count,d=n.read_time,v=n.write_time;r.value=m(l),s.value=m(u),i.value="".concat(p+f," ").concat(c.$t("HomeMonitor.Frequency")),o.value="".concat(v>d?v:d," ms"),o.color=parseInt(o.value)>=1e3?"#ff0000":"#20a53a",P("iostat",[{key:"timeList"},{key:"readList",value:(l/t).toFixed(2)},{key:"writeList",value:(u/t).toFixed(2)},{key:"tipsList",value:n}])},S=function(e){return{dataZoom:[],unit:c.$t("HomeMonitor.Company",{company:"MB/s"}),tData:e.timeList,list:[{name:c.$t("HomeMonitor.ReadBytes"),data:e.readList,circle:"circle",itemStyle:{color:"#FF4683"},lineStyle:{width:1,color:"#FF4683"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(255, 70, 131, 1)"},{offset:.8,color:"rgba(255, 70, 131, .4)"}]}}},{name:c.$t("HomeMonitor.WriteBytes"),data:e.writeList,circle:"circle",itemStyle:{color:"#6CC0CF"},lineStyle:{width:1,color:"#6CC0CF"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(108, 192, 207, 1)"},{offset:.8,color:"rgba(108, 192, 207, .4)"}]}}}],formatter:function(t){for(var a=c.$t("HomeMonitor.Time",{content:"".concat(t[0].axisValue,"<br />")}),n={read_bytes:c.$t("HomeMonitor.ReadBytes"),read_count:c.$t("HomeMonitor.ReadCount"),read_merged_count:c.$t("HomeMonitor.ReadMergedCount"),read_time:c.$t("HomeMonitor.ReadDelay"),write_bytes:c.$t("HomeMonitor.WriteBytes"),write_count:c.$t("HomeMonitor.WriteCount"),write_merged_count:c.$t("HomeMonitor.WriteMergedCount"),write_time:c.$t("HomeMonitor.WriteDelay")},r=e.tipsList[t[0].dataIndex],s=0;s<t.length;s++){var i=t[s];if(d(i.data))return!1;a+='<span class="inline-block w-[1rem] h-[1rem] mr-[.1rem]" style="border-radius: 50%; background: '.concat(i.color,';"></span>&nbsp;&nbsp;<span>').concat(i.seriesName,"：").concat(parseFloat(i.data).toFixed(2)," MB/s</span><br />")}return["read_count","write_count","read_merged_count","write_merged_count","read_time","write_time"].forEach((function(e){var t=r[e],s=t>100&&t<1e3?"#ff9900":t>=1e3?"red":"#20a53a",i=e.indexOf("time")>-1?"color: ".concat(s):"",o=e.indexOf("time")>-1?" ms":" ".concat(c.$t("HomeMonitor.TimesSecond"));a+='<span class="inline-block w-[1rem] h-[1rem]"></span>&nbsp;&nbsp;<span style="'.concat(i,'">').concat(n[e],"：").concat(t+o,"</span><br />")})),a}}},P=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=I(e,"data");t.forEach((function(e){var t=e.key,r=e.value,s=n[t];s.length>=a&&s.splice(0,1),"timeList"==t?s.push(o((new Date).getTime(),"hh:mm:ss",!0)):s.push(r)}))},T=function(e){return"net"==e?p.value:"iostat"==e?f.value:void 0},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"net",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?y[e][t]:y[e]},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"net";return"net"==e?s.value:"iostat"==e?i.value:{}};return E((function(){u.value=!0;var e=localStorage.getItem("home-model-active");e&&(v.value=e,h.value=localStorage.getItem("home-".concat(e,"-active"))||"ALL")})),{__sfc:!0,HomeMonitorDataAsync:t,refreshTime:r,network:s,iostat:i,isFirst:l,vm:c,loading:u,resourceType:ht,netRefs:p,iostatRefs:f,activeName:v,selectVal:h,netUnit:g,resource:y,unitList:x,onSelectChange:function(e){y.net.selectVal=h.value,localStorage.setItem("home-model-active",v.value),localStorage.setItem("home-".concat(v.value,"-active"),h.value)},onNetUnitChange:function(){y.net.data.timeList=[],y.net.data.upList=[],y.net.data.downList=[],localStorage.setItem("netUnit",g.value),b(s.value,g.value)},onTabsChange:function(){U((function(){h.value="ALL";var e=v.value,t=T(e);if(localStorage.setItem("home-model-active",e),t&&t.$refs.echartRef.resize(),l&&"iostat"==e){l=!1;var a=I("iostat","data");t.setConfig(S(a))}}))},initSelectList:_,getNetData:w,setNet:b,getNetConfig:C,setIostat:k,getIostatConfig:S,setData:P,getRefs:T,getResourceData:I,getRes:H}}}),yt=c(gt,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(W,{staticClass:"relative module-box",attrs:{shadow:"always","body-style":{padding:0,display:"flex"}}},[t("div",{staticClass:"flex items-center h-[5.3rem] absolute right-[1.6rem] z-100"},[t("span",{staticClass:"mr-4 text-[#999]"},[e._v(" "+e._s("net"===a.activeName?"网卡":"磁盘")+" ")]),e._l(a.resource,(function(n,r){return[t(X,{directives:[{name:"show",rawName:"v-show",value:"".concat(r)==a.activeName,expression:"`${key}` == activeName"}],key:r,staticClass:"w-[8rem]",attrs:{placeholder:e.$t("HomeMonitor.Placeholder")},on:{change:function(e){return a.onSelectChange(r)}},model:{value:a.selectVal,callback:function(e){a.selectVal=e},expression:"selectVal"}},e._l(n.selectList,(function(e){return t(Z,{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}))],2),t(J,{staticClass:"relative home-reset-tab w-full",on:{"tab-click":a.onTabsChange},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},[t(Q,{attrs:{label:e.$t("HomeMonitor.Flow"),name:"net"}},[t("div",{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:a.loading,expression:"loading"},{name:"bt-loading",rawName:"v-bt-loading:title",value:"正在获取服务器流量信息，请稍后...",expression:"'正在获取服务器流量信息，请稍后...'",arg:"title"}],staticClass:"h-41.4rem"},[t(a.HomeMonitorDataAsync,{ref:"netRefs",attrs:{info:a.resource.net.info}},[[t("div",{directives:[{name:"show",rawName:"v-show",value:"net"==a.activeName,expression:"`net` == activeName"}],staticClass:"mr-5 unit-select"},[t("span",{staticClass:"mr-4x text-[#999]"},[e._v(" "+e._s("单位")+" ")]),[t(X,{staticClass:"w-[7rem]",attrs:{placeholder:e.$t("HomeMonitor.Placeholder")},on:{change:function(e){return a.onNetUnitChange()}},model:{value:a.netUnit,callback:function(e){a.netUnit=e},expression:"netUnit"}},e._l(a.unitList,(function(e){return t(Z,{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disable}})})),1)]],2)]],2)],1)]),t(Q,{attrs:{label:e.$t("HomeMonitor.DiskIo"),name:"iostat",lazy:!0}},[t(a.HomeMonitorDataAsync,{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:a.loading,expression:"loading"},{name:"bt-loading",rawName:"v-bt-loading:title",value:"正在获取服务器磁盘IO信息，请稍后...",expression:"'正在获取服务器磁盘IO信息，请稍后...'",arg:"title"}],ref:"iostatRefs",attrs:{info:a.resource.iostat.info}})],1)],1)],1)}),[],!1,null,null,null,null).exports,xt=M({__name:"HomeOverviewNew",setup:function(e){var t=F().proxy,a=s().refs,o=a.mainWidth,c=a.authType,u=Ce(),p=u.refs.overviewShowList,f=u.getOverviewData,m=O(!1),d=G((function(){return o.value<1100?o.value<800?"grid-cols-2":"grid-cols-4":o.value>1800?"grid-cols-8":"grid-cols-6"})),x=function(){var e=i(r().mark((function e(t){var a,s,i,o,l,c,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="base"===e.t0?3:"model"===e.t0?6:"plugin"===e.t0?19:20;break;case 3:return a=t.params[0].source,"/site"===t.source.href&&"all"!==a&&localStorage.setItem("siteTabActive","proxy"===a?"nginx":a),e.abrupt("return",v(t.source.href||"/"));case 6:return e.next=8,be((function(){return n.import("./firewall.store-legacy.js?v=1714377894636")}),void 0,n.meta.url);case 8:if(s=e.sent,i=s.getFirewallStore,o=i(),l=o.refs,c=l.firewallTabActive,u=l.sshTabAvtive,"memo"!==t.name){e.next=13;break}return e.abrupt("return",Pe());case 13:if("safety_risk"!==t.name){e.next=15;break}return e.abrupt("return",Te());case 15:if("ssh_log"!==t.name){e.next=19;break}return c.value="ssh",u.value="loginLog",e.abrupt("return",v("/firewall"));case 19:return e.abrupt("return",b(t));case 20:if("search_file"!==t.name){e.next=22;break}return e.abrupt("return",C());case 22:if("open_dir"!==t.name){e.next=24;break}return e.abrupt("return",De({path:t.params[0].name}));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=i(r().mark((function e(a){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me({overview:JSON.stringify(p.value)});case 3:n=e.sent,t.$message.request(n),n.status||f(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=e.plugin_info.type;return"free"===c.value&&(8===t||12===t)||"ltd"!==c.value&&12===t},b=function(e){var t=e.plugin_info,a=t.type,n=t.endtime,r=t.setup,s="total"===e.name?41:"btwaf"===e.name?40:42;if(w(e)&&n<0)return l({disablePro:8!==a,sourceId:s});if(r)h({pluginInfo:e.plugin_info});else{var i=e.plugin_info,o=i.type,c=i.name;g({name:c,type:o,pluginInfo:e.plugin_info})}},C=function(){y("searchFile","true"),v("/files")};return E(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.value=!0,e.next=3,f();case 3:m.value=!1;case 4:case"end":return e.stop()}}),e)})))),{__sfc:!0,vm:t,mainWidth:o,authType:c,overviewShowList:p,getOverviewData:f,draggableGroup:{name:"overview",pull:!1,put:!1},loading:m,draggableClass:d,openOverviewTemplate:function(){Se(p)},getModelTips:function(e){switch(e.template){case"base":return"memo"===e.name||"safety_risk"===e.name?"打开".concat(e.title,"模块"):"跳转至".concat(e.title,"页面");case"browse":return"plugin"===e.type?"打开".concat(e.title,"插件"):"打开".concat(e.title,"模块");case"open_dir":return"打开".concat(e.title)}},getModelTitle:function(e){var t=e.title,a=0,n=e.params.length||0,r=["ssh_log"];if(!e.status)return t;if("open_dir"===e.name)return t;n>=2&&(t="");for(var s=n-1;s>=0;s--){var i=e.params[s];(t===i.name||r.indexOf(e.name)>-1)&&(t=""),2!==a&&(1===n&&""!=t&&(t+=" - "),t+="".concat(i.name)+(s===n-1&&n>1?" - ":""),a++),a=0}return t},openModelDialog:x,dragSortEvent:_,getPayStatus:w,handleOpenPlugin:b,searchFile:C,draggable:ke}}}),_t=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(W,{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:a.loading,expression:"loading"},{name:"bt-loading",rawName:"v-bt-loading:title",value:"正在获取概览数据，请稍候...",expression:"'正在获取概览数据，请稍候...'",arg:"title"}],staticClass:"relative mb-6 module-box",attrs:{shadow:"always","body-style":{padding:"0",display:"flex"}}},[t("div",{staticClass:"text-[1.6rem] text-#666 flex justify-between flex-1 items-center",attrs:{slot:"header"},slot:"header"},[t("span",{directives:[{name:"t",rawName:"v-t",value:"HomeOverview.Title",expression:"`HomeOverview.Title`"}]}),t(Y,{staticClass:"!ml-[1rem]",attrs:{type:"default",title:e.$t("HomeOverview.CustomTitle")},on:{click:function(e){return a.openOverviewTemplate()}}},[t("i",{staticClass:"el-icon-arrow-down el-icon-setting text-[1.4rem]"})])],1),t(ee,{staticClass:"w-full p-24x min-h-[15.2rem]",attrs:{gutter:15}},[t(a.draggable,{staticClass:"overview-wrapper",attrs:{group:a.draggableGroup,handle:".move-icon",animation:"500",ghostClass:"ghost"},on:{sort:a.dragSortEvent},model:{value:a.overviewShowList,callback:function(e){a.overviewShowList=e},expression:"overviewShowList"}},[t("transition-group",{staticClass:"draggable-group",class:a.draggableClass},[e._l(a.overviewShowList,(function(n,r){return[t("div",{key:r,staticClass:"overview-box",on:{click:function(e){return a.openModelDialog(n)}}},[t("i",{staticClass:"move-icon iconfont icon-drag",attrs:{title:"可拖拽"}}),t("div",{staticClass:"content"},[t("span",{staticClass:"title"},[e._v(e._s(a.getModelTitle(n)))]),"base"===n.template?t(p,{class:{href:"base"===n.template,memo:"memo"===n.name,risk:"safety_risk"===n.name&&n.value[0]>0,"!text-[#CBCBCB]":"memo"===n.name&&!n.value[0]}},[e._v(" "+e._s(n.value[0]||("memo"===n.name?"当前内容为空，点击编辑":n.value[0]))+" ")]):"browse"===n.template?["plugin"!==n.type||n.plugin_info.setup?"plugin"===n.type||"model"===n.type?[t("div",{staticClass:"model"},[t("div",{staticClass:"to-day"},[t("span",{},[e._v("今日")]),t("span",[e._v(e._s(n.value[0]))])]),t("div",{staticClass:"yester-day"},[t("span",[e._v("昨日")]),t("span",[e._v(e._s(n.value[1]))])])])]:e._e():[t(p,{staticClass:"risk not-install"},[e._v(" "+e._s(a.getPayStatus(n)?"未购买":"未安装")+" ")])]]:"open_dir"===n.template?t(p,{staticClass:"path-info"},[e._v(" "+e._s(n.params[0].name)+" ")]):"search_file"===n.template?t(p,{staticClass:"path-info"},[e._v(" 点击搜索内容 ")]):e._e()],2),t("div",{staticClass:"bottom-menu"},[e._v(e._s(a.getModelTips(n)))])])]}))],2)],1)],1)],1)},wt=c(xt,_t,[],!1,null,"88325ea8",null,null).exports,bt=M({__name:"AlarmPopup",props:{compData:{default:function(){return{flag:!1,type:"",data:{},id:0}}}},emits:["close","confirm"],setup:function(e,t){var a=t.expose,n=t.emit,o=e,l=O(!1),c=O(),u=s(),p=u.getPushConfigInfo,f=u.getAlarmData,m=Ce().refs.diskQuota,d=o.compData,v=d.type,h=d.data,g=d.id,y=O(100),w=O([]),b=O([]),C=A({num:0,usageRate:0,give:[],option:{},type:"",selectOptions:[],typeDetection:"2"}),k=G((function(){switch(v){case"load":return"【负载状态】告警";case"cpu":return"【CPU使用率】告警";case"mem":return"【内存使用率】告警"}if(-1!==v.indexOf("disk"))return"磁盘【".concat(v.split("-")[1],"】告警")})),S=G((function(){switch(v){case"load":return"负载状态";case"cpu":case"mem":return"使用率"}if(-1!==v.indexOf("disk"))return 2===h.cycle||"2"===C.typeDetection?"占用率":"剩余容量"})),P=G((function(){return"2"===C.typeDetection?"%":"GB"})),T=function(){var e;h?(C.usageRate=h.count,C.num=h.push_count,w.value=h.next_data||[null===(e=b.value[0])||void 0===e?void 0:e.key],-1!==v.indexOf("disk")&&(C.typeDetection=h.cycle.toString()),C.give=h.module.split(",")):(C.usageRate=80,C.num=3,-1!==v.indexOf("disk")&&(C.typeDetection="2"))},I=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:et({$refs:c.value,loading:{disable:l,text:"正在保存告警配置，请稍后..."},request:function(){return i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:v.includes("disk")?v.split("-")[0]:v,count:parseInt("".concat(C.usageRate)),cycle:v.includes("disk")?parseInt(C.typeDetection):5,push_count:parseInt("".concat(C.num)),module:C.give.join(","),project:v.split("-")[1]?v.split("-")[1]:""},-1==v.indexOf("disk")&&(t.next_data=w.value),e.next=4,_({id:g||parseInt("".concat((new Date).getTime()/1e3)),name:"system_push",data:JSON.stringify(t)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))()},complete:function(){return i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:o.compData.flag=!0,T();case 4:case"end":return e.stop()}}),e)})))()}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return E(i(r().mark((function e(){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!=v.indexOf("disk")){e.next=6;break}return e.next=3,x();case 3:t=e.sent,a=t.data,b.value=a.map((function(e){return{title:e.title,key:e.value}}));case 6:T();case 7:case"end":return e.stop()}}),e)})))),a({onConfirm:I}),{__sfc:!0,props:o,emit:n,giveFormDisabled:l,giveForm:c,getPushConfigInfo:p,getAlarmData:f,diskQuota:m,type:v,data:h,id:g,rules:{num:[{required:!0,message:"请输入发送次数",trigger:"blur"},{pattern:/^[0-9]\d*$/,message:"请输入正整数",trigger:"blur"}],usageRate:[{required:!0,message:"请输入告警阈值",trigger:"blur"},{pattern:/^[0-9]\d*$/,message:"请输入正整数",trigger:"blur"}],give:[{type:"array",required:!0,message:"请至少选择一个告警方式",trigger:"change"}]},maxCapacityAndUsageRate:y,nextData:w,options:b,msgForm:C,inputContent:k,typeName:S,unitComputed:P,switchTypeDetection:function(){C.typeDetection!==h.cycle&&("2"===C.typeDetection?C.usageRate=80:m.value.forEach((function(e){var t;e.diskName===(null===(t=o.compData)||void 0===t?void 0:t.type.split("-")[1])&&(y.value=e.diskQuota,C.usageRate=parseInt((.2*e.diskQuota).toString()))})))},alarmInfo:T,changeServerTo:function(e){w.value=e},onConfirm:I}}}),Ct=c(bt,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"px-[2rem] py-[4rem] give-dialog"},[t(te,{ref:"giveForm",attrs:{model:a.msgForm,rules:a.rules,disabled:a.giveFormDisabled}},[t(ae,{attrs:{label:"任务类型"}},[t(ne,{staticClass:"!w-[30rem]",attrs:{readonly:!0},model:{value:a.inputContent,callback:function(e){a.inputContent=e},expression:"inputContent"}})],1),-1!==a.type.indexOf("disk")?t(ae,{attrs:{label:"检测类型"}},[t(re,{on:{change:a.switchTypeDetection},model:{value:a.msgForm.typeDetection,callback:function(t){e.$set(a.msgForm,"typeDetection",t)},expression:"msgForm.typeDetection"}},[t(se,{attrs:{label:"2"}},[e._v("占用百分比")]),t(se,{attrs:{label:"1"}},[e._v("剩余容量")])],1)],1):e._e(),t(ae,{attrs:{label:a.typeName,prop:"usageRate"}},[t(ne,{staticClass:"!w-[9.5rem]",attrs:{min:0,max:a.maxCapacityAndUsageRate,type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[t(ee,{attrs:{type:"flex"}},[t(ie,[-1!==a.type.indexOf("disk")?t("span",[e._v(e._s(a.unitComputed))]):t("span",[e._v("%")])])],1)]},proxy:!0}]),model:{value:a.msgForm.usageRate,callback:function(t){e.$set(a.msgForm,"usageRate",t)},expression:"msgForm.usageRate"}}),-1===a.type.indexOf("disk")?t("span",{staticClass:"text-[#999] ml-1.6rem text-[1.2rem]"},[e._v(" 每5分钟平均负载超过该数值就告警 ")]):t("span",{staticClass:"text-[#999] ml-1.6rem text-[1.2rem]"},[e._v(" 每隔10分钟磁盘占用超过该数值就告警 ")])],1),t(ae,{attrs:{label:"发送次数",prop:"num"}},[t(ne,{staticClass:"!w-[9.5rem]",attrs:{min:0,type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[t(ee,{attrs:{type:"flex"}},[t(ie,[t("span",[e._v("次")])])],1)]},proxy:!0}]),model:{value:a.msgForm.num,callback:function(t){e.$set(a.msgForm,"num",t)},expression:"msgForm.num"}}),t("span",{staticClass:"text-[#999] ml-1.6rem text-[1.2rem]"},[e._v(" 后将不再发送告警信息，如需发送多次请填写2次以上 ")])],1),-1==a.type.indexOf("disk")?t(ae,{attrs:{label:"告警后执行",prop:"nextData"}},[t(Ye,{staticClass:"w-[30rem]",attrs:{"collapse-tags":"",multiple:"",options:a.options,change:a.changeServerTo,placeholder:"请选择告警后的下一步操作"},model:{value:a.nextData,callback:function(e){a.nextData=e},expression:"nextData"}})],1):e._e(),t(ae,{attrs:{label:"告警方式",prop:"give"}},[t(Qe,{attrs:{"limit-type":[]},model:{value:a.msgForm.give,callback:function(t){e.$set(a.msgForm,"give",t)},expression:"msgForm.give"}})],1)],1),t("div",{staticClass:"tip"},[t("ul",[t("li",[e._v(" 点击配置后状态未更新，尝试点击【 "),t(p,{on:{click:a.getPushConfigInfo}},[e._v("手动刷新")]),e._v(" 】 ")],1),t("li",[e._v("【发送次数】设置0时，每天触发告警次数没有上限")])])])],1)}),[],!1,null,"634a3c08",null,null).exports,kt=M({__name:"index",props:{type:null,diskName:null},setup:function(e){var t=e,a=F().proxy,n=s(),o=n.refs.alarmPopupData,l=n.getAlarmData,c=A({flag:!1,content:"",show:!1,id:0}),u=A({type:t.type,data:!1,id:c.id,confirm:function(){return i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:case"end":return e.stop()}}),e)})))()}}),p=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w({title:"告警设置",component:Ct,area:55,btn:"保存",compData:u});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=i(r().mark((function e(t){var n,s,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("edit"!==t&&0!==c.id){e.next=4;break}p(),e.next=23;break;case 4:return e.prev=4,s=t?"开启":"关闭",e.next=8,a.$confirm({title:"".concat(s,"告警"),message:"".concat(s,"告警后，将").concat(t?"":"不再","接收到该项的告警信息，是否继续操作？"),icon:"warning"});case 8:return n=a.$load(a.$t("正在".concat(s,"告警，请稍后..."))),e.next=11,rt({name:"system_push",id:c.id,status:t?1:0});case 11:return i=e.sent,n.close(),e.next=15,l();case 15:a.$message.request(i),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(4),c.flag=!t;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e,a,n,r;switch(t.type){case"load":n="平均负载超过";break;case"mem":n="内存超过";break;case"cpu":n="平均CPU超过"}var s=d();return a=s.cycle,r=s.count,n||(n=s.text),b(a,"undefined")||b(n,"undefined")?"未设置":"".concat(null!==(e=t.type)&&void 0!==e&&e.includes("disk")?"":"".concat(a,"分钟内")).concat(n).concat(r,"触发")},d=function(){var e,a,n;try{var r=o.value.system_push;if(void 0!==r)for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){var i=r[s];if(t.type.includes(i.type)){var l;if(e=i.cycle,n=i.count+"%",null===(l=t.type)||void 0===l||!l.includes("disk")){c.flag=i.status,c.id=parseInt(s),b(u.data,"boolean")&&(u.data={}),u.data=i;break}if(i.project===t.type.split("-")[1]){a=2===i.cycle?"该磁盘用量超过":"该磁盘余量不足",n=2===i.cycle?"".concat(i.count,"%"):"".concat(i.count,"GB"),c.flag=i.status,c.id=parseInt(s),b(u.data,"boolean")&&(u.data={}),u.data=i;break}}}}catch(p){}return{cycle:e,text:a,count:n}};return E(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m();case 1:case"end":return e.stop()}}),e)})))),{__sfc:!0,vm:a,props:t,alarmPopupData:o,getAlarmData:l,alarm:c,compData:u,setAlarmDialog:p,openAlarmPopup:f,createPushStatus:m,setStatePushInfo:d}}}),St=c(kt,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"alarm"},[e._m(0),t(oe,{staticClass:"ml-[0.8rem]",attrs:{value:a.alarm.flag,width:28},on:{change:a.openAlarmPopup}}),t("div",{staticClass:"switch"}),t(p,{on:{click:function(e){return a.openAlarmPopup("edit")}}},[e._v("设置")]),t("span",{staticClass:"w-[21rem] ml-[0.8rem]"},[e._v(e._s(a.createPushStatus()))])],1)}),[function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("span",[e._v("告警")])])}],!1,null,"346b134a",null,null).exports,Pt=M({__name:"HomeStateNewPopover",props:{loadType:{default:""},type:{default:""},processAlarmShow:{type:Boolean,default:!1}},setup:function(e){var t=e,a=Ce().refs.specificResource,o=s().refs.authType,c=F().proxy,u=O(!0),f=O(!1),m=O("show"),d=O("two"),v=A({one:"",two:"",three:""}),h=A({loading:!0,list:[]});B(a.value,(function(e){"ltd"===o.value?(h.loading=!1,g.value?h.list=a.value.cpuProcess:h.list=a.value.memProcess):(h.loading=!1,h.list=[])}));var g=G((function(){var e=t.loadType;return"loadInfo"===e||"cpuInfo"===e})),y=function(){var e=t.loadType;v.one="memoryInfo"===e?"内存信息":"基础信息","diskInfo"!==e?(f.value=!0,g.value?("loadInfo"===e?v.two="更多负载信息":"cpuInfo"===e&&(v.two="核心使用率"),v.three="CPU占用率top5的进程信息"):"memoryInfo"===e&&(u.value=!1,v.two="内存信息",v.three="内存使用率top5的进程信息")):v.two="Inode信息"},x=function(){var e=i(r().mark((function e(t){var a,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1===t.important){e.next=13;break}return e.prev=1,a=g.value?"结束进程":c.$t("HomeState.FreeMemoryTitle"),e.next=5,c.$confirm({type:"calc",title:a,message:"结束".concat(t.proc_name,"进程会导致").concat(t.explain.split("的进程")[0],"无法正常运行，是否结束?")});case 5:return e.next=7,Oe({pid:t.pid});case 7:n=e.sent,c.$message.request(n.data),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e,t,a){var n=e.killEvent;return O([{label:"进程名称",minWidth:80,render:function(e){var t="备注：".concat(e.explain,"\n启动路径： ").concat(e.exe_path,"\n运行目录：").concat(e.cwd_path,"\n线程数量：").concat(e.num_threads);return V("span",{attrs:{title:t}},[e.proc_name])}},{label:t,prop:a,minWidth:70},{label:nt.t("Operation"),align:"right",fixed:"right",width:50,render:function(e){return V(p,{on:{click:function(){n(e)}}},[1===e.important?"":"cpu_percent"===a?"结束":"释放"])}}])}({killEvent:x},g.value?"CPU占用率":"内存使用率",g.value?"cpu_percent":"memory_usage");return E(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y();case 1:case"end":return e.stop()}}),e)})))),{__sfc:!0,specificResource:a,authType:o,props:t,vm:c,showTwo:u,showThree:f,foldExpand:m,foldActive:d,foldTitle:v,tableData:h,isLoadOrCpu:g,init:y,killEvent:x,openProductPayment:function(){l({sourceId:141})},tableColum:_,openProcessAlarm:function(){w({isAsync:!0,title:"进程告警",area:["100","50"],component:function(){return be((function(){return n.import("./HomeProcessAlarmManage-legacy.js?v=1714377894636")}),void 0,n.meta.url)}})}}}}),Tt=c(Pt,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(W,{staticClass:"card-popover",staticStyle:{"box-shadow":"0px 1px 20px rgba(0, 0, 0, 0.2)"},attrs:{shadow:"always"}},[t("div",[e._t("button")],2),t(le,{staticClass:"text-[1.2rem]",attrs:{accordion:!0},model:{value:a.foldExpand,callback:function(e){a.foldExpand=e},expression:"foldExpand"}},[t(ce,{ref:"base-info",attrs:{name:"show"}},[t("template",{slot:"title"},[t("div",{staticClass:"flex justify-between w-full"},[t("span",{staticClass:"px-8x text-[#666] text-[1.4rem]"},[e._v(e._s(a.foldTitle.one))])])]),t("div",{staticClass:"mt-12x mx-8x space-y-[1.2rem] text-[#888] text-[1.3rem]"},[e._t("base-info")],2),t("hr",{staticStyle:{width:"calc(100% - 16px)",margin:"12px auto","border-top":"1px solid #f0f0f0"}}),t(St,{staticClass:"mx-8x",attrs:{type:a.props.type}})],2)],1),t(le,{staticClass:"text-[1.2rem]",attrs:{accordion:!0},model:{value:a.foldActive,callback:function(e){a.foldActive=e},expression:"foldActive"}},[a.showTwo?t(ce,{attrs:{name:"two"}},[t("template",{slot:"title"},[t("div",{staticClass:"flex justify-between items-center w-full"},[t("span",{staticClass:"px-8x text-[#666] text-[1.4rem] leading-[3rem] text-center"},[e._v(" "+e._s(a.foldTitle.two)+" ")]),t("span",[e._v(e._s("two"===a.foldActive?"收起":"展开"))])])]),t("div",{staticClass:"m-[.4rem] space-y-[1.2rem] text-[#888] text-[1.3rem] leading-[1.4rem]"},[e._t("content-info")],2)],2):e._e(),a.showThree?t(ce,{class:{"!mb-0":!a.showTwo},attrs:{name:"three"}},[t("template",{slot:"title"},[t("div",{staticClass:"flex justify-between w-full"},[t("span",{staticClass:"px-8x text-[#666] text-[1.4rem] leading-[3rem] text-center"},[e._v(" "+e._s(a.foldTitle.three)+" ")]),t("span",[e._v(e._s("three"===a.foldActive?"收起":"展开"))])])]),t("div",{staticClass:"mt-8x space-y-[1.2rem]"},[t("div",[a.props.processAlarmShow?t("div",{staticClass:"mb-1rem"},[t(Y,{attrs:{size:"mini"},on:{click:a.openProcessAlarm}},[e._v("进程告警")])],1):e._e(),t(Je,{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:a.tableData.loading,expression:"tableData.loading"}],attrs:{column:a.tableColum,data:a.tableData.list,"max-height":"450"},scopedSlots:e._u(["ltd"!==a.authType?{key:"empty",fn:function(){return[t("div",{staticClass:"flex items-center justify-center flex-nowrap w-full"},[t("span",{staticClass:"whitespace-nowrap"},[e._v("当前为企业版专享功能, "),t(p,{on:{click:a.openProductPayment}},[e._v("立即购买")])],1)])]},proxy:!0}:null],null,!0)})],1)])],2):e._e()],1)],1)}),[],!1,null,"56bd2bd4",null,null).exports,It=M({__name:"HomeStateScan",props:{custom:{type:Boolean,default:!1},item:{default:[]}},emits:["showScaning","closePopover"],setup:function(e,t){var a=t.emit,n=e,s=O();B((function(){return n.item}),(function(){var e=parseFloat(n.item.data.size[3].substring(0,n.item.data.size[3].lastIndexOf("%")));s.value=e>=80?"warning":e>=90?"danger":"success"}),{immediate:!0});var o=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:st({name:"disk_analysis",source:120,limitLtd:!0}),y("diskPath",n.item.info.title),y("taskStatus","true");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{__sfc:!0,props:n,emit:a,tipType:s,scanRubbishFile:o,isRelease:C,setPsDialog:Ie}}}),Ht=c(It,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(Tt,{attrs:{"load-type":"diskInfo",type:"disk-".concat(a.props.item.info.title)},scopedSlots:e._u([{key:"button",fn:function(){return[t("div",{staticClass:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},[t("div",{staticClass:"flex items-center"},[t("span",{staticClass:"text-[#666] text-[1.4rem] mr-4x ml-8x"},[e._v("检测到当前磁盘")]),t(ue,{attrs:{type:a.tipType}},[e._v(e._s("容量占用".concat(a.props.item.data.size[3].substring(0,a.props.item.data.size[3].lastIndexOf("%")),"%")))])],1),t(k,{attrs:{type:"primary"},on:{click:a.scanRubbishFile}},[e._v("立即清理")])],1)]},proxy:!0},{key:"base-info",fn:function(){return[t("div",{staticClass:"flex align-left flex-col"},[t("div",{staticClass:"m-4x flex items-center",attrs:{title:"挂载点：".concat(e.item.info.title,"\n备注：").concat(e.item.data.rname)}},[t("div",{staticClass:"block truncate max-w-[30rem]"},[e._v(" "+e._s(e.$t("HomeState.DiskHover[3]")+e.item.info.title+(a.isRelease?"":" ("+e.item.data.rname+")"))+" ")]),a.isRelease?e._e():t(S,{attrs:{trigger:"hover",placement:"right",content:"点击设置备注"},scopedSlots:e._u([{key:"reference",fn:function(){return[t("i",{staticClass:"el-icon-edit-outline text-primary ml-8x cursor-pointer",on:{click:function(t){return a.setPsDialog({ps:e.item.data.rname||e.item.info.title,path:e.item.info.title})}}})]},proxy:!0}],null,!1,4223188973)})],1),t("span",{staticClass:"m-4x"},[e._v(e._s("".concat(e.$t("HomeState.DiskHover[13]")).concat(e.item.data.size[0],"，").concat(e.$t("HomeState.DiskHover[7]")).concat(e.item.data.size[2],"，").concat(e.$t("HomeState.DiskHover[6]")).concat(e.item.data.size[1])))]),t("span",{staticClass:"m-4x"},[e._v(" "+e._s("".concat(e.$t("HomeState.DiskHover[16]")).concat((Number(e.item.data.size[0].replace("G",""))-Number(e.item.data.size[1].replace("G",""))).toFixed(2)+"G"))+" ")])]),t("div",{staticClass:"flex align-left flex-col !mt-4x"},[t("span",{staticClass:"m-4x"},[e._v(e._s(e.$t("HomeState.DiskHover[1]")+e.item.data.filesystem))]),t("span",{staticClass:"m-4x"},[e._v(e._s(e.$t("HomeState.DiskHover[2]")+e.item.data.type+"，".concat(e.$t("HomeState.DiskHover[12]")).concat(e.item.data.size[4])))])])]},proxy:!0},{key:"content-info",fn:function(){return[t("p",{staticClass:"!ml-4x !my-8x"},[e._v(e._s(e.$t("HomeState.DiskHover[5]")+e.item.data.inodes[0]))]),t("p",{staticClass:"!ml-4x !my-8x"},[e._v(e._s(e.$t("HomeState.DiskHover[14]")+e.item.data.inodes[1]))]),t("p",{staticClass:"!ml-4x !my-8x"},[e._v(e._s(e.$t("HomeState.DiskHover[15]")+e.item.data.inodes[2]))]),t("p",{staticClass:"!ml-4x !my-8x"},[e._v(e._s(e.$t("HomeState.DiskHover[8]")+e.item.data.inodes[3]))])]},proxy:!0}])})}),[],!1,null,"22854170",null,null).exports,Nt=M({__name:"HomeStateData",props:{visible:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},showDesc:{type:Boolean,default:!0},href:{default:""},info:{default:function(){return{title:"",range:0}}},disk:{type:Boolean,default:!1},data:{default:function(){return{}}},type:{default:""}},emits:["update:visible","openPopover","show","hide"],setup:function(e,t){var n=t.emit,r=e,s=F().proxy,i=O(),o=O(),l=null,c=G((function(){var e=r.info,t=e.desc,a=e.title,n=e.range,s=e.rangeText,i=e.disabled,o=p(n);return{title:a,color:o.color,range:n,disabled:!!i,desc:t||o.desc,rangeText:s||"",position:"bottom-start"}})),u=[{desc:"".concat(s.$t("HomeStateData.LoadStateList[0]")),val:90,color:"#dd2f00"},{desc:"".concat(s.$t("HomeStateData.LoadStateList[1]")),val:80,color:"#ff9900"},{desc:"".concat(s.$t("HomeStateData.LoadStateList[2]")),val:70,color:"#20a53a"},{desc:"".concat(s.$t("HomeStateData.LoadStateList[3]")),val:30,color:"#20a53a"}],p=function(e){for(var t={},n=0;n<u.length;n++){var r=u[n];if(e>=r.val){t=a({},r);break}if(e<30){t=a({},u[u.length-1]);break}}return t.val=e,t};return E((function(){l=new ResizeObserver((function(){i.value&&i.value.updatePopper()})),o.value&&l.observe(o.value)})),q((function(){l&&o.value&&l.unobserve(o.value)})),{__sfc:!0,props:r,emits:n,vm:s,popover:i,popoverContent:o,resizeObserver:l,param:c,config:u,progressFormat:function(e){var t=c.value.rangeText;return t||"".concat(e,"%")},chartColorActive:p,dirEvent:function(e){y("Path",e),window.location.href=window.location.origin+"/files"}}}}),Lt=c(Nt,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"state-data py-24x"},[t(S,{ref:"popover",attrs:{trigger:"hover",width:e.custom?"auto":e.disk?300:400,offset:e.custom?1:0,placement:a.param.position,"close-delay":0,"popper-class":"white-popover"},on:{show:function(t){return e.$emit("show")},hide:function(t){return e.$emit("hide")}}},[e._t("default")],2),t("div",{ref:"popoverContent",staticClass:"w-full flex flex-col items-center",attrs:{slot:"reference"},slot:"reference"},[t("div",{staticClass:"state-header",attrs:{title:a.param.title}},["disk"===e.type?[t(pe,{attrs:{content:"点击跳转目录",placement:"top"}},[t(p,{on:{click:function(e){return a.dirEvent(a.param.title)}}},[e._v(e._s(a.param.title))])],1)]:t("span",[e._v(e._s(a.param.title))]),t(pe,{staticClass:"item",attrs:{effect:"dark",content:"点击跳转".concat(a.param.title,"教程"),placement:"top-start"}},[e.href?t("a",{staticClass:"bt-ico-ask ml-3",attrs:{href:e.href,target:"_blank"}},[e._v("?")]):e._e()])],2),t(fe,{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"cursor-pointer",style:"color:"+a.param.color,attrs:{type:"circle",width:105,"stroke-width":7,color:a.param.color,percentage:a.param.range||0,format:a.progressFormat}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showDesc,expression:"showDesc"}],staticClass:"state-bottom",attrs:{title:a.param.desc}},[e._v(" "+e._s(a.param.desc)+" ")])],1)],1)}),[],!1,null,"4e7f2788",null,null).exports,jt=M({__name:"HomeState",setup:function(e){var t=s().getTemplate,a=Ce(),n=a.refs,o=n.load,l=n.cpuTimes,c=n.cpu,u=n.memory,p=n.diskInfoList,f=n.specificResource,d=n.statePopoverTimr,v=a.getHomeProcessInfo,h=F().proxy,g=O([]),y=O(!1),x=O(!0),_=O(0),w=O([]),C=A({memory:"success",cpu:"success",load:"success"});Ce().$subscribe((function(e,t){var a;w.value=[[{title:"用户级别的 CPU 时间百分比",name:"user",value:l.value.user},{title:"运行带有 “nice” 优先级的进程时使用的 CPU 时间百分比",name:"nice",value:l.value.nice}],[{title:"系统级别的 CPU 时间百分比",name:"system",value:null===(a=l.value)||void 0===a?void 0:a.system},{title:"空闲状态的 CPU 时间百分比",name:"idle",value:l.value.idle}],[{title:"等待 I/O 操作完成的 CPU 时间百分比",name:"iowait",value:l.value.iowait},{title:"处理硬件中断的 CPU 时间百分比",name:"irq",value:l.value.irq}],[{title:"处理软件中断的 CPU 时间百分比",name:"softirq",value:l.value.softirq},{title:"当前 CPU 被其他虚拟机偷取的CPU时间百分比",name:"steal",value:l.value.steal}],[{title:"运行虚拟机时使用的 CPU 时间百分比",name:"guest",value:l.value.guest},{title:"运行带有 “nice” 优先级的虚拟机时使用的CPU时间百分比",name:"guest_nice",value:l.value.guest_nice}]],N(),L(),H(),j(),$()}));var k=A({title:h.$t("HomeState.LoadState"),range:0}),S=A({title:h.$t("HomeState.CpuState"),range:0,desc:h.$t("Getting")}),P=A({title:h.$t("HomeState.MemState"),range:0,desc:"0 / 0(MB)",disabled:!1}),T=G((function(){return"".concat(o.value.one.toFixed(2)," / ").concat(o.value.five.toFixed(2)," / ").concat(o.value.fifteen.toFixed(2))})),I=G((function(){var e=c.value.process;return b(e,"array")?"".concat(e[0]," / ").concat(e[1]):"".concat(h.$t("Getting"))})),H=function(){var e=c.value,t=e.cpuNumber,a=e.logicCores,n=e.cores;S.desc=t&&a&&n?h.$t("HomeState.CpuCore",{core:n}):h.$t("Getting")},N=function(){var e=o.value,t=e.one,a=e.max,n=Math.round(t/a*100),r=n>100?100:n;k.range=r<0?0:r,C.load=r>80?"warning":r>90?"danger":"success"},L=function(){var e=c.value.occupy;S.range=parseFloat(e)||0,S.range>80?C.cpu="warning":S.range>90?C.cpu="danger":C.cpu="success"},j=function(){for(var e=[],t=0,a="核心 ",n="",r=0;r<c.value.coresOccupy.length;r++)if(t<2){if(t++,r===c.value.coresOccupy.length-1){a+="".concat(r+1," "),n+="".concat(parseFloat(c.value.coresOccupy[r]).toFixed(1),"% "),e.push({name:a,value:n});break}a+="".concat(r+1," / "),n+="".concat(parseFloat(c.value.coresOccupy[r]).toFixed(1),"% / "),c.value.coresOccupy.length%2==1&&r===c.value.coresOccupy.length-1&&e.push({name:a,value:n})}else t=0,a+="".concat(r+1),n+="".concat(parseFloat(c.value.coresOccupy[r]).toFixed(1),"%"),e.push({name:a,value:n}),a="核心 ",n="";g.value=e},$=function(){var e=u.value,t=e.memRealUsed,a=e.memTotal;if(!y.value){var n=Math.round(t/a*1e3)/10;C.memory=n>=80?"warning":n>=90?"danger":"success",P.range=n,P.desc="".concat(t," / ").concat(a,"(MB)")}},D=function(e){_.value&&clearInterval(_.value);var t=e.memRealUsed-e.memRealUsed,a=m(t);P.range=1,P.rangeText=h.$t("HomeState.Released",["\n ".concat(a)]),setTimeout((function(){y.value=!1,P.rangeText="",P.disabled=!1,x.value=!0}),1500)},M=function(){var e="";y.value=!0,x.value=!1,P.disabled=!0,_.value=setInterval((function(){var t=P.range;e="..."===e?".":"".concat(e,"."),P.rangeText=h.$t("HomeState.Releasing",[e]),t>0&&(t-=.2*t),(t=Number(t.toFixed(2)))<0&&(t=0),P.range=t}),400)},R=function(){var e=i(r().mark((function e(){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M(),e.next=4,Ee();case 4:t=e.sent,a=t.data,D(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.$confirm({type:"calc",title:h.$t("HomeState.FreeMemoryTitle"),message:h.$t("HomeState.FreeMemoryMessage")});case 3:R(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.value=setInterval(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:case"end":return e.stop()}}),e)}))),5e3),e.next=3,v();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=O(!1),K=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re({sName:"task_manager"});case 2:e.sent.setup?(t(),z.value=!0):z.value=!1;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return B((function(){return d}),(function(e,t){clearInterval(e)})),E(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:case"end":return e.stop()}}),e)})))),q((function(){clearInterval(d.value)})),{__sfc:!0,getTemplate:t,load:o,cpuTimes:l,cpu:c,memory:u,diskInfoList:p,specificResource:f,statePopoverTimr:d,getHomeProcessInfo:v,vm:h,cpuCoreDesc:g,isClearMemory:y,showMemoryDesc:x,memoryTimer:_,loadInfoList:w,tagsType:C,loadInfo:k,cpuInfo:S,memoryInfo:P,createCpuLoadInfo:T,createCpuProcessInfo:I,createCpuCoreNum:H,createLoadInfo:N,createCpuInfo:L,createCpuCoreParam:j,createMemoryInfo:$,clearMemoryTimer:D,setMemoryTime:M,clearMemory:R,onClearMemory:U,moveStatePopover:V,removeStatePopover:function(){clearInterval(d.value)},processAlarmShow:z,getProcessAlarm:K}}}),$t=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(W,{staticClass:"module-box w-full",attrs:{shadow:"always","body-style":{padding:0,display:"flex"}}},[t("div",{directives:[{name:"t",rawName:"v-t",value:"HomeState.Title",expression:"`HomeState.Title`"}],staticClass:"text-1.6rem text-desc text-auto-ellipsis",attrs:{slot:"header"},slot:"header"}),t(ee,{staticClass:"w-full",attrs:{span:24}},[t(ie,{attrs:{span:4,xs:12,sm:6,md:6,lg:4}},[t(Lt,{attrs:{info:a.loadInfo,href:"https://www.bt.cn/bbs/thread-11402-1-1.html"},on:{show:a.moveStatePopover,hide:a.removeStatePopover}},[t(Tt,{attrs:{"load-type":"loadInfo",data:a.specificResource,type:"load","process-alarm-show":a.processAlarmShow},scopedSlots:e._u([{key:"button",fn:function(){return[t("div",{staticClass:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},[t("div",{staticClass:"flex items-center"},[t("span",{staticClass:"text-[#666] text-[1.4rem] mr-4x ml-8x"},[e._v("检测到当前负载")]),t(ue,{attrs:{type:a.tagsType.load}},[e._v(e._s("运行达到".concat(a.loadInfo.range,"%")))])],1)])]},proxy:!0},{key:"base-info",fn:function(){return[t("div",{staticClass:"disk-body-list flex justify-between !mx-4x !my-8x"},[t("div",[e._v("最近1/5/15分钟平均负载：")]),t("div",{attrs:{id:"load_one"}},[e._v(" "+e._s(a.createCpuLoadInfo)+" ")])]),t("div",{staticClass:"disk-body-list flex justify-between !mx-4x !my-8x"},[t("div",[e._v("活动进程数 / 总进程数:")]),t("div",{attrs:{id:"load_cpu_times_num"}},[e._v(" "+e._s(a.createCpuProcessInfo)+" ")])])]},proxy:!0},{key:"content-info",fn:function(){return[t("div",{staticClass:"disk-item-body",attrs:{id:"other_info_html"}},[t("table",{staticClass:"table table-fixed whitespace-nowrap"},[t("tbody",e._l(a.loadInfoList,(function(a,n){return t("tr",{key:n},[e._l(a,(function(a,n){return[t("td",{staticClass:"break-all text-ellipsis p-[.4rem]",attrs:{title:a.title}},[t("span",[e._v(e._s(a.name))])]),t("td",{staticClass:"break-all text-ellipsis",attrs:{title:a.title}},[t("span",[e._v(e._s(a.value))])])]}))],2)})),0)])])]},proxy:!0}])})],1)],1),t(ie,{attrs:{span:4,xs:12,sm:6,md:6,lg:4}},[t(Lt,{attrs:{info:a.cpuInfo,type:"cpu"},on:{show:a.moveStatePopover,hide:a.removeStatePopover}},[t(Tt,{attrs:{"load-type":"cpuInfo",data:a.specificResource,type:"cpu","process-alarm-show":a.processAlarmShow},scopedSlots:e._u([{key:"button",fn:function(){return[t("div",{staticClass:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},[t("div",{staticClass:"flex items-center"},[t("span",{staticClass:"text-[#666] text-[1.4rem] mr-4x ml-8x"},[e._v("检测到当前CPU使用率")]),t(ue,{attrs:{type:a.tagsType.cpu}},[e._v(e._s("占用".concat(a.cpuInfo.range,"%")))])],1)])]},proxy:!0},{key:"content-info",fn:function(){return[t("div",{staticClass:"max-h-[5.8rem] overflow-y-auto"},e._l(a.cpuCoreDesc,(function(a,n){return t("div",{key:n,staticClass:"flex direction-row items-center justify-between m-4x"},[t("span",[e._v(e._s(a.name))]),t("span",[e._v(e._s(a.value))])])})),0)]},proxy:!0},{key:"base-info",fn:function(){return[t("p",{staticClass:"!mx-4x !my-8x"},[e._v(e._s(a.cpu.framework))]),t("p",{staticClass:"!mx-4x !my-8x"},[e._v(" "+e._s(e.$t("HomeState.CpuHover",[a.cpu.cpuNumber,a.cpu.logicCores,a.cpu.cores]))+" ")])]},proxy:!0}])})],1)],1),t(ie,{attrs:{span:4,xs:12,sm:6,md:6,lg:4}},[t(Lt,{attrs:{type:"mem",info:a.memoryInfo},on:{show:function(e){return a.moveStatePopover()},hide:a.removeStatePopover}},[t(Tt,{attrs:{"load-type":"memoryInfo",data:a.specificResource,type:"mem","process-alarm-show":a.processAlarmShow},scopedSlots:e._u([{key:"button",fn:function(){return[t("div",{staticClass:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},[t("div",{staticClass:"flex items-center"},[t("span",{staticClass:"text-[#666] text-[1.4rem] mr-4x ml-8x"},[e._v("检测到当前内存")]),t(ue,{attrs:{type:a.tagsType.memory}},[e._v(e._s("占用".concat(a.memoryInfo.range,"%")))])],1),t(k,{attrs:{type:"primary"},on:{click:a.onClearMemory}},[e._v("立即清理")])],1)]},proxy:!0},{key:"base-info",fn:function(){return[t("div",{staticClass:"flex align-left flex-col"},[t("div",{staticClass:"flex justify-between m-4x"},[t("div",{staticClass:"w-[50%]"},[t("span",{staticClass:"w-[81px] inline-flex justify-end"},[e._v("可用：")]),t("span",{staticClass:"inline-flex justify-start"},[e._v(e._s(a.memory.memFree+" MB"))])]),t("div",{staticClass:"w-[50%]"},[t("span",{staticClass:"w-[81px] inline-flex justify-end"},[e._v("已用：")]),t("span",{staticClass:"inline-flex justify-start"},[e._v(e._s(a.memory.memRealUsed+" MB"))])])]),t("div",{staticClass:"flex justify-between m-4x"},[t("div",{staticClass:"w-[50%]"},[t("span",{staticClass:"w-[81px] inline-flex justify-end"},[e._v("总内存：")]),t("span",{staticClass:"inline-flex justify-start"},[e._v(e._s(a.memory.memTotal+" MB"))])]),t("div",{staticClass:"w-[50%]"},[t("span",{staticClass:"w-[81px] inline-flex justify-end"},[e._v("共享：")]),t("span",{staticClass:"inline-flex justify-start"},[e._v(e._s(a.memory.memShared+" MB"))])])]),t("div",{staticClass:"flex justify-between m-4x"},[t("div",{staticClass:"w-[50%]"},[t("span",{staticClass:"w-[81px] inline-flex justify-end"},[e._v(e._s("available："))]),t("span",[e._v(e._s(a.memory.memAvailable+"MB"))])]),t("div",{staticClass:"w-[50%]"},[t("span",{staticClass:"w-[81px] inline-flex justify-end"},[e._v("buff/cache：")]),t("span",{staticClass:"inline-flex justify-start"},[e._v(e._s(a.memory.memCached+"/"+a.memory.memBuffers+" MB"))])])])])]},proxy:!0}])})],1)],1),e._l(a.diskInfoList,(function(e,n){return[t(ie,{key:"".concat(n),attrs:{span:4,xs:12,sm:6,md:6,lg:4}},[t(Lt,{attrs:{info:e.info,type:"disk",data:e.data},on:{hide:a.removeStatePopover}},[t(Ht,{attrs:{item:e}})],1)],1)]}))],2)],1)},Dt=c(jt,$t,[],!1,null,"c2e965fb",null,null).exports,Mt={exports:{}};!function(t){t.exports=function(t){var a={};function n(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=a,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===e(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=112)}({0:function(e,t,a){function n(e,t,a,n,r,s,i,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),n&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return n}))},112:function(e,t,a){a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.ready,expression:"ready"}],staticClass:"el-carousel__item",class:{"is-active":e.active,"el-carousel__item--card":"card"===e.$parent.type,"is-in-stage":e.inStage,"is-hover":e.hover,"is-animating":e.animating},style:e.itemStyle,on:{click:e.handleItemClick}},["card"===e.$parent.type?a("div",{directives:[{name:"show",rawName:"v-show",value:!e.active,expression:"!active"}],staticClass:"el-carousel__mask"}):e._e(),e._t("default")],2)};n._withStripped=!0;var r=a(3),s=.83,i={name:"ElCarouselItem",props:{name:String,label:{type:[String,Number],default:""}},data:function(){return{hover:!1,translate:0,scale:1,active:!1,ready:!1,inStage:!1,animating:!1}},methods:{processIndex:function(e,t,a){return 0===t&&e===a-1?-1:t===a-1&&0===e?a:e<t-1&&t-e>=a/2?a+1:e>t+1&&e-t>=a/2?-2:e},calcCardTranslate:function(e,t){var a=this.$parent.$el.offsetWidth;return this.inStage?a*(1.17*(e-t)+1)/4:e<t?-1.83*a/4:3.83*a/4},calcTranslate:function(e,t,a){return this.$parent.$el[a?"offsetHeight":"offsetWidth"]*(e-t)},translateItem:function(e,t,a){var n=this.$parent.type,r=this.parentDirection,i=this.$parent.items.length;if("card"!==n&&void 0!==a&&(this.animating=e===t||e===a),e!==t&&i>2&&this.$parent.loop&&(e=this.processIndex(e,t,i)),"card"===n)this.inStage=Math.round(Math.abs(e-t))<=1,this.active=e===t,this.translate=this.calcCardTranslate(e,t),this.scale=this.active?1:s;else{this.active=e===t;var o="vertical"===r;this.translate=this.calcTranslate(e,t,o),this.scale=1}this.ready=!0},handleItemClick:function(){var e=this.$parent;if(e&&"card"===e.type){var t=e.items.indexOf(this);e.setActiveItem(t)}}},computed:{parentDirection:function(){return this.$parent.direction},itemStyle:function(){var e={transform:("vertical"===this.parentDirection?"translateY":"translateX")+"("+this.translate+"px) scale("+this.scale+")"};return Object(r.autoprefixer)(e)}},created:function(){this.$parent&&this.$parent.updateItems()},destroyed:function(){this.$parent&&this.$parent.updateItems()}},o=i,l=a(0),c=Object(l.a)(o,n,[],!1,null,null,null);c.options.__file="packages/carousel/src/item.vue";var u=c.exports;u.install=function(e){e.component(u.name,u)},t.default=u},3:function(e,t){e.exports=me()}})}(Mt);var Ot=it(Mt.exports),Et={exports:{}};!function(t){t.exports=function(t){var a={};function n(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=a,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===e(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=111)}({0:function(e,t,a){function n(e,t,a,n,r,s,i,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),n&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return n}))},111:function(e,t,a){a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.carouselClasses,on:{mouseenter:function(t){return t.stopPropagation(),e.handleMouseEnter(t)},mouseleave:function(t){return t.stopPropagation(),e.handleMouseLeave(t)}}},[a("div",{staticClass:"el-carousel__container",style:{height:e.height}},[e.arrowDisplay?a("transition",{attrs:{name:"carousel-arrow-left"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:("always"===e.arrow||e.hover)&&(e.loop||e.activeIndex>0),expression:"(arrow === 'always' || hover) && (loop || activeIndex > 0)"}],staticClass:"el-carousel__arrow el-carousel__arrow--left",attrs:{type:"button"},on:{mouseenter:function(t){e.handleButtonEnter("left")},mouseleave:e.handleButtonLeave,click:function(t){t.stopPropagation(),e.throttledArrowClick(e.activeIndex-1)}}},[a("i",{staticClass:"el-icon-arrow-left"})])]):e._e(),e.arrowDisplay?a("transition",{attrs:{name:"carousel-arrow-right"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:("always"===e.arrow||e.hover)&&(e.loop||e.activeIndex<e.items.length-1),expression:"(arrow === 'always' || hover) && (loop || activeIndex < items.length - 1)"}],staticClass:"el-carousel__arrow el-carousel__arrow--right",attrs:{type:"button"},on:{mouseenter:function(t){e.handleButtonEnter("right")},mouseleave:e.handleButtonLeave,click:function(t){t.stopPropagation(),e.throttledArrowClick(e.activeIndex+1)}}},[a("i",{staticClass:"el-icon-arrow-right"})])]):e._e(),e._t("default")],2),"none"!==e.indicatorPosition?a("ul",{class:e.indicatorsClasses},e._l(e.items,(function(t,n){return a("li",{key:n,class:["el-carousel__indicator","el-carousel__indicator--"+e.direction,{"is-active":n===e.activeIndex}],on:{mouseenter:function(t){e.throttledIndicatorHover(n)},click:function(t){t.stopPropagation(),e.handleIndicatorClick(n)}}},[a("button",{staticClass:"el-carousel__button"},[e.hasLabel?a("span",[e._v(e._s(t.label))]):e._e()])])})),0):e._e()])};n._withStripped=!0;var r=a(25),s=a.n(r),i=a(16),o={name:"ElCarousel",props:{initialIndex:{type:Number,default:0},height:String,trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:String,indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:String,loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator:function(e){return-1!==["horizontal","vertical"].indexOf(e)}}},data:function(){return{items:[],activeIndex:-1,containerWidth:0,timer:null,hover:!1}},computed:{arrowDisplay:function(){return"never"!==this.arrow&&"vertical"!==this.direction},hasLabel:function(){return this.items.some((function(e){return e.label.toString().length>0}))},carouselClasses:function(){var e=["el-carousel","el-carousel--"+this.direction];return"card"===this.type&&e.push("el-carousel--card"),e},indicatorsClasses:function(){var e=["el-carousel__indicators","el-carousel__indicators--"+this.direction];return this.hasLabel&&e.push("el-carousel__indicators--labels"),"outside"!==this.indicatorPosition&&"card"!==this.type||e.push("el-carousel__indicators--outside"),e}},watch:{items:function(e){e.length>0&&this.setActiveItem(this.initialIndex)},activeIndex:function(e,t){this.resetItemPosition(t),t>-1&&this.$emit("change",e,t)},autoplay:function(e){e?this.startTimer():this.pauseTimer()},loop:function(){this.setActiveItem(this.activeIndex)},interval:function(){this.pauseTimer(),this.startTimer()}},methods:{handleMouseEnter:function(){this.hover=!0,this.pauseTimer()},handleMouseLeave:function(){this.hover=!1,this.startTimer()},itemInStage:function(e,t){var a=this.items.length;return t===a-1&&e.inStage&&this.items[0].active||e.inStage&&this.items[t+1]&&this.items[t+1].active?"left":!!(0===t&&e.inStage&&this.items[a-1].active||e.inStage&&this.items[t-1]&&this.items[t-1].active)&&"right"},handleButtonEnter:function(e){var t=this;"vertical"!==this.direction&&this.items.forEach((function(a,n){e===t.itemInStage(a,n)&&(a.hover=!0)}))},handleButtonLeave:function(){"vertical"!==this.direction&&this.items.forEach((function(e){e.hover=!1}))},updateItems:function(){this.items=this.$children.filter((function(e){return"ElCarouselItem"===e.$options.name}))},resetItemPosition:function(e){var t=this;this.items.forEach((function(a,n){a.translateItem(n,t.activeIndex,e)}))},playSlides:function(){this.activeIndex<this.items.length-1?this.activeIndex++:this.loop&&(this.activeIndex=0)},pauseTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},startTimer:function(){this.interval<=0||!this.autoplay||this.timer||(this.timer=setInterval(this.playSlides,this.interval))},resetTimer:function(){this.pauseTimer(),this.startTimer()},setActiveItem:function(e){if("string"==typeof e){var t=this.items.filter((function(t){return t.name===e}));t.length>0&&(e=this.items.indexOf(t[0]))}if(e=Number(e),!isNaN(e)&&e===Math.floor(e)){var a=this.items.length,n=this.activeIndex;this.activeIndex=e<0?this.loop?a-1:0:e>=a?this.loop?0:a-1:e,n===this.activeIndex&&this.resetItemPosition(n),this.resetTimer()}},prev:function(){this.setActiveItem(this.activeIndex-1)},next:function(){this.setActiveItem(this.activeIndex+1)},handleIndicatorClick:function(e){this.activeIndex=e},handleIndicatorHover:function(e){"hover"===this.trigger&&e!==this.activeIndex&&(this.activeIndex=e)}},created:function(){var e=this;this.throttledArrowClick=s()(300,!0,(function(t){e.setActiveItem(t)})),this.throttledIndicatorHover=s()(300,(function(t){e.handleIndicatorHover(t)}))},mounted:function(){var e=this;this.updateItems(),this.$nextTick((function(){Object(i.addResizeListener)(e.$el,e.resetItemPosition),e.initialIndex<e.items.length&&e.initialIndex>=0&&(e.activeIndex=e.initialIndex),e.startTimer()}))},beforeDestroy:function(){this.$el&&Object(i.removeResizeListener)(this.$el,this.resetItemPosition),this.pauseTimer()}},l=o,c=a(0),u=Object(c.a)(l,n,[],!1,null,null,null);u.options.__file="packages/carousel/src/main.vue";var p=u.exports;p.install=function(e){e.component(p.name,p)},t.default=p},16:function(e,t){e.exports=de()},25:function(e,t){e.exports=ve()}})}(Et);var Rt=it(Et.exports),At=M({__name:"HomeNotice",setup:function(e){var t=s().refs,a=t.port,n=t.panelType,o=t.tencentCVM,l=t.tencentDataG,c=Ce().refs,u=c.refreshTime,p=c.memory,f=F().proxy,d=O(!1),h=O(!1),g=O(!1),y=O(!1),x=O(!1),_=A({instanceId:"",appId:"",secretId:"",secretKey:"",show:!0,PrivateAddresses:[],PublicAddresses:[],Region:"",RegionTitle:"",ExpiredTime:"",requestPack:{InstanceTrafficPackageSet:[],RequestId:"",TotalCount:0},requestInfoShow:!1,firstPhotoShow:!1,snapshotsList:[],SnapshotName:"",createSnapshotDisable:!1}),w=G((function(){return 8888===a.value})),b=G((function(){return d.value||h.value||w.value||g.value})),C=function(){g.value=!(window.location.protocol.indexOf("https")>=0)},k=function(){var e=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.$confirm({type:"calc",title:f.$t("HomeState.FreeMemoryTitle"),message:f.$t("HomeState.FreeMemoryMessage")});case 3:return e.next=5,Ee();case 5:t=e.sent,f.$message.request(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),S=G((function(){if(_.PrivateAddresses.length>0&&_.PublicAddresses.length>0){for(var e="<span>",t=0;t<_.PrivateAddresses.length;t++){e+=_.PrivateAddresses[t]+(t!=_.PrivateAddresses.length-1?"、":"")}e+="(内)</span>";var a="<span>";for(t=0;t<_.PublicAddresses.length;t++){a+=_.PublicAddresses[t]+(t!=_.PublicAddresses.length-1?"、":"")}return e+" / "+(a+="(外)</span>")}return"----"})),T=G((function(){return""!==_.Region&&""!==_.RegionTitle?_.RegionTitle+"-"+_.Region:"----"})),I=function(e){var t=new Date(e),a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),o=String(t.getSeconds()).padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(r," ").concat(s,":").concat(i,":").concat(o)},H=G((function(){return""!==_.ExpiredTime?I(_.ExpiredTime):"----"})),N=G((function(){if(_.requestPack.InstanceTrafficPackageSet.length>0){for(var e=_.requestPack.InstanceTrafficPackageSet[0],t=0,a=0,n=0;n<e.TrafficPackageSet.length;n++){var r=e.TrafficPackageSet[n];t+=r.TrafficPackageTotal,a+=r.TrafficUsed}return m(a)+"/"+m(t)}return"----"})),L=O(!1),j=function(){var e=i(r().mark((function e(){var t,a,s,i,c,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n.value&&"[]"!==n.value){e.next=2;break}return e.abrupt("return",x.value=!1);case 2:if(!(n.value.indexOf("tencent")>0)){e.next=46;break}return e.prev=3,x.value=!0,L.value=!0,e.next=8,Ae();case 8:if(t=e.sent,!(a=t.data)){e.next=39;break}return _.show=!1,_.secretKey=a.secretKey,_.appId=a.appid,_.secretId=a.secretId,e.next=17,Be();case 17:if(s=e.sent,i=s.data,l.value=i,_.instanceId=i.InstanceId,_.PrivateAddresses=i.PrivateAddresses,_.PublicAddresses=i.PublicAddresses,_.Region=i.Region,_.RegionTitle=i.Region_title,_.ExpiredTime=i.ExpiredTime||"","cvm"===i.server_type){e.next=35;break}return o.value=!1,e.next=30,Fe();case 30:c=e.sent,(u=c.data)&&u.msg&&(u.msg.indexOf("密钥连接错误")>-1||u.msg.indexOf("获取失败")>-1)?He({tips:"当前密钥错误，请重新绑定或取消当前密钥关联"}):_.requestPack=u,e.next=36;break;case 35:o.value=!0;case 36:L.value=!1,e.next=40;break;case 39:L.value=!1;case 40:e.next=44;break;case 42:e.prev=42,e.t0=e.catch(3);case 44:e.next=47;break;case 46:x.value=!1;case 47:case"end":return e.stop()}}),e,null,[[3,42]])})));return function(){return e.apply(this,arguments)}}(),$=G((function(){for(var e=[],t=0;t<_.requestPack.InstanceTrafficPackageSet.length;t++)for(var a=_.requestPack.InstanceTrafficPackageSet[t],n=0;n<a.TrafficPackageSet.length;n++){var r=a.TrafficPackageSet[n];e.push({TrafficPackageId:r.TrafficPackageId,TrafficPackageTotal:m(r.TrafficPackageTotal),TrafficUsed:m(r.TrafficUsed),TrafficPackageRemaining:m(r.TrafficPackageRemaining),TrafficPackageStart:I(r.StartTime),TrafficPackageEnd:I(r.EndTime)})}return e})),D=function(){var e=i(r().mark((function e(){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.firstPhotoShow=!0,e.next=3,Ue();case 3:t=e.sent,a=t.data,_.snapshotsList=a.SnapshotSet;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=i(r().mark((function e(){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.createSnapshotDisable=!0,e.next=3,Ge({SnapshotName:_.SnapshotName});case 3:return t=e.sent,a=t.data,_.createSnapshotDisable=!1,y.value=!1,f.$message.request(a),e.next=10,D();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=i(r().mark((function e(t){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.$confirm({icon:"warning",title:"删除["+t.SnapshotName+"]快照",message:"是否删除当前【".concat(t.SnapshotName,"】快照，删除后将无法恢复，是否继续？")});case 2:return e.next=4,Ve({SnapshotId:t.SnapshotId});case 4:return a=e.sent,f.$message.request(a),e.next=8,D();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.$confirm({icon:"warning",title:"更新腾讯云专版数据",message:"更新当前腾讯专版功能 (面板功能除外，面板更新请使用自带更新功能) ，是否继续操作?"});case 2:return e.next=4,qe();case 4:t=e.sent,f.$message.request(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return B(u,(function(e){var t=p.value,a=t.memTotal-t.memRealUsed;d.value=a<64})),E((function(){C(),j()})),{__sfc:!0,port:a,panelType:n,tencentCVM:o,tencentDataG:l,refreshTime:u,memory:p,vm:f,memoryStatus:d,usernameStatus:h,httpsStatus:g,visible:y,tencentShow:x,tencentData:_,tencentCloudPopup:function(e){e?He({appId:_.appId,secretId:_.secretId,secretKey:_.secretKey,isEdit:e||!1}):He()},portStatus:w,noticeStatus:b,detectingHttps:C,jumpConfig:function(){window.localStorage.setItem("config-dialog","ssl"),v("/config")},editPortInfo:function(){window.localStorage.setItem("config-dialog","port"),v("/config")},onClear:k,hostIp:S,hostPath:T,timeFormate:I,hostExpiredTime:H,hostRequestPackage:N,refresh:L,tencentCheck:j,gotoTencentCloud:function(){window.open("https://console.cloud.tencent.com/lighthouse/instance/detail?id="+_.instanceId)},requestPackTableData:$,getFirstPhoto:D,createSnapshot:M,gotHtml:function(e){window.open(e)},deleteSnapshot:R,updateTencentPanel:U,updateUsernameDialog:P}}}),Bt=c(At,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[a.noticeStatus?t(W,{staticClass:"module-box min-h-[5.2rem]",attrs:{shadow:"always","body-style":{padding:"0",display:"flex",minHeight:"5.2rem"}}},[t(Rt,{staticClass:"playTips",attrs:{height:"5.6rem",direction:"vertical"}},[a.memoryStatus?t(Ot,{key:1},[t("i",{staticClass:"el-icon-warning mr-8x text-[1.8rem]"}),t("span",{staticClass:"mr-16x"},[e._v(e._s(e.$t("HomeNotice.MemoryRiskMessage")))]),t(p,{directives:[{name:"t",rawName:"v-t",value:"HomeNotice.NotNegligible",expression:"'HomeNotice.NotNegligible'"}],staticClass:"align-middle mr-16x",attrs:{type:"info",title:"".concat(e.$t("HomeNotice.NotNegligibleTitle")),disabled:!0}}),t(p,{directives:[{name:"t",rawName:"v-t",value:"HomeNotice.ClearNow",expression:"`HomeNotice.ClearNow`"}],staticClass:"align-middle",on:{click:a.onClear}})],1):e._e(),a.usernameStatus?t(Ot,{key:2},[t("i",{staticClass:"el-icon-warning mr-8x text-[1.8rem]"}),t("div",{staticClass:"mr-16x"},[e._v(e._s(e.$t("HomeNotice.UsernameRiskMessage")))]),t(p,{directives:[{name:"t",rawName:"v-t",value:"HomeNotice.NotNegligible",expression:"'HomeNotice.NotNegligible'"}],staticClass:"align-middle mr-16x",attrs:{type:"info",title:"".concat(e.$t("HomeNotice.NotNegligibleTitle")),disabled:!0}}),t(p,{directives:[{name:"t",rawName:"v-t",value:"HomeNotice.RepairNow",expression:"'HomeNotice.RepairNow'"}],staticClass:"align-middle",on:{click:a.updateUsernameDialog}})],1):e._e(),a.portStatus?t(Ot,{key:3},[t("i",{staticClass:"el-icon-warning mr-8x text-[1.8rem]"}),t("div",{staticClass:"mr-16x"},[e._v(e._s(e.$t("HomeNotice.PortRiskMessage")))]),t(p,{directives:[{name:"t",rawName:"v-t",value:"HomeNotice.NotNegligible",expression:"'HomeNotice.NotNegligible'"}],staticClass:"align-middle mr-16x",attrs:{type:"info",title:"".concat(e.$t("HomeNotice.NotNegligibleTitle")),disabled:!0}}),t(p,{directives:[{name:"t",rawName:"v-t",value:"HomeNotice.RepairNow",expression:"'HomeNotice.RepairNow'"}],staticClass:"align-middle",attrs:{target:"_self"},on:{click:a.editPortInfo}})],1):e._e(),a.httpsStatus?t(Ot,{key:4},[t("i",{staticClass:"el-icon-warning mr-8x text-[1.8rem]"}),t("div",{staticClass:"mr-16x"},[e._v(" 警告！当前面板使用HTTP访问，可能存在被窃取敏感信息风险，请立即开启【面板SSL】。 ")]),t(p,{directives:[{name:"t",rawName:"v-t",value:"HomeNotice.NotNegligible",expression:"'HomeNotice.NotNegligible'"}],staticClass:"align-middle mr-16x",attrs:{type:"info",title:"".concat(e.$t("HomeNotice.NotNegligibleTitle")),disabled:!0}}),t(p,{staticClass:"align-middle",on:{click:a.jumpConfig}},[e._v("[立即处理]")])],1):e._e()],1)],1):e._e(),a.tencentShow?t(W,{directives:[{name:"loading",rawName:"v-loading",value:a.refresh,expression:"refresh"}],staticClass:"tencent min-h-[5.2rem] mb-[1.6rem]"},[t("div",{staticClass:"flex items-center px-[1rem] py-[1.4rem]"},[t("div",{staticClass:"tencent_division flex items-center"},[t("i",{staticClass:"tencent_ico"}),t("span",{staticClass:"text-[14px] text-[#666] font-semibold ml-[5px]"},[e._v("腾讯云专享版")])]),t("div",{staticClass:"mx-[1rem]"},[t("span",[e._v("主机IPv4：")]),t("span",{domProps:{innerHTML:e._s(a.hostIp)}})]),t("div",{staticClass:"mx-[1rem]"},[t("span",[e._v("区域：")]),t("span",[e._v(e._s(a.hostPath))])]),t("div",{staticClass:"mx-[1rem]"},[t("span",[e._v("到期时间：")]),t("span",[e._v(e._s(a.hostExpiredTime))])]),a.tencentData.requestPack.InstanceTrafficPackageSet.length>0?t("div",{staticClass:"mx-[1rem]"},[t("span",[e._v("流量包：")]),t("span",[e._v(e._s(a.hostRequestPackage))]),t(p,{staticClass:"ml-[0.5rem]",on:{click:function(e){a.tencentData.requestInfoShow=!0}}},[e._v("详情")])],1):e._e(),a.tencentData.show?t(k,{staticClass:"ml-[1rem]",on:{click:function(e){return a.tencentCloudPopup(!1)}}},[e._v("关联腾讯云API密钥")]):t("div",[t(k,{staticClass:"ml-[1rem]",on:{click:a.gotoTencentCloud}},[e._v("续费")]),t(k,{staticClass:"ml-[1rem]",on:{click:a.gotoTencentCloud}},[e._v("升级套餐")]),t(k,{staticClass:"ml-[1rem]",attrs:{type:"default"},on:{click:function(e){return a.tencentCloudPopup(!0)}}},[e._v("密钥管理")]),t(k,{staticClass:"ml-[1rem]",attrs:{type:"default"},on:{click:a.getFirstPhoto}},[e._v("快照")]),t(k,{staticClass:"ml-[1rem]",attrs:{type:"default"},on:{click:a.updateTencentPanel}},[e._v("更新")]),t(k,{staticClass:"ml-[1rem]",attrs:{type:"default"},on:{click:a.tencentCheck}},[e._v("刷新"),t("i",{staticClass:"el-icon-refresh-right el-icon--right size-[1.3rem]"})]),t(p,{staticClass:"ml-[1rem]",on:{click:function(e){return a.gotHtml("https://www.bt.cn/bbs/thread-66887-1-1.html")}}},[e._v("查看教程")])],1)],1),t(f,{attrs:{title:"流量包管理",visible:a.tencentData.requestInfoShow,area:[80,30]},on:{"update:visible":function(t){return e.$set(a.tencentData,"requestInfoShow",t)}}},[t("div",{staticClass:"p-[2rem]"},[t(he,{attrs:{data:a.requestPackTableData,border:"","max-height":"250"}},[t(ge,{attrs:{prop:"TrafficPackageId",label:"流量包ID",width:"120"}}),t(ge,{attrs:{prop:"TrafficPackageTotal",label:"总量"}}),t(ge,{attrs:{prop:"TrafficUsed",label:"已用"}}),t(ge,{attrs:{prop:"TrafficPackageRemaining",label:"剩余"}}),t(ge,{attrs:{prop:"TrafficPackageStart",label:"开始时间",width:"150"}}),t(ge,{attrs:{prop:"TrafficPackageEnd",label:"结束时间",width:"150"}})],1)],1)]),t(f,{attrs:{title:"腾讯云硬盘快照",visible:a.tencentData.firstPhotoShow,area:[60]},on:{"update:visible":function(t){return e.$set(a.tencentData,"firstPhotoShow",t)}}},[t("div",{staticClass:"p-[2rem]"},[t("div",{staticClass:"alert alert-danger",staticStyle:{"line-height":"20px"}},[e._v(" 温馨提示："),t("br"),e._v("1、每个地域的免费快照配额为已创建实例数"),t("span",{staticStyle:{"font-weight":"600"}},[e._v("(待回收实例和存储型套餐实例除外)乘以2")]),e._v("，且最多不超过4个。"),t("br"),e._v("2、使用存储型套餐的实例不支持创建快照。"),t("br"),e._v("3、创建快照通常可以在5分钟内完成，请耐心等待，创建过程中无需关机。"),t("br")]),t(S,{attrs:{placement:"right","popper-class":"test-popover",width:"200"},model:{value:a.visible,callback:function(e){a.visible=e},expression:"visible"}},[t("div",{staticClass:"p-[1rem]"},[t(ne,{staticClass:"mb-[1rem]",attrs:{disabled:a.tencentData.createSnapshotDisable,size:"mini",placeholder:"请输入快照名称"},model:{value:a.tencentData.SnapshotName,callback:function(t){e.$set(a.tencentData,"SnapshotName",t)},expression:"tencentData.SnapshotName"}}),t("div",{staticStyle:{"text-align":"right",margin:"0"}},[t(Y,{attrs:{size:"mini",type:"text"},on:{click:function(e){a.visible=!1}}},[e._v("取消")]),t(Y,{attrs:{type:"primary",size:"mini",loading:a.tencentData.createSnapshotDisable},on:{click:a.createSnapshot}},[e._v("确定")])],1)],1),t(k,{attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v("创建快照")])],1),t(he,{staticClass:"mt-[1rem]",attrs:{data:a.tencentData.snapshotsList,border:"","max-height":"250"}},[t(ge,{attrs:{prop:"SnapshotName",label:"快照名称",width:"120"}}),t(ge,{attrs:{prop:"CreatedTime",label:"创建时间",formatter:function(e){return a.timeFormate(e.CreatedTime)}}}),t(ge,{attrs:{prop:"TrafficUsed",label:"操作",align:"right"},scopedSlots:e._u([{key:"default",fn:function(n){return[t(p,{on:{click:function(e){return a.gotHtml("https://console.cloud.tencent.com/cvm/snapshot/list")}}},[e._v("回滚")]),t("div",{staticClass:"el-divider el-divider--vertical"}),t(p,{on:{click:function(e){return a.deleteSnapshot(n.row)}}},[e._v("删除")])]}}],null,!1,907043634)})],1)],1)])],1):e._e()],1)}),[],!1,null,"bd99b095",null,null).exports,Ft=M({__name:"index",setup:function(e){var t=O([]),a=s().refs.isGetCoupon,o=function(){var e=i(r().mark((function e(){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T();case 3:a=e.sent,t.value=a,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date((new Date).toLocaleDateString()).getTime()+6048e5-1,t=Math.floor(t>0?t/1e3:t),e.prev=2,e.next=5,I({limit_time:t});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2);case 10:a.value=!0;case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return E((function(){var e=Number(sessionStorage.getItem("HOME-ENDTIME"));e&&(e-Math.floor(Date.now()/1e3)<=0&&(a.value=!0,sessionStorage.removeItem("HOME-ENDTIME"),l()));setTimeout((function(){return o()}),3e3)})),{__sfc:!0,voucherList:t,isGetCoupon:a,getVoucherList:o,changeVoucher:function(){w({area:40,component:function(){return be((function(){return n.import("./voucherFetchView-legacy.js?v=1714377894636")}),void 0,n.meta.url)},customClass:"voucherFetchView",compData:{is_coupon:t.value,isHome:!0}})},changeCloseTime:l}}}),Ut=c(Ft,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.voucherList.length>0&&!a.isGetCoupon?t("div",{staticClass:"flex items-center px-[1rem] py-[.4rem] mr-8x rounded-2x recom-bg",on:{click:a.changeVoucher}},[t("span",{staticClass:"icon-end-time voucher-logo"},[t("span",{staticClass:"ml-4x font-bold text-[#ef9f00]"},[e._v("您有"+e._s(a.voucherList.length)+"个优惠券待领取")])])]):e._e()}),[],!1,null,"65fcf609",null,null).exports,Gt=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"flex flex-col"},[t("div",{staticClass:"user-info flex justify-between"},[t("div",{staticClass:"user-info-phone"},[e._v(e._s(a.bindUser))]),t("div",{staticClass:"user-info-fun"},[t("div",{staticClass:"user-info-fun-item"},[t("span",{staticClass:"user-switch text-{rgb(102, 102, 102)}",on:{click:a.bindUserDialog}},[e._v("切换")]),t(ut),t("span",{staticClass:"user-unbind text-{rgb(102, 102, 102)}",on:{click:a.unbindUser}},[e._v("解绑")])],1)])]),t("div",{staticClass:"user-ltd mt-[1.5rem]"},[t(W,{attrs:{"body-style":{padding:"0"}}},["pro"!==a.authType?t("div",{staticClass:"user-ltd-info p-[1.4rem] h-[4.6rem] flex items-center justify-between"},[t("div",{staticClass:"flex items-center"},[t("span",{staticClass:"h-[2.4rem] w-[6rem] mt-[0.2rem] bg-left bg-no-repeat cursor-pointer",class:a.ltdIcon,on:{click:a.productPayment}}),t("div",{staticClass:"ml-[0.4rem] text-[1.2rem]",class:0===a.authExpirationTime.value?"text-danger":"text-{#666}"},[e._v(" "+e._s(a.ltdInfo)+" ")])]),t(k,{on:{click:a.productPayment}},[e._v(e._s(a.ltdBtn))])],1):t("div",{staticClass:"user-ltd-info p-[1rem] pl-[1.4rem] pr-[1.4rem] h-[7.2rem] mt-[-0.5rem]"},[t("div",{staticClass:"flex items-center"},[t("span",{staticClass:"h-[2.4rem] w-[6rem] mt-[0.2rem] bg-left bg-no-repeat cursor-pointer",class:a.ltdIcon,on:{click:a.productPayment}}),t("div",{staticClass:"ml-[0.4rem] text-[1.2rem] text-{#666}"},[e._v(e._s(a.ltdInfo))])]),t("div",{staticClass:"flex justify-between items-end"},[t("span",{staticClass:"ml-[0.4rem] leading-none"},[e._v("企业版享有以下特权")]),t(k,{on:{click:a.productPayment}},[e._v(e._s(a.ltdBtn))])],1)]),t("div",{staticClass:"user-ltd-intro pb-[2rem] m-[0]"},[t("div",{staticClass:"user-ltd-intro-list flex flex-row flex-wrap justify-evenly items-center"},e._l(a.advantageList,(function(n,r){return t("div",{key:r,staticClass:"user-ltd-intro-item w-[14rem] mt-[1.4rem] flex justify-start"},[t("i",{class:"svgtofont-free-".concat(n[0],"-icon text-[1.8rem]  mr-[4px] text-[#9e6700]")}),t("span",{staticClass:"text-[#999999] text-[1.2rem] leading-[1.8rem]",class:"other"===n[0]?"other":"",on:{click:function(e){return a.goPricing(n[0])}}},[e._v(e._s(n[1]))])])})),0)])])],1),t("div",{staticClass:"user-choose mt-[1.2rem]"},[t(S,{ref:"userChooseItemPop",attrs:{"visible-arrow":!1,placement:"right",trigger:"hover","popper-class":"user-choose-pop"},model:{value:a.showItemPop,callback:function(e){a.showItemPop=e},expression:"showItemPop"}},[t("div",{staticClass:"flex items-center flex-col w-[17.2rem] shadow-[0_6px_8px_0px_rgba(0,0,0,0.25)]"},[t("div",{staticClass:"bg-[rgba(32, 165, 58, 0.1)] w-full h-[4.6rem] flex items-center justify-center"},[e._v(" > "),t(p,{staticClass:"text-[1.6rem] flex flex-row flex-nowrap items-center",attrs:{href:a.ltdCustomerUrl}},[t("div",{staticClass:"border-b border-solid flex"},[e._v(" 点击咨询客服 "),t("div",{staticClass:"icon-r1 w-[1.5rem] h-[1.8rem] mr-[.1rem] ml-[.5rem]"})])])],1),t("div",{staticClass:"qrcode-wechat w-[12.8rem] h-[12.8rem] mb-[.4rem]"},[t("div",{staticClass:"relative",attrs:{id:"wechatCustomerQrcode"}},[t(ct,{attrs:{value:a.ltdCustomerUrl,size:128}}),t(u,{staticClass:"absolute bg-white border-[0.2rem] border-lightest rounded-2x mr-4x w-2.4rem h-2.4rem top-[50%] left-[50%] -ml-1.2rem -mt-1.2rem",attrs:{src:"../icons/we-com.svg"}})],1)]),t("div",{staticClass:"wechat-title flex items-center mt-[1rem] mb-16x"},[t("img",{staticClass:"w-[1.7rem] h-[1.7rem]",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAATlJREFUSEvtVrFOw0AMfed8AxJsZWGAgQHBXP4DCQa+Ioou7g18BRIg9T/KDGJggIGFbiDxDXGQowSBuGvrFISEmtF+7/nis312RVEMiWgIoMT375aIjpj5KeJrTMy8JSJjAPsRzEhErl1Zlhd1XZ8kRKZEdMjM0xlBBiIyATCIYZxzl857X6uTiHaY+TElZrUz87aIPCjvI0gIwVmF5uG7H1gFmZepxv85XTdqCCEcLMQ0gLz3jbbTOm/rPdkLBt0v0E77xysq2it9T2nhuTzPN4ho10KyYEXkXvvkBcC6hWjEvmqQMwCnANZa8p1RJAbfa41vAM7/0cUzczOiZ43zvunrtPVOntuO3+wrluJ12qspvFBm/+bR+u03nhPrkKZk2ZVINUZO964sy44Ta9FSK5GuQ1VVXb0DLf+sHQ9tLL0AAAAASUVORK5CYII="}}),t("div",{staticClass:"scan-title text-[1.6rem] ml-[1rem] text-[#666666] font-bold"},[e._v("扫一扫")])]),"ltd"===a.authType?t(p,{staticClass:"text-[1.6rem] flex flex-row flex-nowrap items-center mb-[1.2rem]",on:{click:a.openExclusiveProNPS}},[e._v(" 企业版用户专属调研 ")]):e._e()],1)]),t("div",{directives:[{name:"popover",rawName:"v-popover:userChooseItemPop",arg:"userChooseItemPop"}],staticClass:"flex items-center"},[t("span",{staticClass:"user-choose-item"},[e._v(e._s(a.serviceName))]),t("i",{directives:[{name:"show",rawName:"v-show",value:"ltd"===a.authType,expression:"authType === 'ltd'"}],staticClass:"text-[7rem] h-[2rem] text-[#f0ad4e] flex justify-center items-center svgtofont-free-customer"})]),t("div",{on:{click:a.doLogin}},[t("span",{staticClass:"user-choose-item"},[e._v("退出登录")])])],1)])},Vt=c(M({__name:"HomeHeaderUserInfo",setup:function(e){var t=s(),a=t.refs,n=a.bindUser,r=a.userPhone,i=a.authType,c=a.authExpirationTime,u=t.openProNPS,p=O([["plunge","30+款付费插件"],["function","20+企业版专享功能"],["certificate","2张SSL商用证书"],["message","1000条免费短信"],["time","5分钟极速响应"],["other","更多特权>>"]]),f=O(!1),m=G((function(){switch(i.value){case"ltd":return"icon-paid-ltd";case"pro":return"icon-paid-pro";default:return"icon-unpaid-ltd"}})),d=G((function(){return"https://www.bt.cn/new/wechat_customer?".concat("ltd"===i.value?"vip=".concat(r.value):"")})),v=G((function(){var e=o(c.value,"yyyy-MM-dd");switch(i.value){case"ltd":return"".concat(e,"到期");case"pro":return 0===c.value?"永久授权":"".concat(e,"到期");default:return"免费版"}})),h=G((function(){return"ltd"===i.value?"续费":"立即升级"})),g=G((function(){return"ltd"===i.value?"您的专属客服 ":"帮助与客服"}));return{__sfc:!0,bindUser:n,userPhone:r,authType:i,authExpirationTime:c,openProNPS:u,advantageList:p,showItemPop:f,ltdIcon:m,ltdCustomerUrl:d,ltdInfo:v,ltdBtn:h,serviceName:g,goPricing:function(e){"other"===e&&window.open("https://www.bt.cn/new/pricing.html")},openExclusiveProNPS:function(){N()},productPayment:function(){l({disablePro:!0,sourceId:300})},bindUserDialog:H,unbindUser:tt,doLogin:at}}}),Gt,[],!1,null,"c482bb51",null,null).exports,qt=M({__name:"HomeHeader",setup:function(e){var t=s().refs,a=t.bindUser,o=t.configTabActive,l=Ce().refs,c=l.system,u=l.systemIcon,p=l.runningDays,f=l.isBeta,m=l.isUpgrade,d=l.panelVersion,v=l.simpleSystem,h=F().proxy,g=function(){var e=i(r().mark((function e(){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.$confirm({icon:"warning",title:h.$t("HomeHeader.RepairTitle"),message:"修复面板能修复使用中遇到的各种异常问题，并将面板更新到最新的正式版，是否继续操作？"});case 2:return e.prev=2,t=h.$load(h.$t("HomeHeader.RepairLoading")),e.next=6,j();case 6:if((a=e.sent).status){e.next=10;break}return t.close(),e.abrupt("return",h.$message.error(a.data.msg));case 10:a&&t.close(),w({title:"正在修复面板，请耐心等候...",area:52,component:function(){return be((function(){return n.import("./main-legacy.js?v=1714377894636").then((function(e){return e.ej}))}),void 0,n.meta.url)},compData:{type:"repair",logPath:"/www/server/panel/data/repair.log",endMsg:"REPIAR DONE"}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2);case 17:return e.prev=17,t&&t.close(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(){return e.apply(this,arguments)}}();return{__sfc:!0,bindUser:a,configTabActive:o,system:c,systemIcon:u,runningDays:p,isBeta:f,isUpgrade:m,panelVersion:d,simpleSystem:v,vm:h,goConfig:function(){o.value="alarm",location.href="/config"},onRepair:g,desiredNpsDialog:L,histVersionInfoDialog:Ne,restartSeverDialog:Le,updateVersionDialog:je}}}),zt=c(qt,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(W,{staticClass:"reset-card-header h-[5.2rem] text-1.2rem px-16x module-box !mt-0",attrs:{"body-style":{padding:"0",display:"flex",height:"5.2rem",alignItems:"center"},shadow:"always"}},[t("div",{staticClass:"home-header-box flex-1 flex items-center"},[t(S,{ref:"popover",attrs:{placement:"bottom",width:"328",offset:120,trigger:"hover","popper-class":"el-tooltip-white !p-16x"}},[t(Vt)],1),t("div",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"mr-16x"},[t("i",{staticClass:"iconfont mr-4x icon-user text-1.6rem"}),t("span",{staticClass:"user-phone"},[e._v(e._s(a.bindUser||e.$t("Getting")))])]),t(lt,{staticClass:"mr-16x",attrs:{text:!1,iconClass:"text-1.6rem",icon:"alarm",content:"告警"},on:{click:a.goConfig}}),t(lt,{staticClass:"mr-16x",attrs:{icon:"demand",iconClass:"text-1.6rem",content:"需求反馈"},on:{click:function(e){return a.desiredNpsDialog({type:7,isNoRate:!0})}}}),t(S,{ref:"systemPopover",attrs:{placement:"bottom",trigger:"hover","popper-class":"el-tooltip-white"}},[e._v(" "+e._s(e.$t("HomeHeader.System",{system:a.system||e.$t("Getting")}))+" "),t("span",{staticClass:"block"},[e._v(e._s(e.$t("HomeHeader.RunTime",{runningDays:a.runningDays||e.$t("Getting")})))])]),t("span",{directives:[{name:"popover",rawName:"v-popover:systemPopover",arg:"systemPopover"}],staticClass:"cursor-pointer"},[t("i",{class:"iconfont mr-4x text-1.4rem icon-"+a.systemIcon}),t("span",{staticClass:"dashed"},[e._v("系统："+e._s(a.simpleSystem||e.$t("Getting")))])])],1),t("div",{staticClass:"home-header-box"},[t(Ut),t(ot,{attrs:{"is-home":!0,"disable-pro":!0}}),t(p,{class:"versionInfo "+(a.isBeta?"mr-4":"mr-16x"),attrs:{type:"default",underline:!1},on:{click:a.histVersionInfoDialog}},[e._v(" "+e._s((a.isBeta?"Beta ":"")+a.panelVersion||e.$t("Getting"))+" ")]),a.isBeta?t(p,{directives:[{name:"t",rawName:"v-t",value:"HomeHeader.Reward",expression:"`HomeHeader.Reward`"}],staticClass:"mr-1.5rem reset-link bugFeedback",attrs:{href:"https://www.bt.cn/bbs/forum-39-1.html"}}):e._e(),t(ye,{staticClass:"mr-16x",attrs:{"is-dot":"",hidden:!a.isUpgrade}},[t(p,{directives:[{name:"t",rawName:"v-t",value:"HomeHeader.Update",expression:"`HomeHeader.Update`"}],attrs:{title:"点击获取最新版面板程序"},on:{click:a.updateVersionDialog}})],1),t(p,{directives:[{name:"t",rawName:"v-t",value:"HomeHeader.Repair",expression:"`HomeHeader.Repair`"}],staticClass:"mr-16x",attrs:{title:"修复面板会获取最新的面板代码程序，包含bug修复"},on:{click:a.onRepair}}),t(p,{directives:[{name:"t",rawName:"v-t",value:"HomeHeader.Restart",expression:"`HomeHeader.Restart`"}],staticClass:"mr-0",attrs:{title:"点击可选择重启面板或重启服务器"},on:{click:a.restartSeverDialog}})],1)])}),[],!1,null,"9cc0f3f4",null,null).exports,Kt=c(M({__name:"HomeLoginHelp",setup:function(e){var t=O({ip_info:{ip:"",info:""},last_login:{ip_info:{ip:"",info:""},login_time_str:""}});return E((function(){var e;t.value=JSON.parse(null!==(e=sessionStorage.getItem("loginInfo"))&&void 0!==e?e:"{}")})),{__sfc:!0,loginInfo:t}}}),(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[t("div",[e._v(" 当前登录信息： "),t("div",{staticClass:"login_message"},[t("div",{staticClass:"login_message_row"},[t("span",{staticClass:"login_message_title"},[e._v("IP")]),t("span",{staticClass:"login_message_content"},[e._v(e._s(a.loginInfo.ip_info.ip))])])])]),t("div",[e._v(" 上次登录信息： "),t("div",{staticClass:"login_message"},[t("div",{staticClass:"login_message_row"},[t("span",{staticClass:"login_message_title"},[e._v("IP")]),t("span",{staticClass:"login_message_content"},[e._v(" "+e._s(a.loginInfo.last_login.ip_info.ip)+" ")])]),t("div",{staticClass:"login_message_row"},[t("span",{staticClass:"login_message_title"},[e._v("时间")]),t("span",{staticClass:"login_message_content"},[e._v(e._s(a.loginInfo.last_login.login_time_str))])])])])])}),[],!1,null,"5aa7e850",null,null).exports,Wt={exports:{}};!function(t){t.exports=function(t){var a={};function n(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=a,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===e(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=80)}({0:function(e,t,a){function n(e,t,a,n,r,s,i,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),n&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return n}))},13:function(e,t){e.exports=xe()},23:function(e,t){e.exports=pt()},7:function(e,t){e.exports=z},80:function(e,t,a){a.r(t);var n=a(7),r=a.n(n),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-notification-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-notification",e.customClass,e.horizontalClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:function(t){e.clearTimer()},mouseleave:function(t){e.startTimer()},click:e.click}},[e.type||e.iconClass?a("i",{staticClass:"el-notification__icon",class:[e.typeClass,e.iconClass]}):e._e(),a("div",{staticClass:"el-notification__group",class:{"is-with-icon":e.typeClass||e.iconClass}},[a("h2",{staticClass:"el-notification__title",domProps:{textContent:e._s(e.title)}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.message,expression:"message"}],staticClass:"el-notification__content"},[e._t("default",[e.dangerouslyUseHTMLString?a("p",{domProps:{innerHTML:e._s(e.message)}}):a("p",[e._v(e._s(e.message))])])],2),e.showClose?a("div",{staticClass:"el-notification__closeBtn el-icon-close",on:{click:function(t){return t.stopPropagation(),e.close(t)}}}):e._e()])])])};s._withStripped=!0;var i={success:"success",info:"info",warning:"warning",error:"error"},o={data:function(){return{visible:!1,title:"",message:"",duration:4500,type:"",showClose:!0,customClass:"",iconClass:"",onClose:null,onClick:null,closed:!1,verticalOffset:0,timer:null,dangerouslyUseHTMLString:!1,position:"top-right"}},computed:{typeClass:function(){return this.type&&i[this.type]?"el-icon-"+i[this.type]:""},horizontalClass:function(){return this.position.indexOf("right")>-1?"right":"left"},verticalProperty:function(){return/^top-/.test(this.position)?"top":"bottom"},positionStyle:function(){var e;return(e={})[this.verticalProperty]=this.verticalOffset+"px",e}},watch:{closed:function(e){e&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},click:function(){"function"==typeof this.onClick&&this.onClick()},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose()},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;this.duration>0&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration))},keydown:function(e){46===e.keyCode||8===e.keyCode?this.clearTimer():27===e.keyCode?this.closed||this.close():this.startTimer()}},mounted:function(){var e=this;this.duration>0&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration)),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},l=a(0),c=Object(l.a)(o,s,[],!1,null,null,null);c.options.__file="packages/notification/src/main.vue";var u=c.exports,p=a(9),f=a.n(p),m=a(13),d=a(23),v=r.a.extend(u),h=void 0,g=[],y=1,x=function e(t){if(!r.a.prototype.$isServer){var a=(t=f()({},t)).onClose,n="notification_"+y++,s=t.position||"top-right";t.onClose=function(){e.close(n,a)},h=new v({data:t}),Object(d.isVNode)(t.message)&&(h.$slots.default=[t.message],t.message="REPLACED_BY_VNODE"),h.id=n,h.$mount(),document.body.appendChild(h.$el),h.visible=!0,h.dom=h.$el,h.dom.style.zIndex=m.PopupManager.nextZIndex();var i=t.offset||0;return g.filter((function(e){return e.position===s})).forEach((function(e){i+=e.$el.offsetHeight+16})),i+=16,h.verticalOffset=i,g.push(h),h}};["success","warning","info","error"].forEach((function(e){x[e]=function(t){return("string"==typeof t||Object(d.isVNode)(t))&&(t={message:t}),t.type=e,x(t)}})),x.close=function(e,t){var a=-1,n=g.length,r=g.filter((function(t,n){return t.id===e&&(a=n,!0)}))[0];if(r&&("function"==typeof t&&t(r),g.splice(a,1),!(n<=1)))for(var s=r.position,i=r.dom.offsetHeight,o=a;o<n-1;o++)g[o].position===s&&(g[o].dom.style[r.verticalProperty]=parseInt(g[o].dom.style[r.verticalProperty],10)-i-16+"px")},x.closeAll=function(){for(var e=g.length-1;e>=0;e--)g[e].close()};var _=x;t.default=_},9:function(e,t){e.exports=_e()}})}(Wt);var Xt=it(Wt.exports),Zt=M({__name:"HomeSoft",setup:function(e){var t=F().proxy,n=s(),o=n.refs.recommendInfo,c=n.getRecommendInfo,u=O([]),p=O(!1),f=O(!1),m=O(0),d=O(!1),y=O([]),x=[],_=function(e){return"/static/img/soft_ico".concat("/ico-",e.replace(/-+[{0-9},\.,]+$/,""),".png")},w=function(e,t){document.querySelectorAll(t)[0].style.display=e},C=function(){var e=i(r().mark((function e(){var t,a,n,s,i,o=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==(t=o.length>0&&void 0!==o[0]?o[0]:"")){e.next=6;break}return a=G((function(){if(!t)return y.value;var e=null==t?void 0:t.toLowerCase();return y.value.filter((function(t){var a,n,r;return(null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(n=t.ps)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(r=t.title)||void 0===r?void 0:r.toLowerCase().includes(e))}))})),0==x.length&&(x=a.value),y.value=a.value,e.abrupt("return");case 6:return e.next=8,ze({p:1,type:-1,tojs:"soft.get_list",query:t,force:0,row:100});case 8:n=e.sent,0==x.length&&(x=n.data.list.data),y.value=n.data.list.data,y.value=y.value.sort((function(e,t){return e.index_display?-1:1})),s=n.data.list.page.indexOf("共"),i=n.data.list.page.indexOf("条</span></div>"),m.value=Number.parseInt(n.data.list.page.substring(s+1,i));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=G((function(){var e=null,t=null;return I.value?(e=y.value.filter((function(e){return e.index_display})),t=y.value.filter((function(e){return!e.index_display}))):(e=u.value.filter((function(e){return e.index_display})),t=y.value.filter((function(e){return!e.index_display}))),e.concat(t)})),S=function(){var e=i(r().mark((function e(a){var n,s,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=x.filter((function(e){return e.index_display})).length,s=x.length==y.value.length,!(n>=12&&s||!s&&n>12)||!a.index_display){e.next=7;break}t.$message.error("首页最多只能显示12个软件!"),U((function(){a.index_display=!a.index_display})),e.next=20;break;case 7:if(o=t.$load("正在处理，请稍后..."),!a.index_display){e.next=14;break}return e.next=11,Ke(a.name);case 11:i=e.sent,e.next=17;break;case 14:return e.next=16,We(a.name);case 16:i=e.sent;case 17:t.$message.request(i),o.close(),i.status&&(y.value=y.value.map((function(e){return e.name===a.name&&(e.index_display=a.index_display),e})),x=x.map((function(e){return e.name===a.name&&(e.index_display=a.index_display),e})),u.value=x.filter((function(e){return e.index_display})),y.value=y.value.reverse(),y.value=y.value.sort((function(e,t){return e.index_display?-1:1})),N());case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){var t=e?x.filter((function(t){var a,n;if(null!==(a=t.title)&&void 0!==a&&a.toLowerCase().includes(null===(n=e.trim())||void 0===n?void 0:n.toLowerCase()))return{value:t.title}})):x,a=[];return t.forEach((function(e,t,n){a.push({value:e.title})})),a},T=O(""),I=O(!1),H=function(){var e=i(r().mark((function e(){var t,a,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p.value=!0,e.next=4,c();case 4:return e.next=6,Xe();case 6:t=e.sent,a=t.data,n=a.filter((function(e){return e.setup})),u.value=n,N(),p.value=!1,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0);case 17:return e.prev=17,p.value=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=o.value[1].list;if(u.value.length<12)for(var t=function(t){return u.value.length>=12?0:u.value.filter((function(a){return a.name===e[t].name})).length>0?1:void u.value.push(e[t])},a=0;a<e.length&&0!==t(a);a++);var n=12-u.value.length;if(u.value.length<12)for(var r=0;r<n;r++)u.value.push({})},L=function(){var e=i(r().mark((function e(){var t,a,n,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Math.ceil(m.value/12),!((a=Math.ceil(y.value.length/12))>=t)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,ze({p:a+1,type:-1,tojs:"soft.get_list",force:0,row:12});case 6:n=e.sent,s=n.data,y.value=y.value.concat(s.list.data);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=i(r().mark((function e(a){var n,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re({sName:a.name});case 2:if(n=e.sent,"-1"!==(s=n.data).task){e.next=6;break}return e.abrupt("return",t.$message.error("当前插件正在安装，不可重复安装"));case 6:g({name:s.name,type:s.type,pluginInfo:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return E((function(){H()})),{__sfc:!0,vm:t,recommendInfo:o,getRecommendInfo:c,maxSoftList:12,softList:u,isGetSoft:p,popShow:f,total:m,pageSize:12,tableLoading:d,mySoftList:y,softListBackup:x,renderSoftImages:_,changeStyle:w,showPopoverHandle:C,pageShowPluginList:k,changeSwitchHandle:S,goSoft:function(){v("/soft")},querySearch:function(e,t){t(P(e))},createFilter:P,pluginKeyword:T,isFilter:I,leave:function(e){var a=e.offsetX,n=e.offsetY,r=t.$refs.container.offsetWidth,s=t.$refs.container.offsetHeight;(a<0||n<0||a>=r||n>=s)&&("none"!=document.querySelectorAll(".soft-search-popover")[0].style.display?f.value=!0:(f.value=!1,T.value=""))},searchPluginHandle:function(){"select"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")&&w("none",".soft-search-popover"),""==T.value?(I.value=!1,C()):(I.value=!0,C(T.value))},getHomeInstallSoftData:H,createEnd:N,load:L,removePluginItem:function(e){var t=y.value.indexOf(e);y.value.splice(t,1,a(a({},e),{},{setup:!1})),We(e.name)},openLtdPayView:function(e){l({disablePro:!(8===e.type),sourceId:"total"===e.name?41:"btwaf"==e.name?40:42})},dragSortEvent:function(){var e=u.value.filter((function(e){return void 0!==e.id&&e.name})).map((function(e){return e.name})).join("|");Ze({ssort:e})},openSoftView:function(e){return h({pluginInfo:e}),!1},openRecommendSoftView:function(e){if(e.name&&!e.install&&!b(e.isBuy,"boolean"))return h({pluginInfo:e}),!1},checkImage:function(e){return new Promise((function(t){var a=new Image,n=_(e);a.src=n+".svg",a.onload=function(){t(n+".svg")},a.onerror=function(){t(n+".png")}}))},openInstall:j,openSoftPreLink:function(e){window.open(e.preview)},close:function(){},draggable:ke,isDev:$,isEmpty:D}}}),Jt=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(W,{staticClass:"module-box",attrs:{shadow:"always","body-style":{padding:0,display:"flex",height:"calc( 100% - 50px )"}},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"w-full flex justify-between items-center"},[t("div",{directives:[{name:"t",rawName:"v-t",value:"HomeSoft.Title",expression:"`HomeSoft.Title`"}],staticClass:"text-[1.6rem] text-#666 cursor-pointer",on:{click:a.goSoft}}),[t(S,{attrs:{"popper-class":" myPopover",placement:"right",width:"400",trigger:"manual",offset:290},on:{show:a.showPopoverHandle},model:{value:a.popShow,callback:function(e){a.popShow=e},expression:"popShow"}},[t("div",{ref:"container",staticClass:"plugin-box p-[2rem]",on:{mouseleave:a.leave}},[t("div",{staticClass:"plugin-search"},[t(we,{staticClass:"search-input",attrs:{placeholder:"请输入要搜索的应用","fetch-suggestions":a.querySearch,"trigger-on-focus":!1,"popper-class":"soft-search-popover"},on:{select:function(e){return a.searchPluginHandle()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.searchPluginHandle("select")}},model:{value:a.pluginKeyword,callback:function(e){a.pluginKeyword=e},expression:"pluginKeyword"}},[t(Y,{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return a.searchPluginHandle("select")}},slot:"append"})],1)],1),t(he,{directives:[{name:"table-scroll-load",rawName:"v-table-scroll-load",value:a.load,expression:"load"},{name:"loading",rawName:"v-loading",value:a.tableLoading,expression:"tableLoading"}],attrs:{data:a.mySoftList,height:"400"}},[t(ge,{attrs:{width:"260",property:"date",label:"软件名称"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("div",{staticClass:"pluginInfo"},[t("img",{staticClass:"plugin-img",attrs:{src:a.renderSoftImages(n.row.name)}}),t("span",{staticClass:"plugin-desc"},[e._v(e._s(n.row.title)+" "+e._s(n.row.version))])])]}}])}),t(ge,{attrs:{property:"setup",label:"首页显示"},scopedSlots:e._u([{key:"default",fn:function(n){return[t(ft,{attrs:{"active-color":"#20A53A","inactive-color":"#CDCDCD",width:32,size:"mini"},on:{change:function(e){return a.changeSwitchHandle(n.row)}},model:{value:n.row.index_display,callback:function(t){e.$set(n.row,"index_display",t)},expression:"scope.row.index_display"}})]}}])})],1)],1),t(Y,{ref:"softButton",attrs:{slot:"reference",type:"default",title:"软件自定义编辑"},on:{click:function(e){a.popShow=!a.popShow}},slot:"reference"},[t("i",{staticClass:"el-icon-arrow-down el-icon-setting text-[1.4rem]"})])],1)]],2)]},proxy:!0}])},[t(ee,{directives:[{name:"bt-loading",rawName:"v-bt-loading",value:a.isGetSoft,expression:"isGetSoft"},{name:"bt-loading",rawName:"v-bt-loading:title",value:"正在获取软件列表，请稍后...",expression:"'正在获取软件列表，请稍后...'",arg:"title"}],staticClass:"w-full h-full !z-99",attrs:{span:24}},[t(a.draggable,{staticClass:"wrapper",attrs:{handle:".mover",animation:"500",ghostClass:"ghost"},on:{sort:a.dragSortEvent},model:{value:a.softList,callback:function(e){a.softList=e},expression:"softList"}},[t("transition-group",e._l(a.softList,(function(n,r){return t(ie,{key:r+"_id",staticClass:"wrapper-item",attrs:{span:6}},[r<12?t("div",{staticClass:"text-center h-full",class:n.title?"box-wrapper cursor-pointer relative":""},[n.id&&n.setup?[t("div",{on:{click:function(e){return a.openSoftView(n)}}},[t("i",{staticClass:"soft-status-icon iconfont icon-drag mover cursor-move text-[1.6em] text-[#999] !hidden absolute right-6 top-6"}),t("div",{staticClass:"h-38 pt-5 w-full text-center flex justify-center items-center"},[t(u,{staticClass:"w-[4rem]",attrs:{src:a.renderSoftImages(n.name),custom:!a.isDev}})],1),t("div",{staticClass:"text-[#999] h-9 leading-9 flex items-center justify-center"},[t("span",[e._v(" "+e._s(n.title.replace(/PHP-[{0-9},\.]+/,"PHP-")+" "+n.version)+" ")]),t("i",{class:"iconfont ml-[4px] mt-[1px]  icon-".concat(n.status||"phpmyadmin"===n.name?"start":"stop text-[13px]")})])])]:a.isEmpty(n)?e._e():[t("div",{directives:[{name:"t",rawName:"v-t",value:"HomeSoft.Recommend",expression:"`HomeSoft.Recommend`"}],staticClass:"absolute -left-1.5 -top-1 py-.5 px-2 transform scale-75 bg-[#efefef] text-[#999] opacity-80",on:{click:function(e){return a.openRecommendSoftView(n)}}}),t("div",{staticClass:"h-28 pt-5 w-full text-center flex justify-center items-center"},[t(u,{staticClass:"w-[4rem]",attrs:{src:"".concat(a.isDev?"":"/static/img","/soft_ico/ico-").concat(n.name,".png"),custom:!a.isDev}})],1),t("div",{staticClass:"flex justify-center items-center"},[t("div",{staticClass:"text-[#999] h-9 leading-9 mr-2"},[e._v(" "+e._s(n.title)+" "+e._s(n.version)),t("span",{staticClass:"text-btColor"})])]),t("div",{staticClass:"flex justify-center align-middle mt-2 opacity-70"},[n.preview?t(k,{directives:[{name:"t",rawName:"v-t",value:"HomeSoft.Preview",expression:"`HomeSoft.Preview`"}],attrs:{type:"default",size:"mini",plain:""},on:{click:function(e){return a.openSoftPreLink(n)}}}):e._e(),n.isBuy?e._e():t(k,{directives:[{name:"t",rawName:"v-t",value:"HomeSoft.Purchase",expression:"`HomeSoft.Purchase`"}],attrs:{type:"success",size:"mini",plain:""},on:{click:function(e){return a.openLtdPayView(n)}}}),n.isBuy&&!n.install?t(k,{attrs:{type:"success",size:"mini",plain:""},on:{click:function(e){return a.openInstall(n)}}},[e._v(" 立即安装 ")]):e._e()],1)]],2):e._e()])})),1)],1)],1)],1)},Qt=c(Zt,Jt,[],!1,null,"24a918c6",null,null).exports,Yt=M({__name:"index",setup:function(e){var t=s().refs,a=t.isSetup,n=t.isRestart,o=Ce().getSystemInfo,l=O(!1),c=O(0),u=F().proxy,p=function(){var e=i(r().mark((function e(){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=(t=sessionStorage.getItem("loginInfo"))&&(null!=(a=JSON.parse(t))&&""!=a&&Xt({title:"登录成功",message:V(Kt),type:"success",position:"bottom-right",dangerouslyUseHTMLString:!0,customClass:"login-success"}),sessionStorage.removeItem("loginInfo"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:l.value&&(c.value&&clearTimeout(c.value),c.value=setTimeout((function(){f()}),4e3));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return B((function(){return a.value}),(function(){return!a.value&&$e()})),B((function(){return n.value}),(function(){l.value=!1,c.value&&clearTimeout(c.value)})),E(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.value=!0,f(),p();case 3:case"end":return e.stop()}}),e)})))),K((function(){var e=document.getElementById("prerender");if(e&&null!=e&&e.parentNode){var t=null==e?void 0:e.parentNode;e.style.opacity="0",setTimeout((function(){e&&null!=e&&e.parentNode&&(e.style.display="none",null==t||t.removeChild(e))}),500)}})),q((function(){l.value=!1})),{__sfc:!0,isSetup:a,isRestart:n,getSystemInfo:o,polling:l,pollingTimer:c,vm:u,monitorLoginInfo:p,pollingFn:f,HomeSoft:Qt}}});t("default",c(Yt,(function(){var e=this._self._c,t=this._self._setupProxy;return e("section",[e(ee,{attrs:{span:24}},[e(ie,{attrs:{span:24}},[e(zt),e(Bt),e(Dt),e(wt)],1)],1),e(ee,{attrs:{gutter:15,span:24}},[e(ie,{attrs:{md:12,sm:24,span:12,xs:24}},[e(t.HomeSoft,{staticClass:"h-[47.5rem] mb-0"})],1),e(ie,{attrs:{md:12,sm:24,span:12,xs:24}},[e(yt,{staticClass:"h-[47.5rem] mb-0"})],1)],1),e(dt,{staticClass:"mt-[1.6rem]"})],1)}),[],!1,null,null,null,null).exports)}}}))}();

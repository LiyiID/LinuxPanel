import{_ as e}from"./index39.js?v=1714377894636";import{n as a,q as t}from"./main.js?v=1714377894636";import{_ as s}from"./index85.js?v=1714377894636";import{_ as o}from"./index59.js?v=1714377894636";import{e as i,v as l,h as n,j as r}from"./vue-lib.js?v=1714377894636";import{a6 as m}from"./site.popup.js?v=1714377894636";import{bJ as p,bK as c}from"./site.store.js?v=1714377894636";import{c as d}from"./check.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import"./element-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./preload-helper.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./index38.js?v=1714377894636";import"./index45.js?v=1714377894636";import"./element-ui.common.js?v=1714377894636";import"./date-util.js?v=1714377894636";import"./vdom.js?v=1714377894636";import"./index62.js?v=1714377894636";import"./cascader-panel.js?v=1714377894636";const u=a(i({__name:"PythonModuleManager",props:{compData:{default:()=>{}}},setup(e){const a=e,{proxy:t}=r(),s=l({list:[],name:"",version:"",loading:!1}),o=async e=>{await t.$confirm({title:"卸载项目环境模块",message:"卸载".concat(e.name,"后，模块相关的全局变量将无法调用，是否继续？"),icon:"warning"});const s=await p({name:a.compData.name,act:"uninstall",p:e.name,v:e.version});t.$message.request(s),s.status&&u()},i=e=>null==e?void 0:e.map((e=>({name:e[0],version:e[1]}))),u=async()=>{try{s.loading=!0;const e=await c({name:a.compData.name});if(!e.status)return void t.$message.error(e.msg);const o=d(e.data,"array",[]);s.list=i(o)}catch(e){}finally{s.loading=!1}},f=m({deleteEvent:o});return n((async()=>{u()})),{__sfc:!0,vm:t,props:a,modulesData:s,deleteEvent:o,installModule:async()=>{try{if(""===s.name)return void t.$message.error("请输入模块名称");const e=await p({name:a.compData.name,act:"install",p:s.name,v:s.version});t.$message.request(e),e.status&&(s.name="",s.version="",u())}catch(e){}},formatList:i,getTableList:u,tableColumns:f}}}),(function(){var a=this,i=a._self._c,l=a._self._setupProxy;return i("div",{staticClass:"relative p-16x"},[i(o,{scopedSlots:a._u([{key:"header-left",fn:function(){return[i("div",{staticClass:"flex items-center"},[i(s,{staticStyle:{width:"270px"},attrs:{placeholder:"虚拟环境模块名称",clearable:""},model:{value:l.modulesData.name,callback:function(e){a.$set(l.modulesData,"name",e)},expression:"modulesData.name"}}),i(s,{staticStyle:{width:"160px"},attrs:{placeholder:"模块版本",clearable:""},model:{value:l.modulesData.version,callback:function(e){a.$set(l.modulesData,"version",e)},expression:"modulesData.version"}}),i(t,{staticClass:"!ml-[2rem]",on:{click:l.installModule}},[a._v("安装模块")])],1)]},proxy:!0},{key:"content",fn:function(){return[i(e,{directives:[{name:"loading",rawName:"v-loading",value:l.modulesData.loading,expression:"modulesData.loading"}],ref:"sitePyTable",attrs:{"element-loading-text":"正在加载中...",data:l.modulesData.list,"max-height":400,column:l.tableColumns}})]},proxy:!0}])})],1)}),[],!1,null,"12b2f789",null,null).exports;export{u as default};

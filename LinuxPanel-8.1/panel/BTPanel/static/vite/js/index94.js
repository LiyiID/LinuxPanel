import{_ as t}from"./index51.js?v=1714377894636";import{_ as e}from"./index77.js?v=1714377894636";import{_ as i}from"./preload-helper.js?v=1714377894636";import{e as r,b as s,h as a,j as o,v as l}from"./vue-lib.js?v=1714377894636";import{f as n,ca as c,aM as m,n as u,g as d}from"./main.js?v=1714377894636";import{_ as p}from"./index84.js?v=1714377894636";import{_ as f}from"./index91.js?v=1714377894636";import{_ as v}from"./index39.js?v=1714377894636";import{_}from"./index59.js?v=1714377894636";import{c as x}from"./check.js?v=1714377894636";import"./locales-lib.js?v=1714377894636";import{b as y}from"./firewall.popup.js?v=1714377894636";import{a as b,b as h}from"./firewall.table.js?v=1714377894636";import{L as g}from"./echarts.js?v=1714377894636";import"./element-lib.js?v=1714377894636";import"./__commonjsHelpers__.js?v=1714377894636";import"./public-lib.js?v=1714377894636";import"./index42.js?v=1714377894636";import"./request-lib.js?v=1714377894636";import"./modulepreload-polyfill.js?v=1714377894636";import"./index46.js?v=1714377894636";import"./index.vue_vue_type_style_index_0_lang.js?v=1714377894636";import"./index38.js?v=1714377894636";import"./index45.js?v=1714377894636";const w=u(r({__name:"InitOverview",setup(t){const{proxy:e}=o(),i=s(),r=s(!1),l=s(),u=s(),d=s(!1),p=s({}),f=s([]),v=s(),_=s(),w=s(!1),j=s(!1),C=t=>{var e;t.length<=0?r.value=!0:(r.value=!1,null==(e=i.value)||e.setOption(k(t)))},k=(t={})=>{let e=[],i=[],r=[];for(var s=0;s<t.length&&!(s>=5);s++){var a=t[s];i.push(a.site_name),e.push(a.end_time-a.start_time),r.push(a.scans)}return{legend:{left:"left",data:["耗时","检测页面"]},grid:{left:45,top:50,right:15,bottom:20,backgroundColor:"#888"},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(t){return t.length?"检测网站: "+t[0].name+(2===t.length?"</br>耗时: "+m(t[0].value)+"</br>检测页面数量: "+t[1].value:t[0].seriesIndex?"</br>检测页面数量: "+t[0].value:"</br>耗时: "+m(t[0].value)):""}},xAxis:{type:"category",data:i,scale:!0,triggerEvent:!0,axisLabel:{formatter:function(t){let e="";return t.length>6?(e=t.substr(0,6)+"...",e):t}}},yAxis:{type:"value"},series:[{type:"bar",name:"耗时",barWidth:24,data:e,itemStyle:{color:"#fcc858"}},{type:"bar",name:"检测页面",barWidth:24,data:r,itemStyle:{color:"#8dcf6e"}}]}},E=t=>{var e;null==(e=l.value)||e.setOption(I(t))},I=(t={})=>{let e=[],i=[];for(var r in t)e.push(r);e=e.sort((function(t,e){return new Date(t).getTime()<new Date(e).getTime()?-1:1}));for(var s=0;s<e.length;s++)i.push(t[e[s]]);return{grid:{left:45,right:15,top:40,bottom:20,backgroundColor:"#888"},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(t){return t[0].name+"</br>风险次数: "+t[0].value}},xAxis:{type:"category",boundaryGap:!1,data:e,axisLabel:{fontSize:10,color:"#666",formatter:function(t){return n(new Date(t).getTime()/1e3,"MM-dd")}}},axisLabel:{fontSize:10,color:"#666"},axisLine:{show:!1},axisTick:{show:!1},yAxis:{type:"value",splitNumber:5,name:"风险次数/次",min:0,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{fontSize:10,color:"#666"}},series:[{type:"line",smooth:.6,data:i,areaStyle:{normal:{color:new g(0,0,0,1,[{offset:0,color:"#FF9E9E"},{offset:1,color:"#FFF6F6"}],!1)}},itemStyle:{normal:{color:"#FF8585",lineStyle:{color:"#FF8585",type:"solid"}}}}]}},S=t=>{t.length<=0?d.value=!0:(d.value=!1,u.value.setOption(L(t)))},L=(t={})=>{for(var e=[],i=[],r=0;r<t.length&&!(r>=6);r++){var s=t[r];e.push(s.words),i.push(s.count)}return{grid:{top:10,left:60,right:15,bottom:20,backgroundColor:"#888"},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(t){return"敏感词: "+t[0].name+"</br>次数: "+t[0].value}},xAxis:{type:"value"},yAxis:{type:"category",data:e,scale:!0,triggerEvent:!0,axisLabel:{formatter:function(t){return t.length>4?t.substr(0,4)+"...":t}}},series:[{type:"bar",data:i,barWidth:20,itemStyle:{color:function(t){return["#ffa688","#ffc87d","#98caa5","#acce9b","#cad48f"][t.dataIndex]}}}]}},R=async()=>{const{data:t}=await c();p.value=t,v.value=x(p.value.site_info,"array",[]),_.value=x(p.value.risk_info,"array",[]),w.value=p.value.site_info.length<=0,j.value=p.value.risk_info.length<=0,f.value=[{title:"监控网站",value:p.value.site_count},{title:"总风险次数",value:p.value.risk_count},{title:"今日风险次数",value:p.value.day_risk},{title:"今日巡检次数",value:p.value.today_count}],C(v.value),E(p.value["7day_risk"]),S(p.value.sensitive_word)},D=(t,e)=>{},P=t=>{var e;t.source_file;(null==(e=t.risk_type)?void 0:e.indexOf("_update"))>-1||t.content},F=t=>{y(t)},A=b({showRiskDetails:F}),T=h({showFileEvent:P});return a((()=>{R()})),{__sfc:!0,vm:e,riskEchartRef:i,riskEmpty:r,dayRiskEchartRef:l,sensitiveWordEchartRef:u,sensitiveWordEmpty:d,allInfoData:p,infoPanel:f,siteInfo:v,riskInfo:_,siteInfoEmpty:w,riskInfoEmpty:j,setRiskConfig:C,getDefaultOption:k,setDayRiskConfig:E,getDayRiskConfig:I,setSensitiveWordConfig:S,getSensitiveWordConfig:L,initOverview:R,showBothFile:(t,e)=>{},showFile:D,showFileEvent:P,showRiskDetails:F,siteInfoColumn:A,riskInfoColumn:T}}}),(function(){var t=this,e=t._self._c,i=t._self._setupProxy;return e("div",{staticClass:"flex py-20x"},[e("div",{staticClass:"w-[60%] mr-4"},[e("div",{staticClass:"flex ml-[0.2rem] mb-[1.6rem]"},t._l(i.infoPanel,(function(i,r){return e("div",{key:r,class:"block-bg flex shadow flex-1 flex-col py-[2.2rem] my-[0.5rem] items-center rounded-4x justify-center "+(r>0?"ml-[5rem]":"")},[e("div",{staticClass:"flex items-center mb-[1.2rem] text-[#999]"},[e("span",[t._v(t._s(i.title))])]),e("div",{class:"font-bold text-[2rem] leading-none "+(0!==r&&3!==r&&i.value>0?"text-[#fe7d2e]":"text-[#666]")},[t._v(" "+t._s(i.value)+" ")])])})),0),e("div",{staticClass:"border-1 border-[#e9e9e9] rounded-4x p-[1.6rem]"},[e("div",{staticClass:"card_title flex items-center text-[#666] text-[1.4rem] mb-[1.2rem]"},[t._v(" 网站内容检测 ")]),i.siteInfoEmpty?e("div",{staticClass:"w-full h-[32rem] flex items-center justify-center"},[e(p,{attrs:{description:"网站内容检测为空"}})],1):e(_,{scopedSlots:t._u([{key:"content",fn:function(){return[e(v,{attrs:{"max-height":"320",column:i.siteInfoColumn,data:i.siteInfo}})]},proxy:!0}])})],1),e("div",{staticClass:"border-1 border-[#e9e9e9] rounded-4x p-[1.6rem] mt-[1.6rem]"},[e("div",{staticClass:"card_title flex items-center text-[#666] text-[1.4rem] mb-[1.2rem]"},[t._v(" 风险动态 ")]),i.riskInfoEmpty?e("div",{staticClass:"w-full h-[32rem] flex items-center justify-center"},[e(p,{attrs:{description:"风险动态为空"}})],1):e(_,{scopedSlots:t._u([{key:"content",fn:function(){return[e(v,{attrs:{"max-height":"320",column:i.riskInfoColumn,data:i.riskInfo}})]},proxy:!0}])})],1)]),e("div",{staticClass:"flex-1 ml-4"},[e("div",{staticClass:"border-1 border-[#e9e9e9] rounded-4x p-[1.6rem]"},[e("div",{staticClass:"card_title flex items-center text-[#666] text-[1.4rem] mb-[1.2rem]"},[t._v(" 风险历史 ")]),i.riskEmpty?e("div",{staticClass:"w-full h-[24rem] flex items-center justify-center"},[e(p,{attrs:{description:"风险历史数据为空"}})],1):e("div",{staticClass:"w-full h-[24rem]"},[e(f,{ref:"riskEchartRef"})],1)]),e("div",{staticClass:"border-1 border-[#e9e9e9] rounded-4x p-[1.6rem] mt-[1.6rem]"},[e("div",{staticClass:"card_title flex items-center text-[#666] text-[1.4rem] mb-[1.2rem]"},[t._v(" 近7日巡检情况 ")]),e("div",{staticClass:"w-full h-[24rem]"},[e(f,{ref:"dayRiskEchartRef"})],1)]),e("div",{staticClass:"border-1 border-[#e9e9e9] rounded-4x p-[1.6rem] mt-[1.6rem]"},[e("div",{staticClass:"card_title flex items-center text-[#666] text-[1.4rem] mb-[1.2rem]"},[t._v(" 敏感词排行 ")]),i.sensitiveWordEmpty?e("div",{staticClass:"w-full h-[24rem] flex items-center justify-center"},[e(p,{attrs:{description:"敏感词排行数据为空"}})],1):e("div",{staticClass:"w-full h-[24rem]"},[e(f,{ref:"sensitiveWordEchartRef"})],1)])])])}),[],!1,null,null,null,null).exports;const j=u(r({__name:"index",setup(t){const{refs:{authType:e}}=d(),{proxy:r}=o(),n=s("overviewList"),c=s([{title:"概览",type:"overviewList",component:w},{title:"监控列表",type:"monitorList",component:()=>i((()=>import("./InitMonitorList.js?v=1714377894636")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)},{title:"检测历史",type:"detectHistory",component:()=>i((()=>import("./InitDetectHistory.js?v=1714377894636")),__vite__mapDeps([23,24,3,2,4,5,6,7,8,9,10,1,11,15,25,16,17,18,19,20,21,22,14]),import.meta.url)},{title:"风险列表",type:"riskList",component:()=>i((()=>import("./InitRiskList.js?v=1714377894636")),__vite__mapDeps([26,24,3,2,4,5,6,7,8,9,10,1,11,15,25,16,17,18,19,20,21,22,14]),import.meta.url)}]),m=l({title:"违规词检测-功能介绍",ps:"违规词检测能帮助检测网站内容中的合法及非法字段，并输出对应的检测结果，利用图表充分展示各个域名的风险历史、检测情况、敏感词排行等，并实时输出风险动态。",source:111,desc:["违规词内容检测","网页内容修改检测","输出检测报告"],tabImgs:[{title:"概览",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/firewall/content_detect_detail_1.png"},{title:"监控列表",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/firewall/content_detect_detail_2.png"},{title:"检测历史",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/firewall/content_detect_detail_3.png"},{title:"风险列表",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/firewall/content_detect_detail_4.png"},{title:"检测报告",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/firewall/content_detect_detail_5.png"}]});return a((()=>{})),{__sfc:!0,authType:e,vm:r,tabAvtive:n,tabComponent:c,productData:m}}}),(function(){var i=this._self._c,r=this._self._setupProxy;return i("div",{},["ltd"===r.authType?i(e,{attrs:{type:"navtwo",config:r.tabComponent},model:{value:r.tabAvtive,callback:function(t){r.tabAvtive=t},expression:"tabAvtive"}}):i(t,{staticClass:"px-[20%] my-[8rem]",attrs:{data:r.productData}})],1)}),[],!1,null,null,null,null).exports;export{j as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./InitMonitorList.js?v=1714377894636","./index39.js?v=1714377894636","./element-lib.js?v=1714377894636","./__commonjsHelpers__.js?v=1714377894636","./vue-lib.js?v=1714377894636","./public-lib.js?v=1714377894636","./main.js?v=1714377894636","./modulepreload-polyfill.js?v=1714377894636","./preload-helper.js?v=1714377894636","./request-lib.js?v=1714377894636","./locales-lib.js?v=1714377894636","./element-lib.js?v=1714377894636","./index58.js?v=1714377894636","./element-lib.js?v=1714377894636","./index45.js?v=1714377894636","./index59.js?v=1714377894636","./check.js?v=1714377894636","./firewall.table.js?v=1714377894636","./index46.js?v=1714377894636","./element-lib.js?v=1714377894636","./index.vue_vue_type_style_index_0_lang.js?v=1714377894636","./firewall.popup.js?v=1714377894636","./index38.js?v=1714377894636","./InitDetectHistory.js?v=1714377894636","./index52.js?v=1714377894636","./firewall.store.js?v=1714377894636","./InitRiskList.js?v=1714377894636"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
